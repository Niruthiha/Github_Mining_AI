[
  {
    "issue_number": 11403,
    "title": "Using keyboard navigation with Dataframe components is very difficult/impossible (for users with accessibility issues)",
    "author": "seanpedrick-case",
    "state": "open",
    "created_at": "2025-06-17T12:26:29Z",
    "updated_at": "2025-06-17T12:26:29Z",
    "labels": [
      "bug"
    ],
    "body": "### Describe the bug\n\nI am looking into whether Gradio components can meet accessibility requirements within my organisation - one requirement is the need to be able to use components with keyboard only. Many of the Gradio components are useable with keyboard, but the Dataframe component seems to be particularly unintuitive and borderline unusable in its current implementation when using keyboard only.\n\nUsing the code below I encountered a number of issues when trying to use a Dataframe component with the keyboard. In general, I expect to be able to use the tab key to move between components, and within the Dataframe I would expect to be be able to use arrow keys to move between cells. Here's a breakdown of the main problems:\n- When I tab from the Radio options to the Dataframe, there is no visual indication that I am now in the Dataframe, or which cell I currently have selected.\n- Pressing tab again does not move me to the next component (the textbox that says 'Data to submit' in the example), and there again is no visual indication on which cell I currently have selected. For me, intuitively 'tab' should just move me between components, and should not be used at all to move me between cells in the Dataframe.\n- If I press Enter and I happen to have a cell selected (not visible), I then have the edit cell outline highlighted, and I can modify a cell value. But instead of pressing Enter to finalise the edit (which would seem to be intuitive to me), it seems then I have to press tab on the keyboard.\n- Sometimes when I press Enter with a cell outline highlighted after editing, the navigation seems frozen, and I have to press tab again 'unblock' the navigation to be able to move cell.\n- Even when I go to the cell in the bottom right of the table and press tab on the keyboard, it seems I cannot escape the Dataframe and move to the next component. In fact, I haven't found a way to move from the Dataframe to the next component at all using keyboard.\n- Currently I have a click event that takes the Dataframe value and passes this to the textbox below. It seems that this only works with a mouse click, and not when pressing 'Enter' on the keyboard (perhaps this feature has never been implemented so not really a bug, but would be nice to have!).\n- When I use the search function to the top right of the Dataframe (e.g. search 'Mouse'), then I navigate through Dataframe cells using the keyboard arrows, it seems like the cell outline is disappearing and reappearing when I go up and down. This suggested to me that I may be navigating the original 'pre-search' data instead of the searched data? This means that the user is cycling through the full data that is not visible on the screen - not intuitive.\n- A side issue - gr.Radio components with the \"default\" theme highlight the currently selected choice. However, Radio components using the theme of this demo (gr.themes.Base()) do not seem to highlight the currently selected choice at all.\n\nNone of the above is a blocker for me obviously as mouse use can overcome these issues. However, when considering accessibility requirements, this may make Gradio apps with Dataframe components a non-starter for situations where keyboard-only usage is a requirement.\n\nThanks for a great package and all your hard work to make Gradio awesome.\n\nSean\n\n\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\nimport gradio as gr\nimport pandas as pd\n\n# Simple functioin to return values from a gr.DataFrame and a gr.Textbox\ndef process_data(df, text_input, value):\n    print(\"DataFrame submitted:\")\n    print(df)\n    print(f\"Data to submit: {value}\")\n    return f\"{text_input}! Data submitted successfully! Data value to submit: {value}\"\n\n# Selecting a dataframe cell will write to the value_input box\ndef df_select_value(df: pd.DataFrame, evt: gr.SelectData):\n    value = evt.value\n    return value\n\n# Generic data for gr.DataFrame\ninitial_data = pd.DataFrame({\n    \"Product\": [\"Laptop\", \"Mouse\", \"Keyboard\", \"Monitor\"],\n    \"Quantity\": [10, 20, 15, 5],\n    \"Price_per_Unit\": [1200.00, 25.00, 75.00, 300.00]\n})\n\nwith gr.Blocks(theme = gr.themes.Base()) as demo:\n    gr.Markdown(\"## Keyboard Navigation Demo\")\n\n    # When using the keyboard with a radio component, it is possible to cycle through options with tab, but with theme gr.themes.Base() the options are not highlighted on screen. They are visible in the default theme (i.e. use \"default\" as the theme above). Options can be selected with spacebar.\n    text_input = gr.Radio(label=\"Radio to test keyboard tabbing through options. Press spacebar to select\", value=\"Hello\", choices=[\"Hello\", \"Good day\", \"Bonjour\"])\n\n    # The interactive DataFrame. Currently, when tabbing into the gr.DataFrame and attempting to use arrow buttons, it is not clear which cell is currently selected. Pressing tab appears to navigate cells within the DataFrame, but again, it is not clear to the user which cell is currently selected. There is no way to use tab to get out of the DataFrame to the next component (the value_input textbox). Even when you get to the last row (bottom right), I cannot find a way to use tab to get out of the component to the next one.\n    dataframe = gr.Dataframe(\n        value=initial_data,\n        show_search='search',\n        label=\"Test gr.DataFrame - Inventory Data\",\n        interactive=True\n    )\n\n    # A component after the DataFrame\n    value_input = gr.Textbox(label=\"Data to submit\")\n    \n    # Currently, it seems like the 'select' method only works with a mouse click on a DataFrame row. There is no way to make this keyboard accessible as far as I can see - e.g. 'Enter' on the keyboard could be used to initiate a select event in the same way a mouse click could.\n    dataframe.select(df_select_value, inputs=[dataframe], outputs=[value_input])\n    \n    submit_btn = gr.Button(\"Submit All Data\")\n    output_msg = gr.Textbox(label=\"Result\")\n\n    submit_btn.click(\n        fn=process_data,\n        inputs=[dataframe, text_input, value_input],\n        outputs=output_msg\n    )    \n\ndemo.launch()\n\n\n### Screenshot\n\n_No response_\n\n### Logs\n\n```shell\n\n```\n\n### System Info\n\n```shell\ngradio=5.34.0\npython=3.11.11\nTested with Opera, Chrome, and Edge\n```\n\n### Severity\n\nI can work around it",
    "comments": []
  },
  {
    "issue_number": 10362,
    "title": "When running lazy caching, `gr.Progress(track_tqdm=True)` is not displayed",
    "author": "hysts",
    "state": "closed",
    "created_at": "2025-01-15T06:48:42Z",
    "updated_at": "2025-06-17T06:25:41Z",
    "labels": [
      "bug",
      "Priority"
    ],
    "body": "### Describe the bug\n\nThe progress bar is not shown while running an example when `cache_examples=True, cache_mode=\"lazy\"`.\r\n(BTW, it's weird, but for some reason, infinite loop mentioned in #6690 doesn't occur for `diffusers` pipelines. I wanted to provide a simpler repro, but got the same issue as #6690 , so I'm using a bit more complicated sample here.)\r\nI was always seeing this issue when creating ZeroGPU Spaces, so I thought it was an issue of ZeroGPU, but it turned out that this occurs in my local env as well and seems to be a gradio issue.\n\n### Have you searched existing issues?  🔎\n\n- [X] I have searched and found no existing issues\n\n### Reproduction\n\n```python\r\nimport gradio as gr\r\nimport PIL.Image\r\nimport torch\r\nfrom diffusers import AutoencoderKL, DiffusionPipeline\r\n\r\ndevice = torch.device(\"cuda:0\" if torch.cuda.is_available() else \"cpu\")\r\nvae = AutoencoderKL.from_pretrained(\"madebyollin/sdxl-vae-fp16-fix\", torch_dtype=torch.float16)\r\npipe = DiffusionPipeline.from_pretrained(\r\n    \"stabilityai/stable-diffusion-xl-base-1.0\",\r\n    vae=vae,\r\n    torch_dtype=torch.float16,\r\n    use_safetensors=True,\r\n    variant=\"fp16\",\r\n)\r\npipe.to(device)\r\n\r\n\r\ndef generate(\r\n    prompt: str,\r\n    progress: gr.Progress = gr.Progress(track_tqdm=True),  # noqa: ARG001, B008\r\n) -> PIL.Image.Image:\r\n    generator = torch.Generator().manual_seed(0)\r\n\r\n    return pipe(\r\n        prompt=prompt,\r\n        width=1024,\r\n        height=1024,\r\n        guidance_scale=5.0,\r\n        num_inference_steps=25,\r\n        generator=generator,\r\n        output_type=\"pil\",\r\n    ).images[0]\r\n\r\n\r\nwith gr.Blocks() as demo:\r\n    prompt = gr.Text(show_label=False, placeholder=\"Enter your prompt\", submit_btn=True)\r\n    out = gr.Image()\r\n    gr.Examples(examples=[\"cat\"], inputs=prompt, outputs=out, fn=generate, cache_examples=True, cache_mode=\"lazy\")\r\n    prompt.submit(fn=generate, inputs=prompt, outputs=out)\r\ndemo.launch()\r\n```\r\n\n\n### Screenshot\n\n\r\nhttps://github.com/user-attachments/assets/ce8767fd-483a-4c59-a1b5-24dc0bb07921\r\n\r\n\n\n### Logs\n\n_No response_\n\n### System Info\n\n```shell\ngradio==5.12.0\n```\n\n\n### Severity\n\nI can work around it",
    "comments": []
  },
  {
    "issue_number": 6690,
    "title": "Infinite loop when Progress() is called at the startup with Examples(cache_examples=True)",
    "author": "ironjr",
    "state": "closed",
    "created_at": "2023-12-06T18:24:35Z",
    "updated_at": "2025-06-17T06:25:41Z",
    "labels": [
      "bug",
      "Priority"
    ],
    "body": "### Describe the bug\n\nPossible infinite loop occurs when you try to call examples at the startup with `cache_examples=True` option.\r\n\r\n### Problem 1: Infinite loop.\r\n\r\n- Progress bar `gr.Progress()` iterated within a callback function called by manual interaction -> No problem.\r\n- Progress bar `gr.Progress()`  iterated within a callback function from manually selected and called examples -> No problem.\r\n- Progress bar `gr.Progress()`  iterated within a callback function from automatic caching process at startup with `cache_examples=True` option in `gr.Examples() -> Infinite loop.\r\n\r\n### Problem 2: tqdm output error.\r\n\r\nAdditionally, in case of infinite loop, the value of the iterator is not the iterable element but `<gradio.helpers.Progress object at 0x7f304622e280>`. (It should be integer, list element, etc.)\n\n### Have you searched existing issues?  🔎\n\n- [X] I have searched and found no existing issues\n\n### Reproduction\n\n```python\r\nimport time\r\nimport gradio as gr\r\n\r\n\r\ndef foo(progress=gr.Progress()):\r\n    for i in progress.tqdm(range(10)):\r\n        print(i)\r\n        time.sleep(0.5)\r\n\r\n\r\nwith gr.Blocks() as demo:\r\n    gr.Examples(\r\n        [[], [], []],\r\n        inputs=[],\r\n        outputs=[],\r\n        fn=foo,\r\n        cache_examples=True,\r\n    )\r\n\r\ndemo.queue().launch()\r\n```\r\n\n\n### Screenshot\n\n![image](https://github.com/gradio-app/gradio/assets/12259041/a7714b1a-0559-4cda-9e1e-e3a9dd0ad05c)\r\n\n\n### Logs\n\n_No response_\n\n### System Info\n\n```shell\nGradio Environment Information:\r\n------------------------------\r\nOperating System: Linux\r\ngradio version: 4.8.0\r\ngradio_client version: 0.7.1\r\n\r\n------------------------------------------------\r\ngradio dependencies in your environment:\r\n\r\naiofiles: 23.2.1\r\naltair: 5.2.0\r\nfastapi: 0.104.1\r\nffmpy: 0.3.1\r\ngradio-client==0.7.1 is not installed.\r\nhttpx: 0.25.2\r\nhuggingface-hub: 0.19.4\r\nimportlib-resources: 6.1.1\r\njinja2: 3.1.2\r\nmarkupsafe: 2.1.3\r\nmatplotlib: 3.8.2\r\nnumpy: 1.26.2\r\norjson: 3.9.10\r\npackaging: 23.2\r\npandas: 2.1.3\r\npillow: 10.1.0\r\npydantic: 2.5.2\r\npydub: 0.25.1\r\npython-multipart: 0.0.6\r\npyyaml: 6.0.1\r\nrequests: 2.31.0\r\nsemantic-version: 2.10.0\r\ntomlkit==0.12.0 is not installed.\r\ntyper: 0.9.0\r\ntyping-extensions: 4.8.0\r\nuvicorn: 0.24.0.post1\r\nauthlib; extra == 'oauth' is not installed.\r\nitsdangerous; extra == 'oauth' is not installed.\r\n\r\n\r\ngradio_client dependencies in your environment:\r\n\r\nfsspec: 2023.10.0\r\nhttpx: 0.25.2\r\nhuggingface-hub: 0.19.4\r\npackaging: 23.2\r\nrequests: 2.31.0\r\ntyping-extensions: 4.8.0\r\nwebsockets: 11.0.3\n```\n\n\n### Severity\n\nBlocking usage of gradio",
    "comments": [
      {
        "user": "abidlabs",
        "body": "Hi, apologies for the late follow up. We haven't had a chance to look into this issue, but the Gradio codebase has changed quite significantly since this issue was created, particularly with the release of Gradio 5. Could you let us know if this is still an issue in the latest version of Gradio (`pip install --upgrade gradio`)? Thanks!\r\n"
      },
      {
        "user": "abidlabs",
        "body": "Closing the issue for now, but can reopen if the issue continues to persist in the latest version of Gradio"
      },
      {
        "user": "hysts",
        "body": "@abidlabs It seems that this issue still persists in `gradio==5.12.0`."
      }
    ]
  },
  {
    "issue_number": 11095,
    "title": "[DataFrame] sorting does not work for styler dataframe",
    "author": "jamie0725",
    "state": "open",
    "created_at": "2025-04-29T05:56:09Z",
    "updated_at": "2025-06-17T05:53:40Z",
    "labels": [
      "bug",
      "Priority"
    ],
    "body": "### Describe the bug\n\nI am using the latest gradio version 5.27.1\n\n<img width=\"316\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/9ed6bcea-6222-451c-923f-a0a6d22a58c6\" />\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\n```python\nimport gradio as gr\n\n```\n\n\n### Screenshot\n\n_No response_\n\n### Logs\n\n```shell\n\n```\n\n### System Info\n\n```shell\ngradio==5.27.1\n```\n\n### Severity\n\nBlocking usage of gradio",
    "comments": [
      {
        "user": "abidlabs",
        "body": "Related: https://github.com/gradio-app/gradio/issues/11001"
      },
      {
        "user": "jamie0725",
        "body": "@abidlabs For reference, here is the style function I apply the dataframe on:\n(without the function sorting works as normal)\n```python\ndef process_style(df: pd.DataFrame) -> pd.DataFrame:\n    \"\"\"Process and style the DataFrame with precision, color, and alignment.\n\n    Args:\n        df (pd.DataFrame): DataFrame to process.\n\n    Returns:\n        pd.DataFrame: Styled DataFrame.\n    \"\"\"\n\n    # format float columns to 2 decimal places\n    float_cols = df.select_dtypes(include=\"float\").columns\n    df[float_cols] = df[float_cols].map(lambda x: f\"{x:.2f}\")\n\n    # apply color styling to the column\n    def style_color(value: float) -> str:\n        color = \"red\" if value >= 0 else \"green\"\n        return f\"color: {color}\"\n\n    # create a Styler object and apply styles\n    styled_df = df.style.map(style_color, subset=[COLUMN_NAME_COLOR])\n\n    # align float columns to the right\n    styled_df = styled_df.set_properties(**{\"text-align\": \"right\"}, subset=float_cols)\n\n    return styled_df\n```"
      },
      {
        "user": "deckar01",
        "body": "I added some logging around `Table::sort_data()`. It is being called 6 times per sort interaction. The first call correctly sorts the data, and the 2nd call preserves the order. By the time the data is passed back into `sort_data()` for a 3rd time the `value` attributes are in the correct order, but the `display_value` and `id` attributes have been corrupted. The  `display_value`s are reverting to their original ordering, and the `id` properties are all different. I have yet to find the code causing the display values to revert."
      }
    ]
  },
  {
    "issue_number": 11402,
    "title": "Passing a list of chat history as output in ChatInterface automatically changes all messages role to \"assistant\"",
    "author": "jasonleekungfu",
    "state": "open",
    "created_at": "2025-06-17T05:16:41Z",
    "updated_at": "2025-06-17T05:16:41Z",
    "labels": [
      "bug"
    ],
    "body": "### Describe the bug\n\nI am using ChatInterface to create chatbot, with ChatGPT style chat session management. In doing that, I need to return a list of chat history instead of a string in fn function. I see it is allowed. I assume the intention is to print out the entire conversation (w/ message roles of both \"user\" and \"assistant\"). However, I noticed ChatInterface automatically changed all message role to \"assistant\". Is this a bug that needs to be fixed? I hope so because I prefer ChatInterface since it saves a lot of trouble writing my own submit/interrupt and multimodal logic. \n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\n```python\nimport gradio as gr\n\ndef new_message:\n    return [\n        {'role': 'user', 'content': \"Hi there!\"},\n        {'role': 'assistant', 'content': \"Hello! How can I help you today?\"},\n        {'role': 'user', 'content': \"Can you summarize the news?\"},\n        {'role': 'assistant', 'content': \"Sure! Here's a brief summary of today's top news...\"}\n    ]\n\nchatbot = gr.Chatbot(\n    type=\"messages\"\n)\nchatinterface = gr.ChatInterface(\n    fn=new_message,\n    type=\"messages\", \n    chatbot=chatbot\n)\n\n```\n\n\n### Screenshot\n\n_No response_\n\n### Logs\n\n```shell\n\n```\n\n### System Info\n\n```shell\n5.34.0\n```\n\n### Severity\n\nI can work around it",
    "comments": []
  },
  {
    "issue_number": 10208,
    "title": "Cannot use `gr.Accordion` as output for `gr.Checkbox.change`",
    "author": "acylam",
    "state": "closed",
    "created_at": "2024-12-16T10:37:16Z",
    "updated_at": "2025-06-17T03:11:31Z",
    "labels": [
      "docs/website",
      "Priority"
    ],
    "body": "### Describe the bug\r\n\r\nI'm trying to toggle a `gr.Accordion`'s visibility based on a `gr.Checkbox` selection, but run into this error:\r\n```\r\ngradio.exceptions.InvalidComponentError: <class 'gradio.layouts.accordion.Accordion'> Component not a valid output component.\r\n```\r\n\r\nThis doesn't seem to happen when I set an accordion as an output for other event listeners like `gr.Button.click`. Does `gr.Checkbox.change` currently not support `gr.Accordion` as output?\r\n\r\n### Have you searched existing issues?  🔎\r\n\r\n- [X] I have searched and found no existing issues\r\n\r\n### Reproduction\r\n\r\n```python\r\nimport gradio as gr\r\n\r\n\r\ndef toggle_accordion(\r\n    accordion_toggle: bool,\r\n):\r\n    if accordion_toggle:\r\n        output_accordion = gr.Accordion(visible=True)\r\n    else:\r\n        output_accordion = gr.Accordion(visible=False)\r\n\r\n    return [output_accordion]\r\n\r\n\r\nwith gr.Blocks() as demo:\r\n    accordion_toggle = gr.Checkbox(\r\n        value=True,\r\n        label=\"Accordion toggle\",\r\n        show_label=True,\r\n        interactive=True,\r\n        visible=True,\r\n    )\r\n\r\n    with gr.Accordion(\r\n        label=\"this is an accordion\", open=True, visible=True\r\n    ) as accordion:\r\n        gr.Markdown(\"some text\")\r\n\r\n    accordion_toggle.change(\r\n        fn=toggle_accordion,\r\n        inputs=[accordion_toggle],\r\n        outputs=[accordion],\r\n    )\r\n\r\nif __name__ == \"__main__\":\r\n    demo.launch()\r\n\r\n```\r\n\r\n\r\n### Screenshot\r\n\r\n![image](https://github.com/user-attachments/assets/b9bb7dc0-c0a5-4a87-aaeb-c468115a4e8b)\r\n\r\n\r\n### Logs\r\n\r\n```shell\r\ngradio.exceptions.InvalidComponentError: <class 'gradio.layouts.accordion.Accordion'> Component not a valid output component.\r\n```\r\n\r\n\r\n### System Info\r\n\r\n```shell\r\nGradio Environment Information:\r\n------------------------------\r\nOperating System: Linux\r\ngradio version: 5.8.0\r\ngradio_client version: 1.5.1\r\n\r\n------------------------------------------------\r\ngradio dependencies in your environment:\r\n\r\naiofiles: 23.2.1\r\nanyio: 3.7.1\r\naudioop-lts is not installed.\r\nfastapi: 0.115.6\r\nffmpy: 0.3.2\r\ngradio-client==1.5.1 is not installed.\r\nhttpx: 0.25.0\r\nhuggingface-hub: 0.26.5\r\njinja2: 3.1.2\r\nmarkupsafe: 2.1.5\r\nnumpy: 1.26.4\r\norjson: 3.10.1\r\npackaging: 24.0\r\npandas: 2.2.3\r\npillow: 10.3.0\r\npydantic: 2.4.2\r\npydub: 0.25.1\r\npython-multipart: 0.0.19\r\npyyaml: 6.0.1\r\nruff: 0.4.1\r\nsafehttpx: 0.1.6\r\nsemantic-version: 2.10.0\r\nstarlette: 0.41.3\r\ntomlkit: 0.12.0\r\ntyper: 0.12.3\r\ntyping-extensions: 4.11.0\r\nurllib3: 2.2.1\r\nuvicorn: 0.23.2\r\nauthlib; extra == 'oauth' is not installed.\r\nitsdangerous; extra == 'oauth' is not installed.\r\n\r\n\r\ngradio_client dependencies in your environment:\r\n\r\nfsspec: 2024.3.1\r\nhttpx: 0.25.0\r\nhuggingface-hub: 0.26.5\r\npackaging: 24.0\r\ntyping-extensions: 4.11.0\r\nwebsockets: 11.0.3\r\n```\r\n\r\n\r\n### Severity\r\n\r\nI can work around it",
    "comments": [
      {
        "user": "abidlabs",
        "body": "Hi @acylam I can reproduce the issue, but I can't reproduce the error not happening when I set an accordion as an output for other event listeners like `gr.Button.click`. For example, this produces the same error:\r\n\r\n```py\r\nimport gradio as gr\r\n\r\n\r\ndef toggle_accordion(at: bool):\r\n    return gr.Accordion(visible=False)\r\n\r\n\r\nwith gr.Blocks() as demo:\r\n    b = gr.Button()\r\n\r\n    with gr.Accordion(\r\n        label=\"this is an accordion\", open=True, visible=True\r\n    ) as accordion:\r\n        gr.Markdown(\"some text\")\r\n\r\n    b.click(\r\n        fn=toggle_accordion,\r\n        inputs=[accordion_toggle],\r\n        outputs=[accordion],\r\n    )        \r\n\r\nif __name__ == \"__main__\":\r\n    demo.launch()\r\n```\r\n\r\nCan you share an example where an accordion _is_ working as an output component?"
      },
      {
        "user": "acylam",
        "body": "> ```python\r\n> [accordion_toggle]\r\n> ```\r\n\r\nHi @abidlabs , thanks for swift response. Your example gives an error because `accordion_toggle` is not defined. Here's an example that works:\r\n```python\r\nimport gradio as gr\r\n\r\n\r\ndef toggle_accordion():\r\n    return gr.Accordion(visible=False)\r\n\r\n\r\nwith gr.Blocks() as demo:\r\n    b = gr.Button()\r\n\r\n    with gr.Accordion(\r\n        label=\"this is an accordion\", open=True, visible=True\r\n    ) as accordion:\r\n        gr.Markdown(\"some text\")\r\n\r\n    b.click(\r\n        fn=toggle_accordion,\r\n        inputs=None,\r\n        outputs=[accordion],\r\n    )        \r\n\r\nif __name__ == \"__main__\":\r\n    demo.launch()\r\n```"
      },
      {
        "user": "acylam",
        "body": "The current work around is to use a button to simulate a checkbox and use a `gr.State` to track the visibility of the accordion and reverse it, but I'll have to tweak the CSS to change the look of the button and there's one extra variable I have to keep track of.\r\n```python\r\nimport gradio as gr\r\n\r\n\r\ndef toggle_accordion(accordion_visibility: bool):\r\n    new_accordion = gr.Accordion(visible=not accordion_visibility)\r\n    return [not accordion_visibility, new_accordion]\r\n\r\n\r\nwith gr.Blocks() as demo:\r\n    b = gr.Button(\"Toggle Accordion Visibility\")\r\n\r\n    with gr.Accordion(\r\n        label=\"this is an accordion\", open=True, visible=True\r\n    ) as accordion:\r\n        gr.Markdown(\"some text\")\r\n\r\n    accordion_visibility = gr.State(accordion.visible)\r\n\r\n    b.click(\r\n        fn=toggle_accordion,\r\n        inputs=[accordion_visibility],\r\n        outputs=[accordion_visibility, accordion],\r\n    )        \r\n\r\nif __name__ == \"__main__\":\r\n    demo.launch()\r\n```"
      }
    ]
  },
  {
    "issue_number": 9131,
    "title": "Gallery `columns` and `rows` are not responsive to CSS breakpoints",
    "author": "dvruette",
    "state": "closed",
    "created_at": "2024-08-16T12:41:19Z",
    "updated_at": "2025-06-17T03:11:30Z",
    "labels": [
      "bug",
      "docs/website",
      "Priority",
      "Regression"
    ],
    "body": "### Describe the bug\n\nWhen a list of more than 1 value is passed to `gr.Gallery`, the documentation states that the different values are active at different breakpoints (https://www.gradio.app/docs/gradio/gallery#initialization):\r\n\r\n> `columns: int | list[int] | Tuple[int, ...] | None`\r\n> Represents the number of images that should be shown in one row, for each of the six standard screen sizes (<576px, <768px, <992px, <1200px, <1400px, >1400px). If fewer than 6 are given then the last will be used for all subsequent breakpoints\r\n\r\nThis is however not how it's actually implemented, as the variable gets passed to Svelte unmodified. For example, the following Python code results in the subsequent generated HTML:\r\n```python\r\ngr.Gallery(columns=[1, 2, 3, 4], rows=[1, 1, 1, 1])\r\n```\r\n```html\r\n<div class=\"grid-container svelte-1glfvaj pt-6\" style=\"--grid-cols: 1,2,3,4;--grid-rows: 1,1,1,1;--object-fit: cover;height: auto;\">\r\n  ...\r\n</div>\r\n```\r\n\r\nConsidering that this feature used to work ~1 year ago, I think it's safe to say that this is a bug rather than a documentation error.\n\n### Have you searched existing issues?  🔎\n\n- [X] I have searched and found no existing issues\n\n### Reproduction\n\n```python\r\nimport gradio as gr\r\n\r\nwith gr.Blocks() as app:\r\n  gr.Gallery(columns=[1, 2, 3, 4], rows=[1, 1, 1, 1])\r\n\r\napp.launch(debug=True)\r\n\r\n```\n\n### Screenshot\n\n_No response_\n\n### Logs\n\n_No response_\n\n### System Info\n\n```shell\n------------------------------\r\nOperating System: Darwin\r\ngradio version: 4.41.0\r\ngradio_client version: 1.3.0\r\n\r\n------------------------------------------------\r\ngradio dependencies in your environment:\r\n\r\naiofiles: 23.2.1\r\nanyio: 4.2.0\r\nfastapi: 0.109.0\r\nffmpy: 0.3.1\r\ngradio-client==1.3.0 is not installed.\r\nhttpx: 0.26.0\r\nhuggingface-hub: 0.20.3\r\nimportlib-resources: 6.1.1\r\njinja2: 3.1.3\r\nmarkupsafe: 2.1.4\r\nmatplotlib: 3.8.2\r\nnumpy: 1.26.3\r\norjson: 3.9.12\r\npackaging: 23.2\r\npandas: 2.2.0\r\npillow: 10.2.0\r\npydantic: 2.5.3\r\npydub: 0.25.1\r\npython-multipart: 0.0.9\r\npyyaml: 6.0.1\r\nruff: 0.6.0\r\nsemantic-version: 2.10.0\r\ntomlkit==0.12.0 is not installed.\r\ntyper: 0.12.3\r\ntyping-extensions: 4.9.0\r\nurllib3: 2.1.0\r\nuvicorn: 0.27.0\r\nauthlib; extra == 'oauth' is not installed.\r\nitsdangerous; extra == 'oauth' is not installed.\r\n\r\n\r\ngradio_client dependencies in your environment:\r\n\r\nfsspec: 2023.12.2\r\nhttpx: 0.26.0\r\nhuggingface-hub: 0.20.3\r\npackaging: 23.2\r\ntyping-extensions: 4.9.0\r\nwebsockets: 11.0.3\n```\n\n\n### Severity\n\nBlocking usage of gradio",
    "comments": []
  },
  {
    "issue_number": 11401,
    "title": "Error when accessing spaces from Hugging Face https://huggingface.co/ or API",
    "author": "wellsww",
    "state": "open",
    "created_at": "2025-06-17T00:22:31Z",
    "updated_at": "2025-06-17T00:22:31Z",
    "labels": [
      "bug"
    ],
    "body": "### Describe the bug\n\nI receive a consistent error when submitting a question or any text to my chatbot spaces. They were working fine a week or so ago.  \n\nI am logged in and tried resolving the issue by creating a new space and changing my password, I get the same error.\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\nLogin to Hugging Face.\n\nNavigate to https://huggingface.co/yourfprofile\n\nCreate a private Gradio client space chatbot. \n\nNavigate to the space.\n\nEnter any text and click submit.\n\n\n\n### Screenshot\n\n![Image](https://github.com/user-attachments/assets/d89a6ad1-d712-4e3e-aeb6-d7b9bebc680c)\n\n### Logs\n\n```shell\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.10/site-packages/gradio/queueing.py\", line 532, in process_events\n    response = await route_utils.call_process_api(\n  File \"/usr/local/lib/python3.10/site-packages/gradio/route_utils.py\", line 276, in call_process_api\n    output = await app.get_blocks().process_api(\n  File \"/usr/local/lib/python3.10/site-packages/gradio/blocks.py\", line 1928, in process_api\n    result = await self.call_function(\n  File \"/usr/local/lib/python3.10/site-packages/gradio/blocks.py\", line 1526, in call_function\n    prediction = await utils.async_iteration(iterator)\n  File \"/usr/local/lib/python3.10/site-packages/gradio/utils.py\", line 656, in async_iteration\n    return await iterator.__anext__()\n  File \"/usr/local/lib/python3.10/site-packages/gradio/utils.py\", line 782, in asyncgen_wrapper\n    response = await iterator.__anext__()\n  File \"/usr/local/lib/python3.10/site-packages/gradio/chat_interface.py\", line 584, in _stream_fn\n    first_response = await async_iteration(generator)\n  File \"/usr/local/lib/python3.10/site-packages/gradio/utils.py\", line 656, in async_iteration\n    return await iterator.__anext__()\n  File \"/usr/local/lib/python3.10/site-packages/gradio/utils.py\", line 649, in __anext__\n    return await anyio.to_thread.run_sync(\n  File \"/usr/local/lib/python3.10/site-packages/anyio/to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n  File \"/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py\", line 2470, in run_sync_in_worker_thread\n    return await future\n  File \"/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py\", line 967, in run\n    result = context.run(func, *args)\n  File \"/usr/local/lib/python3.10/site-packages/gradio/utils.py\", line 632, in run_sync_iterator_async\n    return next(iterator)\n  File \"/home/user/app/app.py\", line 30, in respond\n    for message in client.chat_completion(\n  File \"/usr/local/lib/python3.10/site-packages/huggingface_hub/inference/_client.py\", line 924, in chat_completion\n    data = self._inner_post(request_parameters, stream=stream)\n  File \"/usr/local/lib/python3.10/site-packages/huggingface_hub/inference/_client.py\", line 280, in _inner_post\n    hf_raise_for_status(response)\n  File \"/usr/local/lib/python3.10/site-packages/huggingface_hub/utils/_http.py\", line 482, in hf_raise_for_status\n    raise _format(HfHubHTTPError, str(e), response) from e\nhuggingface_hub.errors.HfHubHTTPError: 401 Client Error: Unauthorized for url: https://router.huggingface.co/hf-inference/models/HuggingFaceH4/zephyr-7b-beta/v1/chat/completions (Request ID: Root=1-68508840-6c6713335604aa99716b8f6c;b0e173d1-5192-456d-9e21-cce9db75432e)\n\nInvalid username or password.\n```\n\n### System Info\n\n```shell\nCPU Basic\n2 vCPU 16 GB RAM\n```\n\n### Severity\n\nBlocking usage of gradio",
    "comments": []
  },
  {
    "issue_number": 11001,
    "title": "Sorting doesn't work when `display_value` is set in `gr.Dataframe`",
    "author": "hysts",
    "state": "open",
    "created_at": "2025-04-11T07:15:30Z",
    "updated_at": "2025-06-16T21:28:17Z",
    "labels": [
      "bug",
      "Priority"
    ],
    "body": "### Describe the bug\n\nWhen using the sample code in [this documentation](https://www.gradio.app/guides/styling-the-gradio-dataframe), sorting doesn't seem to work.\nLooking at the behavior when searching after sorting, it seems that the underlying `data` is actually sorted, though. So the issue is probably that the `display_value` is static and doesn't reflect the new order after sorting.\n\nhttps://github.com/user-attachments/assets/53e2545b-44ba-45cf-9dd3-d746f793e913\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\n```python\nimport gradio as gr\n\ndata = [\n    [\"DeepSeek Coder\", 79.3],\n    [\"Llama 3.3\", 68.9],\n    [\"Qwen 2.5\", 61.9],\n    [\"Gemma 2\", 59.5],\n    [\"GPT 2\", 18.3],\n]\n\nheaders = [\"Model\", \"% Correct (LeetCode Hard)\"]\n\ndef get_styling(values):\n    return [[\"\", f\"background: linear-gradient(90deg, rgba(220, 242, 220) {row[1]}%, transparent {row[1]}%)\"] for row in values]\n\ndef get_display_value(values):\n    display_values = []\n    medals = [\"🥇\", \"🥈\", \"🥉\"]\n    for i, row in enumerate(values):\n        if i < 3:\n            display_values.append([f\"{medals[i]} {row[0]}\", row[1]])\n        else:\n            display_values.append([row[0], row[1]])\n    return display_values\n\nstyling = get_styling(data)\ndisplay_value = get_display_value(data)\n\n\nvalue = {\n    \"data\": data,\n    \"headers\": headers,\n    \"metadata\": {\n        \"styling\": styling,\n        \"display_value\": display_value,\n    },\n}\n\nwith gr.Blocks() as demo:\n    gr.Dataframe(value, show_search=\"search\")\n\ndemo.launch()\n```\n\n\n### Screenshot\n\n_No response_\n\n### Logs\n\n```shell\n\n```\n\n### System Info\n\n```shell\ngradio==5.24.0\n```\n\n### Severity\n\nI can work around it",
    "comments": [
      {
        "user": "rdnfn",
        "body": "I have run into this problem as well - thanks for raising this issue! Would be very useful to have this fixed."
      },
      {
        "user": "hannahblair",
        "body": "thanks @hysts! i've done some digging to see what the issue is as i'm not able to address this myself this week. \n\nthe `display_value` prop is initially set in Index.svelte but doesn't get updated when sorting happens in the Table component. i think this line is the problem: \n\n```$: display_value = value?.metadata?.display_value ? [...value?.metadata?.display_value] : null;```\n\ni tink we either handle the `display_value` update after sorting happens, or we could fix this via the `on:change` event and that would handle the reactive issue "
      }
    ]
  },
  {
    "issue_number": 5392,
    "title": "White background appears while a Gradio app with SSR is loading even in dark mode",
    "author": "abidlabs",
    "state": "open",
    "created_at": "2023-08-31T17:42:32Z",
    "updated_at": "2025-06-16T21:27:11Z",
    "labels": [
      "bug",
      "svelte",
      "Priority"
    ],
    "body": "### Describe the bug\n\nWhile a Gradio app is loading, the loading indicator appears on top of a white background. This is particularly disconcerting when a Gradio app is embedded in another page that has dark theme enabled, e.g. \r\n\r\nhttps://huggingface.co/spaces/multimodalart/LoraTheExplorer\n\n### Have you searched existing issues?  🔎\n\n- [X] I have searched and found no existing issues\n\n### Reproduction\n\nVisit https://huggingface.co/spaces/multimodalart/LoraTheExplorer\n\n### Screenshot\n\n_No response_\n\n### Logs\n\n_No response_\n\n### System Info\n\n```shell\nsdk_version: 3.39.0\n```\n\n\n### Severity\n\nI can work around it",
    "comments": [
      {
        "user": "aditya-azad",
        "body": "I cannot reproduce the issue. Below is the screenshot from my side.\r\n\r\n![image](https://github.com/gradio-app/gradio/assets/26451004/35841cec-f23d-4c7b-8660-a8892855a264)\r\n"
      },
      {
        "user": "abidlabs",
        "body": "Thanks for looking into this @aditya-azad! The problem is still there -- it happens when the app is initially loading. There's a brief second where the background is black but the part where the gradio app is supposed to be is white:\r\n\r\n<img width=\"1343\" alt=\"image\" src=\"https://github.com/gradio-app/gradio/assets/1778297/a4aeb129-b58a-40f5-b0e4-88fe88d7e142\">\r\n"
      },
      {
        "user": "gary149",
        "body": "Up 👍  if anything is possible as the issue still persists."
      }
    ]
  },
  {
    "issue_number": 6824,
    "title": "Error embedding space with web component",
    "author": "alexcumplido",
    "state": "open",
    "created_at": "2023-12-18T10:20:06Z",
    "updated_at": "2025-06-16T21:27:02Z",
    "labels": [
      "bug",
      "svelte",
      "Priority",
      "Regression"
    ],
    "body": "### Describe the bug\n\n\r\nWhen I tried to embed space in my Svelte frontend using \r\n`<script is:inline type=\"module\" src=\"https://gradio.s3-us-west-2.amazonaws.com/4.10.0/gradio.js\"></script>`\r\n\r\nThe console throws the following errors:\r\n```\r\nAccess to script at 'https://gradio.s3-us-west-2.amazonaws.com/4.10.0/gradio.js' from origin 'http://localhost:4321' has been blocked by CORS policy: No 'Access-Control-Allow-Origin' header is present on the requested resource.\r\n    \r\n       GET https://gradio.s3-us-west-2.amazonaws.com/4.10.0/gradio.js net::ERR_FAILED\r\n```\r\n\r\nI notice that with 4.0.2 it's working, but I need 4.10.0.\r\nAlso, for greater versions than 4.0.2 the content of gradio.js changed.\r\ngradio.js  < 4.0.2\r\n\r\n```\r\nfunction make_script(src) {\r\n    const script = document.createElement('script');\r\n    script.type = 'module';\r\n    script.setAttribute(\"crossorigin\", \"\");\r\n    script.src = src;\r\n    document.head.appendChild(script);\r\n}\r\nmake_script(\"https://gradio.s3-us-west-2.amazonaws.com/4.0.2/assets/index-0526d562.js\");\r\n```\r\ngradio.js 4.10.0 \r\n`import(\"./assets/index-96c4f758.js\");`\r\n\r\nSo, finally, if i load the script with\r\n`<script is:inline type=\"module\" src=\"https://gradio.s3-us-west-2.amazonaws.com/4.10.0/assets/index-96c4f758.js\" crossorigin=\"\"></script>`\r\n\r\n\r\nIt works but the console throws some CSS errors, so I think it's not the expected behavior. \r\n```\r\nFailed to load resource: the server responded with a status of 403 (Forbidden)\r\ncss.ts:15 Unable to preload CSS for https://gradio.s3-us-west-2.amazonaws.com/assets/index-55eab32e.css\r\n```\n\n### Have you searched existing issues?  🔎\n\n- [X] I have searched and found no existing issues\n\n### Reproduction\n\n```python\r\nimport gradio as gr\r\n\r\n```\r\n\n\n### Screenshot\n\n_No response_\n\n### Logs\n\n_No response_\n\n### System Info\n\n```shell\n4.10.0\n```\n\n\n### Severity\n\nI can work around it",
    "comments": [
      {
        "user": "pngwn",
        "body": "This is strange, will look into it!"
      },
      {
        "user": "PaulNdrei",
        "body": "Hi @pngwn \r\nI work with Alex.\r\nIt seems like now it's not throwing the CORS error.\r\n\r\nThe space load is OK and works as expected. But the console browser console throws the following CSS errors:\r\n```bash\r\nFailed to load resource: the server responded with a status of 403 (Forbidden)\r\ncss.ts:15 Unable to preload CSS for https://gradio.s3-us-west-2.amazonaws.com/assets/index-55eab32e.css\r\n(anonymous) @ css.ts:15\r\nindex-55eab32e.css:1 \r\n       Failed to load resource: the server responded with a status of 403 (Forbidden)\r\n```\r\nOur svelte code:\r\n```javascript\r\n<script is:inline\r\n    type=\"module\"\r\n    src=\"https://gradio.s3-us-west-2.amazonaws.com/4.10.0/gradio.js\">\r\n</script>\r\n```\r\n\r\nThank you."
      },
      {
        "user": "abrichr",
        "body": "Any update on this? Also experiencing this in https://github.com/OpenAdaptAI/SoM/pull/4"
      }
    ]
  },
  {
    "issue_number": 8023,
    "title": "Textbox does not adjust height when it is in non-active tab",
    "author": "pngwn",
    "state": "open",
    "created_at": "2024-04-15T14:27:35Z",
    "updated_at": "2025-06-16T21:26:48Z",
    "labels": [
      "bug",
      "Priority"
    ],
    "body": "### Describe the bug\n\nWhen a textbox is in a non-active tab and has a default value, the textbox does not auto adjust its height.\n\n### Have you searched existing issues?  🔎\n\n- [X] I have searched and found no existing issues\n\n### Reproduction\n\n```python\r\nimport gradio as gr\r\n\r\nstr = \"\"\"hello\r\nnewline\r\nnewline\"\"\"\r\n\r\nwith gr.Blocks() as demo:\r\n    with gr.Tab():\r\n        gr.Textbox(value=str)\r\n    with gr.Tab():\r\n        gr.Textbox(value=str)\r\n\r\ndemo.launch()\r\n```\r\n\r\nhttps://huggingface.co/spaces/pngwn/textbox-tab-bug\n\n### Screenshot\n\n<img width=\"580\" alt=\"Screenshot 2024-04-15 at 10 25 59\" src=\"https://github.com/gradio-app/gradio/assets/12937446/bd070f65-89b5-4412-b092-63f9adbd7da3\">\r\n\n\n### Logs\n\n_No response_\n\n### System Info\n\n```shell\ngradio: 4.26.0\n```\n\n\n### Severity\n\nI can work around it",
    "comments": [
      {
        "user": "abidlabs",
        "body": "Still an issue in Gradio 5"
      },
      {
        "user": "s-rashidian",
        "body": "I have the same issue, I am using \"lines\" which is min numbers of lines to always show to work around it temporary "
      },
      {
        "user": "pngwn",
        "body": "This is because display none elements can't be measured properly and when switching a tab we set display: block but don't trigger the measure/ resize behaviour. \n\nInstead of fixing this in isolation though we should just to the only render visible components thing. \n\nThat should be possible when he have history back for the ImageEditor so I'll take a look shortly. "
      }
    ]
  },
  {
    "issue_number": 7632,
    "title": "The rendering area of `gr.Model3D` is collapsed in the second `gr.Tab`",
    "author": "hysts",
    "state": "open",
    "created_at": "2024-03-07T06:51:19Z",
    "updated_at": "2025-06-16T21:26:48Z",
    "labels": [
      "bug",
      "Priority"
    ],
    "body": "### Describe the bug\n\nWhen `gr.Model3D` is used in a hidden `gr.Tab`, the rendering area is collapsed when opening the tab.\r\n\r\nmight be related to: #6850 #7485\r\n\n\n### Have you searched existing issues?  🔎\n\n- [X] I have searched and found no existing issues\n\n### Reproduction\n\nrepro Space: https://huggingface.co/spaces/hysts-debug/model3d-rendering-area-collapsed\r\n\r\n```python\r\nimport gradio as gr\r\n\r\nwith gr.Blocks() as demo:\r\n    with gr.Tabs():\r\n        with gr.Tab(label=\"a\"):\r\n            out1 = gr.Model3D(value=\"data.ply\")\r\n        with gr.Tab(label=\"b\"):\r\n            out2 = gr.Model3D(value=\"data.ply\")\r\n\r\nif __name__ == \"__main__\":\r\n    demo.queue().launch()\r\n```\r\n\n\n### Screenshot\n\nIt's rendered correctly in the first tab,\r\n![](https://github.com/gradio-app/gradio/assets/25161192/c17ba70e-7829-4ab5-9e69-dd283ee27c68)\r\nbut the rendering area is collapsed in the second tab.\r\n![](https://github.com/gradio-app/gradio/assets/25161192/60544f49-00fa-4ef1-b631-e53ecad0f3e9)\r\n\n\n### Logs\n\n_No response_\n\n### System Info\n\n```shell\nGradio Environment Information:\r\n------------------------------\r\nOperating System: Linux\r\ngradio version: 4.20.1\r\ngradio_client version: 0.11.0\r\n\r\n------------------------------------------------\r\ngradio dependencies in your environment:\r\n\r\naiofiles: 23.2.1\r\naltair: 5.2.0\r\nfastapi: 0.110.0\r\nffmpy: 0.3.2\r\ngradio-client==0.11.0 is not installed.\r\nhttpx: 0.27.0\r\nhuggingface-hub: 0.21.3\r\nimportlib-resources: 6.1.2\r\njinja2: 3.1.3\r\nmarkupsafe: 2.1.5\r\nmatplotlib: 3.8.3\r\nnumpy: 1.26.4\r\norjson: 3.9.15\r\npackaging: 23.2\r\npandas: 2.2.1\r\npillow: 10.2.0\r\npydantic: 2.6.3\r\npydub: 0.25.1\r\npython-multipart: 0.0.9\r\npyyaml: 6.0.1\r\nruff: 0.3.1\r\nsemantic-version: 2.10.0\r\ntomlkit==0.12.0 is not installed.\r\ntyper: 0.9.0\r\ntyping-extensions: 4.10.0\r\nuvicorn: 0.27.1\r\nauthlib; extra == 'oauth' is not installed.\r\nitsdangerous; extra == 'oauth' is not installed.\r\n\r\n\r\ngradio_client dependencies in your environment:\r\n\r\nfsspec: 2024.2.0\r\nhttpx: 0.27.0\r\nhuggingface-hub: 0.21.3\r\npackaging: 23.2\r\ntyping-extensions: 4.10.0\r\nwebsockets: 11.0.3\n```\n\n\n### Severity\n\nI can work around it",
    "comments": [
      {
        "user": "abidlabs",
        "body": "👍 a standalone repro:\r\n\r\n```py\r\nimport gradio as gr\r\n\r\nwith gr.Blocks() as demo:\r\n    with gr.Tabs():\r\n        with gr.Tab(label=\"a\"):\r\n            out1 = gr.Model3D(value=\"https://huggingface.co/datasets/dylanebert/3dgs/resolve/main/luigi/luigi.ply\")\r\n        with gr.Tab(label=\"b\"):\r\n            out2 = gr.Model3D(value=\"https://huggingface.co/datasets/dylanebert/3dgs/resolve/main/luigi/luigi.ply\")\r\n\r\nif __name__ == \"__main__\":\r\n    demo.queue().launch()\r\n```"
      },
      {
        "user": "abidlabs",
        "body": "Confirmed that this is the case even in Gradio 5"
      },
      {
        "user": "abidlabs",
        "body": "I just tested this and it doesn't look like this an issue in the latest version of Gradio. Can you confirm on your end @hysts?\n\nhttps://github.com/user-attachments/assets/9fe76b7b-3961-49b6-a0f3-9301e629a61d\n\n"
      }
    ]
  },
  {
    "issue_number": 11022,
    "title": "Unexpected scroll and incorrect cell selection after filtering in `gr.Dataframe`",
    "author": "hysts",
    "state": "open",
    "created_at": "2025-04-15T06:28:25Z",
    "updated_at": "2025-06-16T21:26:23Z",
    "labels": [
      "bug",
      "Priority"
    ],
    "body": "### Describe the bug\n\nWhen using the search feature in `gr.Dataframe`, clicking a cell after filtering sometimes causes weird behavior where table scrolls to the bottom and the `gr.SelectData` returns an incorrect value. Also, sometimes it takes like a few seconds to return `gr.SelectData`, which feels unusually slow.\nNot exactly sure when this happens, but it seems that it doesn't happen when the table is small.\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\n```python\nimport random\n\nimport gradio as gr\n\nrandom.seed(0)\n\ndata = []\nfor c in \"abcde\":\n    data.extend([c * i for i in range(1, 21)] * 100)\nrandom.shuffle(data)\ndata = list(zip(range(len(data)), data, strict=True))\n\n\ndef on_select(evt: gr.SelectData):\n    return f\"{evt.value=}\\n{evt.index=}\\n{evt.row_value=}\"\n\n\nwith gr.Blocks() as demo:\n    df = gr.Dataframe(value=data, show_search=\"search\")\n    out = gr.Textbox()\n    df.select(fn=on_select, outputs=out)\ndemo.launch()\n```\n\n\n### Screenshot\n\nhttps://github.com/user-attachments/assets/374491c6-ff8a-41b4-954a-46a5b5611d3c\n\n### Logs\n\n```shell\n\n```\n\n### System Info\n\n```shell\ngradio==5.25.1\n```\n\n### Severity\n\nI can work around it",
    "comments": []
  },
  {
    "issue_number": 11086,
    "title": "mount_gradio_app doesn't support path parameter at v5.27.0 any more",
    "author": "CyberTianzun",
    "state": "open",
    "created_at": "2025-04-27T06:37:56Z",
    "updated_at": "2025-06-16T21:26:15Z",
    "labels": [
      "bug",
      "Priority",
      "Regression"
    ],
    "body": "### Describe the bug\n\nmount_gradio_app doesn't support to mount at '/project/{id}' at v5.27.0 any more\n\nand it works at gradio v5.19.0\n\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\n```python\nimport uvicorn\nfrom fastapi import FastAPI\nimport gradio as gr\n\napp = FastAPI()\n\nwith gr.Blocks() as demo:\n    gr.Textbox('hello')\n\ngr.mount_gradio_app(app, demo, path='/project/{id}')\n\nuvicorn.run(app, host=\"0.0.0.0\", port=8000)\n```\n\n\n### Screenshot\n\n_No response_\n\n### Logs\n\n```shell\n\n```\n\n### System Info\n\n```shell\nv5.27.0\n```\n\n### Severity\n\nBlocking usage of gradio",
    "comments": [
      {
        "user": "MarioAlessandroNapoli",
        "body": "Similar problem here, I have a FastAPI app that mounts Gradio app dynamically, used to work till 5.23.1, not working from 5.23.2 till now.\n\nfollowing this issue for updates!\nThanks"
      }
    ]
  },
  {
    "issue_number": 11071,
    "title": "mount_gradio_app does not work when the path is \"/\"",
    "author": "amol-",
    "state": "open",
    "created_at": "2025-04-23T17:22:41Z",
    "updated_at": "2025-06-16T21:26:15Z",
    "labels": [
      "bug",
      "Priority",
      "Regression"
    ],
    "body": "### Describe the bug\n\n`mount_gradio_app` expects path to be `\"/\"` when the gradio app is mounted at the root of the FastAPI application, this is suggested by https://github.com/gradio-app/gradio/blob/0c1a9c73689de954130ba7565e0499837af1853a/gradio/routes.py#L1755 explicitly checking for `path = \"/\"`.\n\nThe problem is that when `path = \"/\"` then the routing doesn't work anymore and infinite redirects are issued from `localhost:8000/` to `localhost:8000//` for example.\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\n```python\nimport gradio as gr\n\ndef greet(name, intensity):\n    return \"Hello, \" + name + \"!\" * int(intensity)\n\ndemo = gr.Interface(\n    fn=greet,\n    inputs=[\"text\", \"slider\"],\n    outputs=[\"text\"],\n)\n\nfrom fastapi import FastAPI\napp = gr.mount_gradio_app(FastAPI(), demo, path=\"/\")\n\nimport uvicorn\nuvicorn.run(app, port=8000)\n```\n\nyou will see the wrong redirect to `//` in the logs:\n```\nINFO:     127.0.0.1:57718 - \"GET / HTTP/1.1\" 307 Temporary Redirect\nINFO:     127.0.0.1:57718 - \"GET // HTTP/1.1\" 200 OK\n```\n\n### Screenshot\n\n_No response_\n\n### Logs\n\n```shell\n\n```\n\n### System Info\n\n```shell\nGradio Environment Information:\n------------------------------\nOperating System: Darwin\ngradio version: 5.25.2\ngradio_client version: 1.8.0\n\n------------------------------------------------\ngradio dependencies in your environment:\n\naiofiles: 23.2.1\nanyio: 4.9.0\naudioop-lts is not installed.\nfastapi: 0.115.12\nffmpy: 0.5.0\ngradio-client==1.8.0 is not installed.\ngroovy: 0.1.2\nhttpx: 0.28.1\nhuggingface-hub: 0.30.2\njinja2: 3.1.6\nmarkupsafe: 3.0.2\nnumpy: 2.2.5\norjson: 3.10.16\npackaging: 25.0\npandas: 2.2.3\npillow: 11.2.1\npydantic: 2.11.3\npydub: 0.25.1\npython-multipart: 0.0.20\npyyaml: 6.0.2\nruff: 0.11.6\nsafehttpx: 0.1.6\nsemantic-version: 2.10.0\nstarlette: 0.46.2\ntomlkit: 0.13.2\ntyper: 0.15.2\ntyping-extensions: 4.13.2\nurllib3: 2.4.0\nuvicorn: 0.34.2\nauthlib; extra == 'oauth' is not installed.\nitsdangerous; extra == 'oauth' is not installed.\n\n\ngradio_client dependencies in your environment:\n\nfsspec: 2025.3.2\nhttpx: 0.28.1\nhuggingface-hub: 0.30.2\npackaging: 25.0\ntyping-extensions: 4.13.2\nwebsockets: 15.0.1\n```\n\n### Severity\n\nI can work around it",
    "comments": [
      {
        "user": "amol-",
        "body": "I think this might have been introduced in https://github.com/gradio-app/gradio/commit/cd7f486c61b86a8fcf0157ee884f8f96534ffcc5 as `custom_mount_path` is now considered the `root_path` and thus removed from the path\n\na possible fix might be \n\n```\nself.root_path = blocks.root_path or \"\"\nif not self.root_path and (blocks.custom_mount_path or \"\").lstrip(\"/\"):\n    self.root_path = blocks.custom_mount_path\n```"
      },
      {
        "user": "freddyaboulton",
        "body": "Does this break anything @amol- ?"
      },
      {
        "user": "amol-",
        "body": "> Does this break anything [@amol-](https://github.com/amol-) ?\n\nWhen running behind some proxies it causes an infinite redirect, as Gradio will redirect `/` to `//` as it doesn't see the first `/`, then the proxy will normalize `//` to `/` , which initiates the loop as gradio will get `/` which redirects again to `//` and so on.\n\nIt's not hard to work around, you just have to pass `path=\"\"` instead of `path=\"/\"`, but that's confusing and I'd say could be considered wrong as the root path is `\"/\"` not `\"\"` so it doesn't make too much sense the idea of mounting to an empty path."
      }
    ]
  },
  {
    "issue_number": 11371,
    "title": "Multiple gr.Imagemasks have a probability of failure",
    "author": "smallpillow",
    "state": "open",
    "created_at": "2025-06-11T03:22:48Z",
    "updated_at": "2025-06-16T21:17:41Z",
    "labels": [
      "bug",
      "pending clarification"
    ],
    "body": "### Describe the bug\n\nI have multiple gr.Imagemasks controls in multiple tabs. There is a probability that some of them will not work when the interface is refreshed, but they will recover after the refresh\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\n```python\nimport gradio as gr\n\nwith gr.Blocks() as demo:\n    with gr.Tab('tab1'):\n        with gr.Row():\n            image_editor = gr.Image(\n                label=\"in\",\n                type=\"pil\",\n                interactive=True,\n                show_download_button=True,\n                show_fullscreen_button=True,\n                sources=('upload'),\n            )\n        with gr.Row():\n            temp1 = gr.ImageMask(label=\"out1\", value=None, type=\"pil\", format='png',\n                                 interactive=True, show_label=False, sources=('upload'),\n                                 show_download_button=False, show_fullscreen_button=False)\n            temp2 = gr.ImageMask(label=\"out1\", value=None, type=\"pil\", format='png',\n                                 interactive=True, show_label=False, sources=('upload'),\n                                 show_download_button=False, show_fullscreen_button=False)\n            temp3 = gr.ImageMask(label=\"out3\", value=None, type=\"pil\", format='png',\n                                 interactive=True, show_label=False, sources=('upload'),\n                                 show_download_button=False, show_fullscreen_button=False)\n            temp4 = gr.ImageMask(label=\"out4\", value=None, type=\"pil\", format='png',\n                                 interactive=True, show_label=False, sources=('upload'),\n                                 show_download_button=False, show_fullscreen_button=False)\n        button1 = gr.Button(\"button1\")\n        button1.click(lambda x: (x, x), inputs=[image_editor], outputs=[temp1, temp2])\n        button2 = gr.Button(\"button2\")\n        button2.click(lambda x: (x, x), inputs=[image_editor], outputs=[temp3, temp4])\n\n    with gr.Tab('tab2'):\n        with gr.Row():\n            image_editor = gr.Image(\n                label=\"in\",\n                type=\"pil\",\n                interactive=True,\n                show_download_button=True,\n                show_fullscreen_button=True,\n                sources=('upload'),\n            )\n        with gr.Row():\n            temp1 = gr.ImageMask(label=\"out1\", value=None, type=\"pil\", format='png',\n                                 interactive=True, show_label=False, sources=('upload'),\n                                 show_download_button=False, show_fullscreen_button=False)\n            temp2 = gr.ImageMask(label=\"out1\", value=None, type=\"pil\", format='png',\n                                 interactive=True, show_label=False, sources=('upload'),\n                                 show_download_button=False, show_fullscreen_button=False)\n            temp3 = gr.ImageMask(label=\"out3\", value=None, type=\"pil\", format='png',\n                                 interactive=True, show_label=False, sources=('upload'),\n                                 show_download_button=False, show_fullscreen_button=False)\n            temp4 = gr.ImageMask(label=\"out4\", value=None, type=\"pil\", format='png',\n                                 interactive=True, show_label=False, sources=('upload'),\n                                 show_download_button=False, show_fullscreen_button=False)\n        button1 = gr.Button(\"button1\")\n        button1.click(lambda x: (x, x), inputs=[image_editor], outputs=[temp1, temp2])\n        button2 = gr.Button(\"button2\")\n        button2.click(lambda x: (x, x), inputs=[image_editor], outputs=[temp3, temp4])\n\n    with gr.Tab('tab3'):\n        with gr.Row():\n            image_editor = gr.Image(\n                label=\"in\",\n                type=\"pil\",\n                interactive=True,\n                show_download_button=True,\n                show_fullscreen_button=True,\n                sources=('upload'),\n            )\n        with gr.Row():\n            temp1 = gr.ImageMask(label=\"out1\", value=None, type=\"pil\", format='png',\n                                 interactive=True, show_label=False, sources=('upload'),\n                                 show_download_button=False, show_fullscreen_button=False)\n            temp2 = gr.ImageMask(label=\"out1\", value=None, type=\"pil\", format='png',\n                                 interactive=True, show_label=False, sources=('upload'),\n                                 show_download_button=False, show_fullscreen_button=False)\n            temp3 = gr.ImageMask(label=\"out3\", value=None, type=\"pil\", format='png',\n                                 interactive=True, show_label=False, sources=('upload'),\n                                 show_download_button=False, show_fullscreen_button=False)\n            temp4 = gr.ImageMask(label=\"out4\", value=None, type=\"pil\", format='png',\n                                 interactive=True, show_label=False, sources=('upload'),\n                                 show_download_button=False, show_fullscreen_button=False)\n        button1 = gr.Button(\"button1\")\n        button1.click(lambda x: (x, x), inputs=[image_editor], outputs=[temp1, temp2])\n        button2 = gr.Button(\"button2\")\n        button2.click(lambda x: (x, x), inputs=[image_editor], outputs=[temp3, temp4])\n\nif __name__ == \"__main__\":\n    demo.launch()\n```\n\n\n### Screenshot\n\n![Image](https://github.com/user-attachments/assets/b332ed46-6787-4ba3-99e5-4176c4646278)\n\n![Image](https://github.com/user-attachments/assets/4f0a69dc-6663-494d-b71e-a07b244f2a85)\n\nIt is available in tab1 but not in tab2\n\nIt is also impossible to assign values through click\n\n### Logs\n\n```shell\n\n```\n\n### System Info\n\n```shell\ngradio==5.33.1\n```\n\n### Severity\n\nBlocking usage of gradio",
    "comments": [
      {
        "user": "abidlabs",
        "body": "What do you mean by \"they will not work\"? cc @pngwn "
      },
      {
        "user": "smallpillow",
        "body": "The two on the left side of tab1 have different styles after loading. There is no middle box. After uploading, the image cannot be displayed and cannot be edited. When downloading, it is a blank image,\n\n![Image](https://github.com/user-attachments/assets/c81a54fa-b440-4504-acf1-d2521f87dcec)\n\nIt will be restored after refreshing, but other controls may have problems.I found that this problem doesn't exist when there is a small amount of gr.Imagemasks, but it does occur when there are many"
      },
      {
        "user": "abidlabs",
        "body": "potentially related to render visible/invisible @pngwn "
      }
    ]
  },
  {
    "issue_number": 8021,
    "title": "Audio download does not have file extension in Chrome",
    "author": "raivisdejus",
    "state": "closed",
    "created_at": "2024-04-15T12:48:43Z",
    "updated_at": "2025-06-16T20:41:49Z",
    "labels": [
      "bug",
      "pending clarification"
    ],
    "body": "### Describe the bug\n\nWhen downloading audio from `Audio` component on Google Chrome it is downloaded without a file extension. In Firefox it works as expected, downloaded file gets `.wav` extension.\r\n\r\nSeems fix for this was started in https://github.com/gradio-app/gradio/issues/6006\r\nExample - https://huggingface.co/spaces/RaivisDejus/Latvian-Piper-TTS\n\n### Have you searched existing issues?  🔎\n\n- [X] I have searched and found no existing issues\n\n### Reproduction\n\nSee https://huggingface.co/spaces/RaivisDejus/Latvian-Piper-TTS/blob/main/app.py\n\n### Screenshot\n\n_No response_\n\n### Logs\n\n_No response_\n\n### System Info\n\n```shell\nGradio Environment Information:\r\n------------------------------\r\nOperating System: Linux\r\ngradio version: 4.26.0\r\ngradio_client version: 0.15.1\r\n\r\n------------------------------------------------\r\ngradio dependencies in your environment:\r\n\r\naiofiles: 23.2.1\r\naltair: 5.3.0\r\nfastapi: 0.110.1\r\nffmpy: 0.3.2\r\ngradio-client==0.15.1 is not installed.\r\nhttpx: 0.27.0\r\nhuggingface-hub: 0.22.2\r\nimportlib-resources: 6.4.0\r\njinja2: 3.1.3\r\nmarkupsafe: 2.1.5\r\nmatplotlib: 3.8.4\r\nnumpy: 1.26.4\r\norjson: 3.10.0\r\npackaging: 24.0\r\npandas: 2.2.2\r\npillow: 10.3.0\r\npydantic: 2.7.0\r\npydub: 0.25.1\r\npython-multipart: 0.0.9\r\npyyaml: 6.0.1\r\nruff: 0.3.7\r\nsemantic-version: 2.10.0\r\ntomlkit==0.12.0 is not installed.\r\ntyper: 0.12.3\r\ntyping-extensions: 4.11.0\r\nuvicorn: 0.29.0\r\nauthlib; extra == 'oauth' is not installed.\r\nitsdangerous; extra == 'oauth' is not installed.\r\n\r\n\r\ngradio_client dependencies in your environment:\r\n\r\nfsspec: 2024.3.1\r\nhttpx: 0.27.0\r\nhuggingface-hub: 0.22.2\r\npackaging: 24.0\r\ntyping-extensions: 4.11.0\r\nwebsockets: 11.0.3\n```\n\n\n### Severity\n\nI can work around it",
    "comments": [
      {
        "user": "abidlabs",
        "body": "Hi, apologies for the late follow up. We haven't had a chance to look into this issue, but the Gradio codebase has changed quite significantly since this issue was created, particularly with the release of Gradio 5. Could you let us know if this is still an issue in the latest version of Gradio (`pip install --upgrade gradio`)? Thanks!\r\n"
      },
      {
        "user": "abidlabs",
        "body": "Closing the issue for now, but happy to reopen if the issue continues to persist in the latest version of Gradio"
      }
    ]
  },
  {
    "issue_number": 7353,
    "title": "500 Internal Server Error When Integrating Multiple Gradio Apps via FastAPI",
    "author": "AymaneHan1",
    "state": "closed",
    "created_at": "2024-02-08T14:03:27Z",
    "updated_at": "2025-06-15T18:49:59Z",
    "labels": [
      "bug"
    ],
    "body": "### Describe the bug\n\nI'm attempting to integrate multiple Gradio apps into a single frontend using HTML iframes for a seamless user experience. The goal is to switch between Gradio apps within iframes upon button clicks. However, I'm encountering a \"500 Internal Server Error\" during this process. Below is the approach I've taken:\r\n\r\n- Setup a FastAPI backend to serve as a central point for accessing the Gradio apps.\r\n- Employed HTML iframes in the frontend to display the content of each Gradio app.\r\n\r\n\r\nThe issue arises when interacting with the Gradio app buttons after navigating through the iframe - the server logs a \"500 Internal Server Error\" specifically when a POST request is made to /app1/queue/join. This error suggests a potential issue with queue management or resource allocation within the Gradio app's integration.\r\n\r\nI've included the relevant code snippet and error logs below for reference:\r\n\r\n\n\n### Have you searched existing issues?  🔎\n\n- [X] I have searched and found no existing issues\n\n### Reproduction\n\n```python\r\nfrom fastapi import FastAPI, Response\r\nfrom fastapi.responses import HTMLResponse\r\nimport gradio as gr\r\n\r\n# Import your Gradio apps here\r\nfrom apps.app1 import app1\r\nfrom apps.app2 import app2\r\nfrom apps.app3 import app3\r\n\r\napp = FastAPI()\r\nfrom fastapi.middleware.cors import CORSMiddleware\r\n\r\napp.add_middleware(\r\n    CORSMiddleware,\r\n    allow_origins=[\"*\"],  # Allows all origins\r\n    allow_credentials=True,\r\n    allow_methods=[\"*\"],  # Allows all methods\r\n    allow_headers=[\"*\"],  # Allows all headers\r\n)\r\n\r\n\r\n@app.get(\"/\", response_class=HTMLResponse)\r\nasync def get_home():\r\n    html_content = \"\"\"\r\n    <html>\r\n        <head>\r\n            <script>\r\n            function showApp(appNumber) {\r\n                var iframe = document.getElementById('appFrame');\r\n                iframe.src = '/app' + appNumber;\r\n            }\r\n            </script>\r\n        </head>\r\n        <body>\r\n            <h2>Gradio Apps</h2>\r\n            <nav>\r\n                <button onclick=\"showApp(1)\">App 1</button>\r\n                <button onclick=\"showApp(2)\">App 2</button>\r\n                <button onclick=\"showApp(3)\">App 3</button>\r\n            </nav>\r\n            <iframe id=\"appFrame\" width=\"300\" height=\"200\" style=\"border:none;\"></iframe>\r\n        </body>\r\n    </html>\r\n    \"\"\"\r\n    return html_content\r\n\r\n\r\napp1_page = gr.routes.App.create_app(app1)\r\napp2_page = gr.routes.App.create_app(app2)\r\napp3_page = gr.routes.App.create_app(app3)\r\n\r\n\r\napp.mount(\"/app1\", app1_page, name=\"app1\")\r\napp.mount(\"/app2\", app2_page, name=\"app2\")\r\napp.mount(\"/app3\", app3_page, name=\"app3\")\r\n\r\n```\r\n\r\n\r\nThe content of the apps is very simple \r\n\r\n```python\r\nimport gradio as gr\r\n\r\n\r\ndef echo(text):\r\n    \"\"\"Function to return the input text.\"\"\"\r\n    return text\r\n\r\n\r\nwith gr.Blocks() as app1:\r\n    gr.Markdown(\"# Simple Echo Web App 1\")\r\n    gr.Markdown(\"Simple Echo Web App 1.\")\r\n    with gr.Row():\r\n        input_text = gr.Textbox(label=\"Enter your sentence\")\r\n        submit_button = gr.Button(\"Submit\")\r\n    output_text = gr.Textbox(label=\"Output\", interactive=True)\r\n\r\n    submit_button.click(echo, inputs=input_text, outputs=output_text)\r\n\r\n\r\n```\r\n\n\n### Screenshot\n\n_No response_\n\n### Logs\n\n```shell\nINFO:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)\r\nINFO:     Started reloader process [15520] using StatReload\r\nINFO:     Started server process [7672]\r\nINFO:     Waiting for application startup.\r\nINFO:     Application startup complete.\r\nINFO:     127.0.0.1:63490 - \"GET / HTTP/1.1\" 200 OK\r\nINFO:     127.0.0.1:63490 - \"GET /app1 HTTP/1.1\" 307 Temporary Redirect\r\nINFO:     127.0.0.1:63490 - \"GET /app1/ HTTP/1.1\" 200 OK\r\nINFO:     127.0.0.1:63490 - \"GET /assets/index-20519b4d.css HTTP/1.1\" 404 Not Found\r\nINFO:     127.0.0.1:63490 - \"GET /app1/info HTTP/1.1\" 200 OK\r\nINFO:     127.0.0.1:63490 - \"GET /app1/theme.css HTTP/1.1\" 200 OK\r\nINFO:     127.0.0.1:63490 - \"POST /app1/queue/join HTTP/1.1\" 500 Internal Server Error\r\nERROR:    Exception in ASGI application\r\n\r\nFile \"C:\\Users\\...\\Programs\\Python\\Python311\\Lib\\site-packages\\uvicorn\\protocols\\http\\h11_impl.py\", line 404, in run_asgi\r\n    result = await app(  # type: ignore[func-returns-value]\r\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n...\r\n  File \"C:\\Users\\...\\Programs\\Python\\Python311\\Lib\\site-packages\\fastapi\\routing.py\", line 191, in run_endpoint_function\r\n    return await dependant.call(**values)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"C:\\...\\Programs\\Python\\Python311\\Lib\\site-packages\\gradio\\routes.py\", line 686, in queue_join\r\n    success, event_id = await blocks._queue.push(body, request, username)\r\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"C:\\...\\Programs\\Python\\Python311\\Lib\\site-packages\\gradio\\queueing.py\", line 217, in push\r\n    event_queue = self.event_queue_per_concurrency_id[event.concurrency_id]\r\n                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^\r\nKeyError: '2156288833184'\n```\n\n\n### System Info\n\n```shell\ngradio==4.16.0\r\ngradio_client==0.8.1\r\nfastapi==0.105.0\n```\n\n\n### Severity\n\nBlocking usage of gradio",
    "comments": [
      {
        "user": "freddyaboulton",
        "body": "Hi @AymaneHan1 ! You need to use mount_gradio_app for the queue to be configured correctly. See https://www.gradio.app/docs/mount_gradio_app . We use the exact same workflow you describe in our test suite for every PR so I'm sure it should work. Will close for now but don't hesitate to reach back out with any questions or issues."
      },
      {
        "user": "Akin1995",
        "body": "can you explain this more in detail? i had the same issue and it worked!"
      },
      {
        "user": "applemuncy",
        "body": "This link returns 404\n https://www.gradio.app/docs/mount_gradio_app"
      }
    ]
  },
  {
    "issue_number": 11223,
    "title": "gr.Audio element causes high memory usage in Firefox and Chrome",
    "author": "allo-",
    "state": "closed",
    "created_at": "2025-05-19T19:56:06Z",
    "updated_at": "2025-06-14T02:19:17Z",
    "labels": [
      "bug",
      "Priority"
    ],
    "body": "### Describe the bug\n\nSeveral people can reproduce that loading and playing multiple audio files after another causes high memory usage and unresponsive tabs in Firefox and Chrome.\n\nSee https://github.com/ace-step/ACE-Step/issues/201#issuecomment-2892068621\n\nIs there maybe a script preventing the older uploads from being garbage collected?\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\n```python\nimport gradio as gr\n\ndef process_audio(audio_file):\n    if audio_file is None:\n        return \"No audio uploaded.\"\n    else:\n        return str(audio_file)\n\niface = gr.Interface(\n    fn=process_audio,\n    inputs=gr.Audio(type=\"filepath\", label=\"Upload Audio\"),\n    outputs=gr.Text(label=\"Result\"),\n    title=\"Example\",\n    description=\"Some example\"\n)\n\nif __name__ == \"__main__\":\n    iface.launch()\n```\n\nReason for severity \"blocking\": The audio element cannot be used in workflows that require repeatedly previewing results as the tab become unusable after some time. This prevents important workflows, e.g., when tuning parameters in music generation and previewing the results.\n\n### Screenshot\n\n_No response_\n\n### Logs\n\n```shell\n\n```\n\n### System Info\n\n```shell\nFirefox on Linux\n```\n\n### Severity\n\nBlocking usage of gradio",
    "comments": [
      {
        "user": "abidlabs",
        "body": "does this happen even if you disable the waveform? e.g. see https://github.com/gradio-app/gradio/pull/10405"
      },
      {
        "user": "trapf",
        "body": "For what it's worth, I can confirm the issue - in my case, also using ACE-Step via their Gradio interface, it seems the gr.Audio block increases memory consumption by a lot. I have a lot of system RAM, so it doesn't shut me out completely, but it does freeze the interface for a couple of seconds whenever I pause the playback."
      },
      {
        "user": "allo-",
        "body": "Testscript without options to disable the waveform:\n\n```python\nimport gradio as gr\n\ndef process_audio(audio_file):\n    if audio_file is None:\n        return \"No audio uploaded.\"\n    else:\n        return str(audio_file)\n\niface = gr.Interface(\n    fn=process_audio,\n    inputs=gr.Audio(type=\"filepath\", label=\"Upload Audio\", waveform_options=gr.WaveformOptions(show_recording_waveform=False, show_controls=True)),\n    outputs=gr.Text(label=\"Result\"),\n    title=\"Example\",\n    description=\"Some example\"\n)\n\nif __name__ == \"__main__\":\n    iface.launch()\n```\n\nWould be good when someone can test where it slows down early, as it gets noticeable only after quite a bit of activity on my system. In a short test I seem not to have a problem, but maybe I need to do more before it becomes slow again.\n\nOne player with the waveform (or three on the page) are not the huge problem here either. The problem starts, when clearing the input and loading another file repeatedly."
      }
    ]
  },
  {
    "issue_number": 8783,
    "title": "gradio cc dev fails for component with a space in the directory",
    "author": "lcsch02",
    "state": "closed",
    "created_at": "2024-07-15T14:09:26Z",
    "updated_at": "2025-06-13T20:01:20Z",
    "labels": [
      "bug",
      "custom-components"
    ],
    "body": "### Describe the bug\n\nFollowing the guide for creating an example custom component with a simple text box found [here](https://www.gradio.app/guides/custom-components-in-five-minutes), I found that after using cc create and trying to go into the development server with cc dev, the opening of the development server fails. My test component is stored in a directory including the folder 'Gradio Test'. The error returned claims an unexpected extra argument, from which it suggests the directory name is being handled unaltered and the space within it not being taken into account.\n\n### Have you searched existing issues?  🔎\n\n- [X] I have searched and found no existing issues\n\n### Reproduction\n\n```python\r\ngradio cc create TestComponent --template SimpleTextBox\r\ngradio cc dev\r\n\r\n```\r\n\n\n### Screenshot\n\n![Screenshot 2024-07-15 at 15 03 30](https://github.com/user-attachments/assets/35f4103d-4966-47ad-a2af-5bf6fb282ab3)\r\n\n\n### Logs\n\n_No response_\n\n### System Info\n\n```shell\nGradio Environment Information:\r\n------------------------------\r\nOperating System: Darwin\r\ngradio version: 4.38.1\r\ngradio_client version: 1.1.0\r\n\r\n------------------------------------------------\r\ngradio dependencies in your environment:\r\n\r\naiofiles: 23.2.1\r\naltair: 5.3.0\r\nfastapi: 0.111.0\r\nffmpy: 0.3.2\r\ngradio-client==1.1.0 is not installed.\r\nhttpx: 0.27.0\r\nhuggingface-hub: 0.23.4\r\nimportlib-resources: 6.4.0\r\njinja2: 3.1.4\r\nmarkupsafe: 2.1.5\r\nmatplotlib: 3.9.1\r\nnumpy: 1.26.4\r\norjson: 3.10.6\r\npackaging: 24.1\r\npandas: 2.2.2\r\npillow: 10.4.0\r\npydantic: 2.8.2\r\npydub: 0.25.1\r\npython-multipart: 0.0.9\r\npyyaml: 6.0.1\r\nruff: 0.5.1\r\nsemantic-version: 2.10.0\r\ntomlkit==0.12.0 is not installed.\r\ntyper: 0.12.3\r\ntyping-extensions: 4.12.2\r\nurllib3: 2.2.2\r\nuvicorn: 0.30.1\r\nauthlib; extra == 'oauth' is not installed.\r\nitsdangerous; extra == 'oauth' is not installed.\r\n\r\n\r\ngradio_client dependencies in your environment:\r\n\r\nfsspec: 2024.6.1\r\nhttpx: 0.27.0\r\nhuggingface-hub: 0.23.4\r\npackaging: 24.1\r\ntyping-extensions: 4.12.2\r\nwebsockets: 11.0.3\n```\n\n\n### Severity\n\nI can work around it",
    "comments": []
  },
  {
    "issue_number": 10581,
    "title": "Cached examples do not work inside `gr.render()`",
    "author": "abidlabs",
    "state": "closed",
    "created_at": "2025-02-12T22:33:34Z",
    "updated_at": "2025-06-13T20:01:00Z",
    "labels": [
      "bug",
      "Priority"
    ],
    "body": "### Describe the bug\n\nExample caching does not work inside `gr.render()` because the Examples/Interface code is not executed at runtime. The fix would be that if the cached example does not exist, it should be cached when the user clicks on the example (similar to lazy caching). However, we should make sure that if an Examples is re-rendered, the cached examples are not used since the function to generate those Examples may have changed.\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\n```python\nimport gradio as gr\n\nwith gr.Blocks() as demo:\n    @gr.render()\n    def cached_interface():\n        gr.Interface(lambda x:x, \"textbox\", \"textbox\", examples=[\"abc\"], cache_examples=True)\n\ndemo.launch()\n```\n\n\n### Screenshot\n\n_No response_\n\n### Logs\n\n```shell\n\n```\n\n### System Info\n\n```shell\ngradio==5.16\n```\n\n### Severity\n\nI can work around it",
    "comments": []
  },
  {
    "issue_number": 11240,
    "title": "Allow overriding HF space `repo_id` in `gradio cc publish`",
    "author": "oxkitsune",
    "state": "closed",
    "created_at": "2025-05-22T08:27:50Z",
    "updated_at": "2025-06-13T19:48:51Z",
    "labels": [
      "enhancement"
    ],
    "body": "- [x] I have searched to see if a similar issue already exists.\n\n\n**Is your feature request related to a problem? Please describe.**  \n\nWe maintain a custom Gradio component for the Rerun viewer ([rerun-io/gradio-rerun-viewer](https://github.com/rerun-io/gradio-rerun-viewer)), and have a demo space on our Huggingface organization ([rerun/gradio-rerun-viewer](https://huggingface.co/spaces/rerun/gradio-rerun-viewer)). \n\nWhen we are publishing a new version, we cannot deploy the demo and source directly using `gradio cc publish`, because the `repo_id` is set to the component package name:\n\nhttps://github.com/gradio-app/gradio/blob/40997002090b0ad7cd1037872523dcdd9bf45bc3/gradio/cli/commands/components/publish.py#L245-L256\n\nSo the demo space will be created on my personal Huggingface account, instead of our organization.\n\n**Describe the solution you'd like**  \n\nI'd like to be able to specify the `repo_id` as a CLI argument when publishing, e.g.\n\n```sh\ngradio cc publish --hf-token <some-token> --repo-id rerun/gradio-rerun-viewer\n```\n",
    "comments": [
      {
        "user": "freddyaboulton",
        "body": "Makes sense @oxkitsune !"
      }
    ]
  },
  {
    "issue_number": 11390,
    "title": "Selecting a folder in FileExplorer",
    "author": "GrunyD",
    "state": "open",
    "created_at": "2025-06-13T11:08:19Z",
    "updated_at": "2025-06-13T19:48:06Z",
    "labels": [
      "enhancement"
    ],
    "body": "- [x] I have searched to see if a similar issue already exists.\n\nOur specific problem is that we need to select zarr and ome-zarr structures which are basically folders with a nested structure of folders and files. Our specific need is to select a single folder.\n\nCurrent gradio solution is to open the folder and click \".\" folder:\n\n![Image](https://github.com/user-attachments/assets/c93946f4-e99d-4959-bab7-387dffbad698)\n\nI had to got through the issue [#9835](https://github.com/gradio-app/gradio/pull/9835) to figure out how it works. This solution is very unsatisfying, bordering with blocking the usage of gradio. The fact that a user and a developer of gradio (I am assuming its a developer) both missed the fact that you have to click the inner \".\" folder proves my point about how intuitive it is. I apologize if I am wrong and just didn't find the proper way to do it.\n\nAlso another problem arises as mentioned at the end of the [#9835](https://github.com/gradio-app/gradio/pull/9835). If you let people to only see folders, it is not possible to select them.\n\n![Image](https://github.com/user-attachments/assets/82b58c9b-f270-4269-8d65-197fc30dcd92)\n\nI suggest switching the behavior. \nFor `file_count=\"single\"` you have a checkbox next to a folder, if you select that, it will only select the folder.\nFor `file_count=\"multiple\"` the behavior of the checkbox doesn't change, but you gain the option inside the folder to select everything (instead of the \".\" folder/file/option). \n\nThis leads to \n1. more predictable behavior as the checkbox behaves the same for both files and folders\n2. preventing undesirable behavior like the post at the end of [#9835](https://github.com/gradio-app/gradio/pull/9835) where you can not select a single folder if you display only folders.\n3. Better user experience as choosing one folder is definitely more usual case than choosing all contents of a folder\n",
    "comments": []
  },
  {
    "issue_number": 11389,
    "title": "Pagination of example table with example_labels is not working",
    "author": "aaronspring",
    "state": "open",
    "created_at": "2025-06-13T06:14:39Z",
    "updated_at": "2025-06-13T19:47:54Z",
    "labels": [
      "bug"
    ],
    "body": "### Describe the bug\n\nvery similar to https://github.com/gradio-app/gradio/issues/3136\n\nsecond page not opened when clicked\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\n```python\nimport gradio as gr\n\nwith gr.Blocks() as demo:\n    text1 = gr.Text()\n    text2 = gr.Text()\n    with gr.Row():\n        examples = [[str(i), 'a'] for i in range(10)]\n        gr.Examples(examples=examples,\n                    inputs=[text1, text2],\n                    example_labels=[f\"Example {i}\" for i in range(10)],\n                    label=\"Example Inputs\",\n                    examples_per_page=5)\ndemo.queue().launch()\n```\n\n\n### Screenshot\n\n<img width=\"586\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/61526b11-2dc4-4ebd-bf3c-59a0a731fdff\" />\n\n### Logs\n\n```shell\n\n```\n\n### System Info\n\n```shell\nGradio Environment Information:\n------------------------------\nOperating System: Darwin\ngradio version: 5.25.2\ngradio_client version: 1.8.0\n\n------------------------------------------------\ngradio dependencies in your environment:\n\naiofiles: 24.1.0\nanyio: 4.9.0\naudioop-lts is not installed.\nfastapi: 0.115.12\nffmpy: 0.5.0\ngradio-client==1.8.0 is not installed.\ngroovy: 0.1.2\nhttpx: 0.28.1\nhuggingface-hub: 0.30.2\njinja2: 3.1.6\nmarkupsafe: 3.0.2\nnumpy: 2.2.4\norjson: 3.10.16\npackaging: 24.2\npandas: 2.2.3\npillow: 11.1.0\npydantic: 2.11.3\npydub: 0.25.1\npython-multipart: 0.0.20\npyyaml: 6.0.2\nruff: 0.11.6\nsafehttpx: 0.1.6\nsemantic-version: 2.10.0\nstarlette: 0.46.2\ntomlkit: 0.13.2\ntyper: 0.15.2\ntyping-extensions: 4.13.2\nurllib3: 2.4.0\nuvicorn: 0.34.2\nauthlib; extra == 'oauth' is not installed.\nitsdangerous; extra == 'oauth' is not installed.\n\n\ngradio_client dependencies in your environment:\n\nfsspec: 2025.3.2\nhttpx: 0.28.1\nhuggingface-hub: 0.30.2\npackaging: 24.2\ntyping-extensions: 4.13.2\nwebsockets: 15.0.1\n```\n\n### Severity\n\nI can work around it",
    "comments": [
      {
        "user": "abidlabs",
        "body": "Can reproduce in the latest version of Gradio, thanks @aaronspring, we'll look into it"
      }
    ]
  },
  {
    "issue_number": 7686,
    "title": "Temporary files are being deleted, however, they remain visible when listing files at the temp location",
    "author": "yvrjsharma",
    "state": "closed",
    "created_at": "2024-03-13T11:47:24Z",
    "updated_at": "2025-06-13T19:45:29Z",
    "labels": [
      "bug"
    ],
    "body": "### Describe the bug\n\n1. I am currently using the `delete_cache` function in my app to remove temporary files. Although the process of deleting the files seems to be working (as I have checked the temporary location and verified that the files have been deleted), the files still appear to be visible when I list the contents of the temporary location.\r\n\r\n2. Secondly, I am wondering why I am unable to view my local file at the temporary location through the File Explorer, even after moving it there. I have attached a video to demonstrate this issue. However, I can see the file listed among the other files at the temporary location.\r\n\r\nMy test app can be accessed here - https://huggingface.co/spaces/ysharma/test_cache_delete\r\n\n\n### Have you searched existing issues?  🔎\n\n- [X] I have searched and found no existing issues\n\n### Reproduction\n\n```python\r\nimport gradio as gr\r\nimport tempfile\r\nfrom PIL import Image\r\nimport os\r\nimport shutil\r\n\r\n# Get the path of the system's temporary directory\r\nsys_temp_directory = tempfile.gettempdir()\r\nprint(f\"System's temporary directory is: {sys_temp_directory}\")\r\n\r\n\r\n# create directory for 'temp files' \r\ntemp_directory_parent = 'temp_dir_parent'\r\ntemp_directory_child = 'temp_dir_child'\r\n# Construct the full path for the child directory, including the parent\r\ntemp_full_path = os.path.join(temp_directory_parent, temp_directory_child)\r\n# Check if the directory already exists and create if doesn`t\r\nos.makedirs(temp_full_path, exist_ok=True)\r\n\r\n# Set the environment variable for temp gradio files\r\nos.environ['GRADIO_TEMP_DIR'] = '/content/temp_dir_parent/temp_dir_child'\r\ngradio_temp_dir = os.environ['GRADIO_TEMP_DIR'] \r\n\r\n\r\n\r\n# create directory for 'local files' \r\nlocal_directory_parent = 'local_dir_parent'\r\nlocal_directory_child = 'local_dir_child'\r\n# Construct the full path for the child directory, including the parent\r\nlocal_full_path = os.path.join(local_directory_parent, local_directory_child)\r\n# Create the directory hierarchy. \r\nos.makedirs(local_full_path, exist_ok=True)\r\n# Specify the path for a dummy file within the local child directory\r\ndummy_file_path = os.path.join(local_directory_parent, local_directory_child, 'dummy_file.txt')\r\n#dummy_file_path2 = os.path.join(absolute_path_child, 'dummy_file2.txt')\r\nwith open(dummy_file_path, 'w') as file:\r\n    pass\r\n\r\n\r\n\r\ndef movefiles():\r\n    \"\"\"\r\n    Move the local file to gradio`s temp location \r\n    \"\"\"\r\n    # file name of the local file that will be moved\r\n    file_name = 'dummy_file.txt'\r\n    \r\n    # Construct the new path in the system temp directory with the same filename\r\n    new_path = os.path.join(sys_temp_directory, os.path.basename(file_name))\r\n    \r\n    # Move the file\r\n    shutil.move(dummy_file_path, new_path)\r\n\r\ndef create():\r\n    \"\"\"\r\n    Create a dummy image\r\n    \"\"\"\r\n    color='blue'\r\n    width=512\r\n    height=512\r\n\r\n    # Create a temporary file\r\n    temp_file = tempfile.NamedTemporaryFile(delete=False, suffix=\".png\")\r\n\r\n    # Create a new image with the given mode and size\r\n    image = Image.new(\"RGB\", (width, height), color)\r\n\r\n    # Save the image to disk\r\n    image.save(temp_file, format='PNG')\r\n\r\n    # List all entries in the directory\r\n    temp_directory_file_list = os.listdir(sys_temp_directory)\r\n\r\n    return temp_file.name, temp_directory_file_list\r\n\r\n\r\nwith gr.Blocks(delete_cache=(5,10),) as demo:\r\n    with gr.Row():\r\n        inp = gr.Textbox(placeholder=\"Temporary files at location specified with GRADIO_TEMP_DIR \")\r\n        out = gr.Image(type='filepath')\r\n        gr.FileExplorer(label=\"Temp storage\", root_dir=temp_directory_parent) \r\n    with gr.Row(equal_height=False):\r\n        with gr.Column():\r\n            btn = gr.Button(\"Generate temp files!\")\r\n            btn2 = gr.Button(\"Move local file to temp dir!\")\r\n        gr.FileExplorer(label=\"local storage\", root_dir=local_directory_parent) \r\n        \r\n    btn.click(create,inputs=[],outputs=[out, inp])\r\n    btn2.click(movefiles,inputs=[],outputs=[])\r\n\r\ndemo.launch(debug=True)\r\n```\r\n\n\n### Screenshot\n\nI am attaching a recording of the above-mentioned behaviour using the Space linked in the description:\r\n\r\n\r\nhttps://github.com/gradio-app/gradio/assets/48665385/3cdfd274-cf7e-4154-81a2-132a7792d217\r\n\r\n\n\n### Logs\n\n_No response_\n\n### System Info\n\n```shell\nGoogle Colab and Spaces\n```\n\n\n### Severity\n\nI can work around it",
    "comments": [
      {
        "user": "freddyaboulton",
        "body": "> I am currently using the delete_cache function in my app to remove temporary files. Although the process of deleting the files seems to be working (as I have checked the temporary location and verified that the files have been deleted), the files still appear to be visible when I list the contents of the temporary location. \n\n@yvrjsharma This is expected. We only delete files in GRADIO_TEMP_DIR which are output from the function. We actually don't keep track of the image created in `image.save(temp_file, format='PNG')`. I think the FileExplorer does not show the most-up-to-date contents of the directory so that sounds like a separate issue. Let me know if I'm misunderstanding. "
      }
    ]
  },
  {
    "issue_number": 11341,
    "title": "Hidden tables are nested within the tables present in the page in windows.",
    "author": "msftedad",
    "state": "closed",
    "created_at": "2025-06-05T11:21:44Z",
    "updated_at": "2025-06-13T19:40:43Z",
    "labels": [
      "bug"
    ],
    "body": "### Describe the bug\n\nHidden tables are nested within the tables present in the page in windows. This bug affects users who rely on screen readers or other assistive technologies, as hidden tables within visible tables can lead to confusion or incorrect content interpretation. It particularly impacts blind or low-vision users who depend on screen readers to accurately navigate and understand page structures.\n\nActual Result:\nOn invoking 't' shortcut key screen reader focus is going to the hidden content in the table and Screen reader is identifying two table within one visual table and announcing incorrect row information for the tables present in the page.\nOn first 'T' key screen reader is narrating as \"main landmark    table records table with 2 rows and 3 columns records\"\nOn the next 'T' key screen reader is narrating as \"table with 6 rows and 3 columns row 1 column 1 name button button\"\n\nExpected Result:\nHidden tables should not be defined within the tables present in the page in windows.\n\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\n1. Open the [Gradio Playground](https://www.gradio.app/playground?demo=Blank&code=aW1wb3J0IGdyYWRpbyBhcyBncgoKZGVmIGZpbHRlcl9yZWNvcmRzKHJlY29yZHMsIGdlbmRlcik6CiAgICByZXR1cm4gcmVjb3Jkc1tyZWNvcmRzWyJnZW5kZXIiXSA9PSBnZW5kZXJdCgpkZW1vID0gZ3IuSW50ZXJmYWNlKAogICAgZmlsdGVyX3JlY29yZHMsCiAgICBbCiAgICAgICAgZ3IuRGF0YWZyYW1lKAogICAgICAgICAgICBoZWFkZXJzPVsibmFtZSIsICJhZ2UiLCAiZ2VuZGVyIl0sCiAgICAgICAgICAgIGRhdGF0eXBlPVsic3RyIiwgIm51bWJlciIsICJzdHIiXSwKICAgICAgICAgICAgcm93X2NvdW50PTUsCiAgICAgICAgICAgIGNvbF9jb3VudD0oMywgImZpeGVkIiksCiAgICAgICAgKSwKICAgICAgICBnci5Ecm9wZG93bihbIk0iLCAiRiIsICJPIl0pLAogICAgXSwKICAgICJkYXRhZnJhbWUiLAogICAgZGVzY3JpcHRpb249IkVudGVyIGdlbmRlciBhcyAnTScsICdGJywgb3IgJ08nIGZvciBvdGhlci4iLAopCgppZiBfX25hbWVfXyA9PSAiX19tYWluX18iOgogICAgZGVtby5sYXVuY2goKQo%3D&reqs=) URL in latest edge browser.\n2. 'Gradio playground' page gets displayed.\n3. Navigate to the tables present in the table using shortcut key 'T'.\n4. Observe and verify whether screen reader is narrating incorrect row count information for the tables or not.\n\n\n### Screenshot\n\n<!-- Failed to upload \"Hidden tables are nested within the tables present in the page in windows.mp4\" -->\n<img width=\"1915\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/f3c124be-c931-46e8-a367-865aea45107f\" />\n\n### Logs\n\n```shell\n\n```\n\n### System Info\n\n```shell\nOS: Windows 11 Version 24H2(OS Build 26120.1930)\nScreen reader: Narrator, JAWS 2025.2410.106\nTest URL: Gradio Playground\n```\n\n### Severity\n\nBlocking usage of gradio",
    "comments": [
      {
        "user": "abidlabs",
        "body": "Not 100% sure I understand where this issue is stemming from @msftedad. Are you seeing this only in the Gradio Playground or any Gradio app that includes a `gr.DataFrame`? It'd be great if you can provide a minimal code example that we can use to reproduce the issue, see: https://stackoverflow.com/help/minimal-reproducible-example"
      },
      {
        "user": "hannahblair",
        "body": "I can handle this, @abidlabs! To clarify, the dataframe has always rendered two tables: one visible and another visually hidden to calculate cell widths. The hidden table is likely being included in the accessibility tree, which could confuse screen reader users. Adding an `aria-hidden=\"true\"` attribute to the hidden table should prevent it from being exposed to assistive technologies. Thanks for flagging this, @msftedad!"
      }
    ]
  },
  {
    "issue_number": 6604,
    "title": "Change label of Examples in ChatInterface",
    "author": "canytam-krystal",
    "state": "open",
    "created_at": "2023-11-29T06:05:42Z",
    "updated_at": "2025-06-13T18:47:34Z",
    "labels": [
      "enhancement"
    ],
    "body": "- [ x] I have searched to see if a similar issue already exists.\r\n\r\n\r\n**Is your feature request related to a problem? Please describe.**  \r\nI am using ChatInterface to make multi-language application, but the label of Examples is also English and cannot find any way to change it.\r\n\r\n**Describe the solution you'd like**  \r\nCan you add a parameter to the ChatInterface so we can set the label content?\r\n",
    "comments": [
      {
        "user": "abidlabs",
        "body": "Hi @canytam-krystal can you elaborate a little more, what do you mean? You can set the `examples` parameter to be any text string in any language?"
      },
      {
        "user": "canytam-krystal",
        "body": "![Screenshot from 2023-11-29 15-19-23](https://github.com/gradio-app/gradio/assets/137162246/475ed7b2-479c-4b59-bb72-cbd6a2e541f1)\r\nIn the above image, you can see the label ('Examples') is still in English but my content is in Chinese. Can you provide a way to change the label so I can put Chinese label there. Actually, gradio.Examples has a parameter 'label' that can change the label content but gradio.ChatInterface has no such option. \r\n"
      },
      {
        "user": "abidlabs",
        "body": "Ah I see, that makes sense. Yes this is something we allow users to customize"
      }
    ]
  },
  {
    "issue_number": 10600,
    "title": "gradio cli cannot reload scripts with utf8-bom encoding",
    "author": "IceSandwich",
    "state": "closed",
    "created_at": "2025-02-16T13:43:19Z",
    "updated_at": "2025-06-13T17:56:52Z",
    "labels": [
      "bug"
    ],
    "body": "### Describe the bug\n\nAs saying in this [documentation](https://www.gradio.app/guides/developing-faster-with-reload-mode):\n\n> By default, the Gradio use UTF-8 encoding for scripts.\n\nBut it's not going to work with UTF-8 BOM encoding scripts.\n\n``` bash\n> gradio webui.py\nTraceback (most recent call last):\n  File \"D:\\miniconda3\\envs\\voicelab\\lib\\threading.py\", line 1016, in _bootstrap_inner\n    self.run()\n  File \"D:\\miniconda3\\envs\\voicelab\\lib\\threading.py\", line 953, in run\n    self._target(*self._args, **self._kwargs)\n  File \"D:\\miniconda3\\envs\\voicelab\\lib\\site-packages\\gradio\\utils.py\", line 284, in watchfn\n    no_reload_source_code = _remove_if_name_main_codeblock(str(reloader.demo_file))\n  File \"D:\\miniconda3\\envs\\voicelab\\lib\\site-packages\\gradio\\utils.py\", line 202, in _remove_if_name_main_codeblock\n    tree = ast.parse(code)\n  File \"D:\\miniconda3\\envs\\voicelab\\lib\\ast.py\", line 50, in parse\n    return compile(source, filename, mode, flags,\n  File \"<unknown>\", line 1\n    ﻿#-*- coding: utf-8 -*-\n    ^\nSyntaxError: invalid non-printable character U+FEFF\n* Running on local URL:  http://127.0.0.1:8000\n\nTo create a public link, set `share=True` in `launch()`.\nKeyboard interruption in main thread... closing server.\n```\n\n`U+FEFF` is the identification of UTF-8 BOM encoding.\n\nSo, it's a bug?\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\n```python\n﻿#-*- coding: utf-8 -*-\nimport gradio as gr\n\n```\nSave it in UTF-8 BOM encoding and use `gradio` to run it.\n\n### Screenshot\n\n_No response_\n\n### Logs\n\n```shell\n\n```\n\n### System Info\n\n```shell\nGradio Environment Information:\n------------------------------\nOperating System: Windows\ngradio version: 5.16.0\ngradio_client version: 1.7.0\n\n------------------------------------------------\ngradio dependencies in your environment:\n\naiofiles: 23.2.1\nanyio: 4.8.0\naudioop-lts is not installed.\nfastapi: 0.115.8\nffmpy: 0.5.0\ngradio-client==1.7.0 is not installed.\nhttpx: 0.28.1\nhuggingface-hub: 0.28.1\njinja2: 3.1.5\nmarkupsafe: 2.1.5\nnumpy: 1.26.4\norjson: 3.10.15\npackaging: 24.2\npandas: 2.2.3\npillow: 10.4.0\npydantic: 2.10.6\npydub: 0.25.1\npython-multipart: 0.0.20\npyyaml: 6.0.2\nruff: 0.9.6\nsafehttpx: 0.1.6\nsemantic-version: 2.10.0\nstarlette: 0.45.3\ntomlkit: 0.13.2\ntyper: 0.15.1\ntyping-extensions: 4.12.2\nurllib3: 2.3.0\nuvicorn: 0.34.0\nauthlib; extra == 'oauth' is not installed.\nitsdangerous; extra == 'oauth' is not installed.\n\n\ngradio_client dependencies in your environment:\n\nfsspec: 2025.2.0\nhttpx: 0.28.1\nhuggingface-hub: 0.28.1\npackaging: 24.2\ntyping-extensions: 4.12.2\nwebsockets: 11.0.3\n```\n\n### Severity\n\nI can work around it",
    "comments": [
      {
        "user": "Nokk7437",
        "body": "\"Hello, how did you solve this problem? I encountered a similar issue: UnicodeDecodeError: 'utf-8' codec can't decode byte 0xad in position 1: invalid start byte, and my version is the latest.\""
      },
      {
        "user": "IceSandwich",
        "body": "@Nokk7437 Maybe you encountered a different issue. In my case, changing the encoding to utf-8 without BOM solves this problem. gradio will work with native utf-8 encoding. Have you tried to save your code in utf-8 encoding and put `#-*- coding: utf-8 -*-` at the beginning?"
      },
      {
        "user": "freddyaboulton",
        "body": "I cannot reproduce with the following script @IceSandwich !\n\n```python\n# -*- coding: utf-8-sig -*-\n\nimport gradio as gr\n\ndef greet(name):\n    return f\"Hello, {name}! This is a Gradio app with UTF-8 BOM support. Grüß Gott!\"\n\ndemo = gr.Interface(\n    fn=greet,\n    inputs=gr.Textbox(label=\"Enter your name\"),\n    outputs=gr.Textbox(label=\"Greeting\"),\n    title=\"UTF-8 BOM Gradio Example!\",\n    description=\"Enter your name and get a greeting. This script is intended to be saved with UTF-8 BOM encoding.\"\n)\n\nif __name__ == \"__main__\":\n    demo.launch()\n```"
      }
    ]
  },
  {
    "issue_number": 9251,
    "title": "Have trouble streaming the video with sound.",
    "author": "Henry-23",
    "state": "closed",
    "created_at": "2024-09-03T10:39:35Z",
    "updated_at": "2025-06-13T17:18:20Z",
    "labels": [
      "bug"
    ],
    "body": "### Describe the bug\n\nHi, thanks for this great work. I was trying to use the new video real-time streaming output feature that is enabled by [this](https://github.com/gradio-app/gradio/pull/8906) (currently under the 5.0-dev branch).\r\n\r\nI want to know whether it supports streaming of videos with sound? I wrote the code and yielded several videos with sound, but gradio can only play the first video. Subsequent videos cannot be played on the web page, and the progress bar cannot be dragged backward. After I downloaded the ts video to the local computer, I found that the video is complete. Is this a problem that the gradio front-end does not support it? Or is it a problem with my video encoding? The ffmpeg command I used is shown below.\r\n\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\n```python\r\n    ffmpeg_command = [\r\n        'ffmpeg',\r\n        '-framerate', str(fps),\r\n        '-i', str(image_folder / '%08d.png'),\r\n        '-i', audio_path,\r\n        '-c:v', 'libx264',     \r\n        '-c:a', 'aac',          \r\n        '-strict', 'experimental',\r\n        '-shortest',\r\n        '-f', 'mpegts',         \r\n        output_file\r\n    ]\r\n\r\n```\r\n\n\n### Screenshot\n\n_No response_\n\n### Logs\n\n_No response_\n\n### System Info\n\n```shell\npip install with: https://gradio-builds.s3.amazonaws.com/bed454c3d22cfacedc047eb3b0ba987b485ac3fd/gradio-4.40.0-py3-none-any.whl\n```\n\n\n### Severity\n\nBlocking usage of gradio",
    "comments": [
      {
        "user": "abidlabs",
        "body": "cc @freddyaboulton "
      },
      {
        "user": "freddyaboulton",
        "body": "Hi @Henry-23 ! Happy to look into this, if you can share the full application code it might be a bit easier for me."
      },
      {
        "user": "Henry-23",
        "body": "> Hi @Henry-23 ! Happy to look into this, if you can share the full application code it might be a bit easier for me.\r\n\r\nHi @freddyaboulton Thanks for your reply! \r\n\r\nMy code uses the ffmpeg command to merge all the pictures and corresponding audio in a folder into a video with sound. Merging to .ts or merging to .mp4 has a similar problem, only the first video of yield and the end part of the last video of yield can be played (for example, the first video has 4s, and the last The video lasts 5s, so the effect of playing it on the webpage is: the first 4s is the content of the first video, and 4-5s is the last second of the last video). However, after downloading the ts file, the local player can play the transmitted complete video.\r\n\r\nIs it a video encoding/decoding issue？\r\n\r\n```python\r\ndef gen_video_by_index(audio_path, index, fps=25):\r\n    print(f\"Processing {index}...\")\r\n    image_folder = IMAGES_DIR / index\r\n    image_paths = sorted([f for f in os.listdir(image_folder) if f.endswith('.png')])\r\n    output_file = str(current_dir / f\"output_{index}.ts\")\r\n\r\n    ffmpeg_command = [\r\n        'ffmpeg',\r\n        '-framerate', str(fps),\r\n        '-i', str(image_folder / '%08d.png'),\r\n        '-i', audio_path,\r\n        '-c:v', 'libx264',     \r\n        '-c:a', 'aac', \r\n        '-shortest',\r\n        '-f', 'mpegts',         \r\n        output_file\r\n    ]\r\n\r\n    subprocess.run(ffmpeg_command, check=True)\r\n\r\n    return output_file\r\n```"
      }
    ]
  },
  {
    "issue_number": 6850,
    "title": "`gr.Plot` is rendered smaller in a hidden `gr.Tab`",
    "author": "hysts",
    "state": "closed",
    "created_at": "2023-12-20T06:03:11Z",
    "updated_at": "2025-06-13T14:51:38Z",
    "labels": [
      "bug"
    ],
    "body": "### Describe the bug\n\nWhen `gr.Plot` is placed in `gr.Tab`, the graph is rendered smaller than expected in the second tab compared to the first tab even though the figures are the same.\n\n### Have you searched existing issues?  🔎\n\n- [X] I have searched and found no existing issues\n\n### Reproduction\n\nrepro Space: https://huggingface.co/spaces/hysts-debug/gradio-plot-render-in-tab\r\n\r\n```python\r\nimport gradio as gr\r\nimport numpy as np\r\nimport pandas as pd\r\nimport plotly.express as px\r\n\r\nnp.random.seed(0)\r\n\r\ndf = pd.DataFrame({\"x\": np.arange(100), \"y\": np.random.normal(size=100).cumsum()})\r\nfig = px.line(df, x=\"x\", y=\"y\")\r\n\r\nwith gr.Blocks() as demo:\r\n    with gr.Tabs():\r\n        with gr.Tab(label=\"a\"):\r\n            gr.Plot(value=fig)\r\n        with gr.Tab(label=\"b\"):\r\n            gr.Plot(value=fig)\r\n\r\nif __name__ == \"__main__\":\r\n    demo.queue().launch()\r\n```\r\n\n\n### Screenshot\n\n\r\nhttps://github.com/gradio-app/gradio/assets/25161192/8514591a-8643-4117-97b1-60a57409c315\r\n\r\n\n\n### Logs\n\n_No response_\n\n### System Info\n\n```shell\nGradio Environment Information:\r\n------------------------------\r\nOperating System: Linux\r\ngradio version: 4.11.0\r\ngradio_client version: 0.7.3\r\n\r\n------------------------------------------------\r\ngradio dependencies in your environment:\r\n\r\naiofiles: 23.2.1\r\naltair: 5.2.0\r\nfastapi: 0.105.0\r\nffmpy: 0.3.1\r\ngradio-client==0.7.3 is not installed.\r\nhttpx: 0.25.2\r\nhuggingface-hub: 0.19.4\r\nimportlib-resources: 6.1.1\r\njinja2: 3.1.2\r\nmarkupsafe: 2.1.3\r\nmatplotlib: 3.8.2\r\nnumpy: 1.26.2\r\norjson: 3.9.10\r\npackaging: 23.2\r\npandas: 2.1.4\r\npillow: 10.1.0\r\npydantic: 2.5.2\r\npydub: 0.25.1\r\npython-multipart: 0.0.6\r\npyyaml: 6.0.1\r\nsemantic-version: 2.10.0\r\ntomlkit==0.12.0 is not installed.\r\ntyper: 0.9.0\r\ntyping-extensions: 4.9.0\r\nuvicorn: 0.24.0.post1\r\nauthlib; extra == 'oauth' is not installed.\r\nitsdangerous; extra == 'oauth' is not installed.\r\n\r\n\r\ngradio_client dependencies in your environment:\r\n\r\nfsspec: 2023.10.0\r\nhttpx: 0.25.2\r\nhuggingface-hub: 0.19.4\r\npackaging: 23.2\r\ntyping-extensions: 4.9.0\r\nwebsockets: 11.0.3\n```\n\n\n### Severity\n\nI can work around it",
    "comments": [
      {
        "user": "olex17",
        "body": "The bug still exists.\n\n**Reproduction**\n\nhttps://60183a44723f473d61.gradio.live/\n\n**System info**\n\nGradio Environment Information:\n------------------------------\nOperating System: Darwin\ngradio version: 5.33.0\ngradio_client version: 1.10.2\n\n------------------------------------------------\ngradio dependencies in your environment:\n\naiofiles: 23.2.1\nanyio: 4.3.0\naudioop-lts is not installed.\nfastapi: 0.115.12\nffmpy: 0.6.0\ngradio-client: 1.10.2\ngroovy: 0.1.2\nhttpx: 0.26.0\nhuggingface-hub: 0.30.2\njinja2: 3.1.3\nmarkupsafe: 2.1.5\nnumpy: 1.23.5\norjson: 3.9.15\npackaging: 23.2\npandas: 2.3.0\npillow: 10.2.0\npydantic: 2.6.4\npydub: 0.25.1\npython-multipart: 0.0.20\npyyaml: 6.0.2\nruff: 0.11.13\nsafehttpx: 0.1.6\nsemantic-version: 2.10.0\nstarlette: 0.46.2\ntomlkit: 0.12.1\ntyper: 0.16.0\ntyping-extensions: 4.10.0\nurllib3: 2.4.0\nuvicorn: 0.28.0\nmcp is not installed.\npydantic: 2.6.4\nauthlib is not installed.\nitsdangerous: 2.1.2\n\n\ngradio_client dependencies in your environment:\n\nfsspec: 2024.9.0\nhttpx: 0.26.0\nhuggingface-hub: 0.30.2\npackaging: 23.2\ntyping-extensions: 4.10.0\nwebsockets: 11.0.3\n"
      }
    ]
  },
  {
    "issue_number": 11321,
    "title": "DataFrame render breaks after scroll and hide",
    "author": "deckar01",
    "state": "closed",
    "created_at": "2025-06-03T17:06:11Z",
    "updated_at": "2025-06-13T10:58:43Z",
    "labels": [
      "bug"
    ],
    "body": "### Describe the bug\n\nA hidden `DataFrame` with a scroll offset fails to render some rows until user interaction triggers it to recompute. The virtual table logic incorrectly assumes the first page of rows are always shown on load. I suspect the fix is to remove the redundant load logic and reuse the working update logic for loading.\n\nInitially reported [in Discord on May 7th](https://discord.com/channels/879548962464493619/1369605667995914331/1369605667995914331), but resolved without a GitHub issue.\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\n```python\nimport gradio as gr\nwith gr.Blocks() as demo:\n    vis = gr.Radio(['show', 'hide'], value='show')\n    table = gr.DataFrame([[x for x in range(4)] for y in range(40)])\n    vis.change(lambda vis: gr.DataFrame(visible=(vis == 'show')), vis, table)\ndemo.launch()\n```\n\n\n### Screenshot\n\nhttps://github.com/user-attachments/assets/7145c26b-315a-42d8-ad28-68f77f060aa8\n\n### Logs\n\n```shell\n\n```\n\n### System Info\n\n```shell\nReproduced on multiple platforms.\n```\n\n### Severity\n\nI can work around it",
    "comments": [
      {
        "user": "abidlabs",
        "body": "Interesting, I wonder if this will get fixed by your rendering work @pngwn?"
      },
      {
        "user": "deckar01",
        "body": "The underlying issue is how `VirtualTable.svelte::refresh_height_map()` computes `end`.\n\n```js\ncontent_height = top - (scrollTop - head_height);\nlet i = start;\n\nwhile (content_height < max_height && i < _items.length) {\n...\n\nend = i;\n```\n\nThis only works when the component is first mounted and `top` and `scrollTop` are `0`. `max_height` is a relative dimension, so `content_height` should always start at `0` when measuring how many rows to insert. `handle_scroll()` computes the `end` correctly. There are slight deviations between these two functions that cause the table height to change unexpectedly on first scroll in some edge cases."
      },
      {
        "user": "pngwn",
        "body": "@abidlabs it would "
      }
    ]
  },
  {
    "issue_number": 8781,
    "title": "Custom component dev server broke on windows",
    "author": "FlyingCarlos",
    "state": "closed",
    "created_at": "2024-07-15T07:33:59Z",
    "updated_at": "2025-06-13T04:11:13Z",
    "labels": [
      "bug",
      "Priority",
      "custom-components"
    ],
    "body": "### Describe the bug\n\nI try to build a custom Chatbot and so I follow the instruction on [tutorial](https://www.gradio.app/main/guides/custom-components-in-five-minutes).  After I run ```gradio cc dev```, some errors occur on terminal, and the frontend server cannot fetch index.js and style.css. I run gradio commands within a conda env on windows.\n\n### Have you searched existing issues?  🔎\n\n- [X] I have searched and found no existing issues\n\n### Reproduction\n\n```powershell\r\n(AIenv)PS D:\\project> gradio cc create EditableChatbot --template Chatbot\r\n(AIenv)PS D:\\project> cd .\\editablechatbot\\\r\n(AIenv)PS D:\\project\\editablechatbot> $env:NO_PROXY = '127.0.0.1'\r\n>> $env:GRADIO_ANALYTICS_ENABLED = 'False'\r\n>>\r\n(AIenv)PS D:\\project\\editablechatbot> gradio cc dev\r\n```\r\n\n\n### Screenshot\n\n![gradio_bug](https://github.com/user-attachments/assets/c81b31e9-68b0-4d63-876b-db097266a9fd)\r\n![gradiobug2](https://github.com/user-attachments/assets/b2b3bc68-6e08-4130-91b8-9906bf0de144)\r\n\r\n\n\n### Logs\n\n```shell\n(AIenv)PS D:\\project\\editablechatbot> gradio cc dev\r\n♻ Launching demo\\app.py in reload mode\r\n\r\nWatching: 'D:\\project\\editablechatbot\\demo' 'D:\\project\\editablechatbot'\r\n'D:\\project\\editablechatbot\\frontend',\r\n\r\n\r\nNo custom components were found in D:\\project\\editablechatbot. It is likely that dev mode does not work properly. Please pass the --gradio-path\r\nand --python-path CLI arguments so that gradio uses the right executables.\r\n\r\nBackend Server:  http://127.0.0.1:7861\r\n\r\nFailed to resolve dependency: [36msvelte/animate[39m, present in 'optimizeDeps.include'\r\n\r\nFailed to resolve dependency: [36msvelte/easing[39m, present in 'optimizeDeps.include'\r\n\r\nFailed to resolve dependency: [36msvelte/internal[39m, present in 'optimizeDeps.include'\r\n\r\nFailed to resolve dependency: [36msvelte/internal/disclose-version[39m, present in 'optimizeDeps.include'\r\n\r\nFailed to resolve dependency: [36msvelte/motion[39m, present in 'optimizeDeps.include'\r\n\r\nFailed to resolve dependency: [36msvelte/store[39m, present in 'optimizeDeps.include'\r\n\r\nFailed to resolve dependency: [36msvelte/transition[39m, present in 'optimizeDeps.include'\r\n\r\nFailed to resolve dependency: [36msvelte[39m, present in 'optimizeDeps.include'\r\n\r\nFrontend Server (Go here): http://localhost:7862/\n```\n\n\n### System Info\n\n```shell\nGradio Environment Information:\r\n------------------------------\r\nOperating System: Windows\r\ngradio version: 4.38.1\r\ngradio_client version: 1.1.0\r\n\r\n------------------------------------------------\r\ngradio dependencies in your environment:\r\n\r\naiofiles: 23.2.1\r\naltair: 5.2.0\r\nfastapi: 0.108.0\r\nffmpy: 0.3.1\r\ngradio-client==1.1.0 is not installed.\r\nhttpx: 0.27.0\r\nhuggingface-hub: 0.23.1\r\nimportlib-resources: 6.1.1\r\njinja2: 3.1.4\r\nmarkupsafe: 2.1.5\r\nmatplotlib: 3.8.4\r\nnumpy: 1.26.4\r\norjson: 3.9.15\r\npackaging: 23.2\r\npandas: 2.2.2\r\npillow: 10.3.0\r\npydantic: 2.7.4\r\npydub: 0.25.1\r\npython-multipart: 0.0.9\r\npyyaml: 6.0.1\r\nruff: 0.5.2\r\nsemantic-version: 2.10.0\r\ntomlkit==0.12.0 is not installed.\r\ntyper: 0.12.3\r\ntyping-extensions: 4.8.0\r\nurllib3: 2.0.7\r\nuvicorn: 0.25.0\r\nauthlib; extra == 'oauth' is not installed.\r\nitsdangerous; extra == 'oauth' is not installed.\r\n\r\n\r\ngradio_client dependencies in your environment:\r\n\r\nfsspec: 2023.10.0\r\nhttpx: 0.27.0\r\nhuggingface-hub: 0.23.1\r\npackaging: 23.2\r\ntyping-extensions: 4.8.0\r\nwebsockets: 11.0.3\n```\n\n\n### Severity\n\nBlocking usage of gradio",
    "comments": [
      {
        "user": "freddyaboulton",
        "body": "Hi @FlyingCarlos ! It's likely that the gradio cc dev command can't find the `AiEnv` environment.\r\n\r\n```\r\nNo custom components were found in D:\\project\\editablechatbot. It is likely that dev mode does not work properly. Please pass the --gradio-path\r\nand --python-path CLI arguments so that gradio uses the right executables.\r\n```\r\n\r\nCan you please set the `--gradio-path` and `--python-path` arguments to the correct location (and verify that your custom component has been installed there beforehand please)"
      },
      {
        "user": "FlyingCarlos",
        "body": "Thanks @freddyaboulton. I tried, and it seems to solve one problem, but then another one arises. The front server still failed to GET something.\r\nthe server log:\r\n```\r\n(AIenv)PS D:\\project\\editablechatbot> gradio cc dev --gradio-path D:\\ProgramData\\anaconda3\\envs\\AIenv\\Scripts\\gradio.exe --python-path D:\\ProgramData\\anaconda3\\envs\\AIenv\\python.exe\r\n♻ Launching demo\\app.py in reload mode\r\n\r\nWatching: 'D:\\project\\editablechatbot\\demo' 'D:\\project\\editablechatbot'\r\n'D:\\project\\editablechatbot\\frontend',\r\n\r\n\r\nBackend Server:  http://127.0.0.1:7861\r\n\r\n\r\n\r\nFrontend Server (Go here): http://localhost:7862/\r\n\r\nX [ERROR] Could not resolve \"virtual:component-loader\"\r\n\r\n\r\n\r\n    frontend/node_modules/@gradio/utils/src/utils.ts:237:10:\r\n\r\n      237 │       import(\"virtual:component-loader\").then((module) => {\r\n\r\n          ╵              ~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n\r\n\r\n\r\n  You can mark the path \"virtual:component-loader\" as external to exclude it from the bundle, which will remove this error and leave the\r\nunresolved path in the bundle. You can also add \".catch()\" here to handle this failure at run-time instead of bundle-time.\r\n\r\n\r\n\r\n[2m20:05:26[22m [31m[1m[22m[39m [31merror while updating dependencies:\r\n\r\nError: Build failed with 1 error:\r\n\r\nfrontend/node_modules/@gradio/utils/src/utils.ts:237:10: ERROR: Could not resolve \"virtual:component-loader\"\r\n\r\n    at failureErrorWithLog (D:\\project\\editablechatbot\\frontend\\node_modules\\vite\\node_modules\\esbuild\\lib\\main.js:1472:15)\r\n\r\n    at D:\\project\\editablechatbot\\frontend\\node_modules\\vite\\node_modules\\esbuild\\lib\\main.js:945:25\r\n\r\n    at D:\\project\\editablechatbot\\frontend\\node_modules\\vite\\node_modules\\esbuild\\lib\\main.js:1353:9\r\n\r\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)[39m\r\n```\r\n![gradio_bug_2](https://github.com/user-attachments/assets/30849328-68a7-45c1-a922-73ec2117c001)\r\n"
      },
      {
        "user": "freddyaboulton",
        "body": "Hmm that should have been fixed. Can you please check what version of `@gradio/preview` got installed? (in `frontend/package.json`) It should be 0.10.1"
      }
    ]
  },
  {
    "issue_number": 11260,
    "title": "ImageSlider: Left image shows through when right image has alpha channel",
    "author": "hysts",
    "state": "closed",
    "created_at": "2025-05-27T04:51:25Z",
    "updated_at": "2025-06-13T00:55:06Z",
    "labels": [
      "bug"
    ],
    "body": "### Describe the bug\n\nWhen using `gr.ImageSlider`, if the right image has an alpha channel, the left image is rendered behind it and shows through the transparent parts.\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\nrepro Space: https://huggingface.co/spaces/hysts-debug/imageslider-alpha\n\n\n### Screenshot\n\n![](https://github.com/user-attachments/assets/5f391c85-61a0-466f-a088-467767a205a3)\n\n### Logs\n\n```shell\n\n```\n\n### System Info\n\n```shell\ngradio==5.31.0\n```\n\n### Severity\n\nBlocking usage of gradio",
    "comments": []
  },
  {
    "issue_number": 10914,
    "title": "Calling ZeroGPU Spaces using gradio-client from another Space doesn't work when SSR is enabled",
    "author": "hysts",
    "state": "closed",
    "created_at": "2025-04-01T03:30:27Z",
    "updated_at": "2025-06-12T22:05:07Z",
    "labels": [
      "bug",
      "Priority"
    ],
    "body": "### Describe the bug\n\nThe sample code in [this document](https://www.gradio.app/main/docs/python-client/using-zero-gpu-spaces) doesn't work when SSR is enabled in the Space.\n([related internal slack](https://huggingface.slack.com/archives/C05GV830X3K/p1736867137785709?thread_ts=1736585601.782239&cid=C05GV830X3K))\n\nIt would be great if this could work with SSR, but if that's not possible, I think it would be helpful to mention in the docs that SSR needs to be disabled.\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\n```python\nimport gradio as gr\n\n```\n\n\n### Screenshot\n\n_No response_\n\n### Logs\n\n```shell\n\n```\n\n### System Info\n\n```shell\ngradio==5.23.2\n```\n\n### Severity\n\nI can work around it",
    "comments": []
  },
  {
    "issue_number": 11383,
    "title": "[MCP Server] - Gradio tool decorator",
    "author": "elismasilva",
    "state": "closed",
    "created_at": "2025-06-12T12:30:02Z",
    "updated_at": "2025-06-12T19:40:25Z",
    "labels": [
      "docs/website"
    ],
    "body": "- [x ] I have searched to see if a similar issue already exists.\n\n\n**Is your feature request related to a problem? Please describe.**  \n\nCurrently, the only way to expose a Python function as a tool on an MCP Server is by attaching it to a UI event listener (like `.click()`, `.submit()`, etc.) and setting the `api_name` parameter.\n\nThis works well for functions that directly update the UI, but it creates significant design challenges when a developer wants to expose a \"pure logic\" function that should return raw data (e.g., a JSON object) without directly causing a UI update.\n\nTo make a pure logic function available as a tool while also using its output to update the UI, a developer is forced into a complex and non-intuitive workaround using `.then()` and `gr.State`.\n\n**My workaround**\n\nTo correctly separate data logic from UI formatting, the current best practice is a multi-step event chain:\n\n1.  Create a `gr.State` component to act as a temporary variable.\n2.  The user event (`.click()`) calls the pure logic function (e.g., `generate_data`), which is exposed via `api_name`. Its raw data output is stored in the `gr.State`.\n3.  A `.then()` clause is chained to the event. This clause calls a separate UI-formatting function (e.g., `format_for_display`).\n4.  This second function takes the raw data from the `gr.State` as input and returns a formatted `gr.update()` for the UI component.\n5.  This second, UI-only function must have `api_name=False` to avoid cluttering the public API.\n\n**Example: Current Workaround Approach**\n\n```python\n# Pure logic function we want to expose as a tool\ndef generate_data(name: str) -> dict:\n    \"\"\"Returns raw data.\"\"\"\n    return {\"greeting\": f\"Hello, {name}\"}\n\n# UI-only function to format the data\ndef format_for_ui(raw_data: dict) -> str:\n    \"\"\"Formats the data with HTML.\"\"\"\n    greeting = raw_data.get(\"greeting\", \"Error\")\n    return f\"<h2>{greeting}</h2>\"\n\nwith gr.Blocks() as demo:\n    name_input = gr.Textbox()\n    greet_button = gr.Button(\"Greet\")\n    output_display = gr.Markdown()\n    \n    # State to pass data between functions\n    raw_data_state = gr.State()\n\n    # The complex event chain required\n    logic_event = greet_button.click(\n        fn=generate_data,\n        inputs=[name_input],\n        outputs=[raw_data_state],\n        api_name=\"generate_data\" # API is defined here\n    )\n    logic_event.then(\n        fn=format_for_ui,\n        inputs=[raw_data_state],\n        outputs=[output_display],\n        api_name=False # This must be explicitly hidden\n    )\n```\n\nThis pattern, while functional, is verbose, requires an extra `gr.State` component, and forces a mental overhead to follow the data flow.\n\n**Proposed solution**\n\nI would like to propose the introduction of a **`@gr.tool()`** decorator. This decorator would be placed directly above a Python function to explicitly register it as a public tool on the MCP Server, completely independent of any UI event.\n\n**Example: Proposed Decorator Solution**\n\nWith the new decorator, a developer could define their tools cleanly and separately from the UI logic.\n\n```python\n@gr.tool()\ndef generate_data(name: str) -> dict:\n    \"\"\"\n    Returns raw data. The docstring automatically becomes the tool's description.\n    \"\"\"\n    return {\"greeting\": f\"Hello, {name}\"}\n\n# The UI can still use this function, but the API exposure is already handled.\nwith gr.Blocks() as demo:\n    # ... UI definition ...\n    \n    # The event chain becomes simpler, as the API is already defined.\n    greet_button.click(...)\n```\n\n**Benefits of this approach:**\n*   **Decoupling:** The API definition is completely decoupled from the UI event logic. This is crucial for building \"headless\" tool servers.\n*   **Clarity and Readability:** It becomes immediately obvious which functions are public tools just by looking at the function definition.\n*   **Reduced Boilerplate:** Eliminates the need for the `gr.State` + `.then()` workaround for every single tool.\n*   **Auto-Documentation:** The decorator could intelligently use the function's docstring and type hints to automatically generate a rich schema for the MCP tool, improving discoverability for other agents.\n\nThank you!\n",
    "comments": [
      {
        "user": "abidlabs",
        "body": "Hey @elismasilva great feedback and issue, really appreciate it. We actually do support this, in the form of `@gr.api()`: https://www.gradio.app/main/docs/gradio/api, but I agree this is not documented super well. Please take a look and let me know if this is sufficient for what you have in mind. In the meantime, we'll work on exposing this in the MCP docs better"
      },
      {
        "user": "elismasilva",
        "body": "> @gr.api()\n\nwhen i use this in function where is outside gradio block like in example provided i got this:\n`Exception(\"Cannot call api() outside of a gradio.Blocks context.\")`\n\nso i need move function inside gradio block, but i got this:\n```\nValueError: An event handler (get_raw_data) didn't receive enough input values (needed: 2, got: 1).\nCheck if the event handler calls a Javascript function, and make sure its return value is correct.\nWanted inputs:\n    [<gradio.components.api_component.Api object at 0x000001F12A84CD00>, <gradio.components.api_component.Api object at 0x000001F12ADB8A90>]\nReceived inputs:\n    [\"general\"]\n```"
      },
      {
        "user": "abidlabs",
        "body": "Can you provide a complete minimal repro?"
      }
    ]
  },
  {
    "issue_number": 9207,
    "title": "[Dynamic components] - Problem with update values on client after component is removed and added again.",
    "author": "elismasilva",
    "state": "closed",
    "created_at": "2024-08-28T23:16:56Z",
    "updated_at": "2025-06-12T19:28:43Z",
    "labels": [
      "bug",
      "Priority"
    ],
    "body": "### Describe the bug\n\nHi guys, i again.\r\n\r\nI'm experiencing a new bug. When I add a component dynamically and change its value everything is fine. So if I remove the component and then add it again, on the server side it assumes the default value, but on the client it shows the values ​​from the first time I added it (as if it got it from some cache).\n\n### Have you searched existing issues?  🔎\n\n- [X] I have searched and found no existing issues\n\n### Reproduction\n\n```python\r\nimport gradio as gr\r\n\r\nselected_loras=[]\r\nloras_scales=[]\r\nLORA_FILES = [\"A.safetensors\", \"B.safetensors\", \"C.safetensors\", \"D.safetensors\"]\r\n\r\ndef click_add_lora(lora):    \r\n    if lora not in selected_loras:\r\n        selected_loras.append(lora)                                                        \r\n        return selected_loras, None\r\n    else:                                                                                                                        \r\n        return selected_loras, \"This model has already been added!\"\r\n    \r\ndef submit_button(progress=gr.Progress(track_tqdm=True)):\r\n    print('Testing')\r\n    for i in loras_scales:\r\n        print(f\"key: {i.key[8:]}, value:{i.value}\")\r\n\r\n    return \"See the result in the terminal!\"\r\n\r\nwith gr.Blocks(analytics_enabled=False) as app:                                    \r\n    with gr.Row():\r\n        with gr.Column(scale=0.4, min_width=100):\r\n            lora_files = gr.Dropdown(label=\"LoRA model\", choices=LORA_FILES, value=LORA_FILES[0])\r\n        with gr.Column(scale=0, min_width=50):\r\n            refresh_lora = gr.Button(value=\"Refresh\", elem_id=\"lora_refresh_button\")\r\n        with gr.Column(scale=0, min_width=50):                                                \r\n            add_lora = gr.Button(value=\"+\", elem_id=\"add_lora_button\")\r\n        with gr.Column(scale=0, min_width=50):                                                \r\n            submit_test = gr.Button(value=\"Submit\", elem_id=\"submit_button\" )\r\n    with gr.Row():\r\n        status = gr.Textbox(label=\"Status\", value=\"\", show_label=False)\r\n    with gr.Row():                                              \r\n        with gr.Column():                                                                                                        \r\n            selected_loras_state= gr.State(value=selected_loras)                                           \r\n            add_lora.click(fn=click_add_lora, inputs=lora_files, outputs=[selected_loras_state, status])\r\n                            \r\n            @gr.render(inputs=selected_loras_state)\r\n            def render_loras(selected): \r\n                global loras_scales                                                 \r\n                with gr.Row(elem_id=\"lora_row\"):                                                        \r\n                    for i in range(len(selected)):                                                                                                                        \r\n                        with gr.Column(variant=\"panel\", min_width=300):\r\n                            with gr.Row():\r\n                                with gr.Column(min_width=300):                                            \r\n                                    remove_lora = gr.Button(value=\"X\", key=f\"remove-lora-{selected[i]}\", elem_classes=\"remove-button vertical-center\")\r\n                                    lora = gr.Textbox(label=\"File name\", value=f\"{selected[i]}\", key=f\"label-{selected[i]}\", show_label=True)                                                                \r\n                                    lora_scale = gr.Slider(                                                                            \r\n                                        interactive=True,\r\n                                        minimum=0.1,\r\n                                        maximum=20.0,\r\n                                        step=0.1,\r\n                                        value=0.1,\r\n                                        label=\"Lora scale\", \r\n                                        key=f\"scale-{selected[i]}\")                                                                \r\n                            \r\n                            def click_remove_lora(value, lora=selected[i]):                                                                    \r\n                                for l in range(len(loras_scales)):\r\n                                    if loras_scales[l].key[8:] == lora:\r\n                                        loras_scales.pop(l)\r\n                                        break\r\n                                selected_loras.pop(selected_loras.index(value))\r\n                                return selected_loras\r\n                            \r\n                            remove_lora.click(fn=click_remove_lora, inputs=lora, outputs=selected_loras_state)\r\n                            \r\n                            def change_lora_scale(value, lora=selected[i]):\r\n                                for l in range(len(loras_scales)):\r\n                                    if loras_scales[l].key[8:] == lora:\r\n                                        loras_scales[l].value=value                                                                    \r\n                                                                \r\n                            lora_scale.release(fn=change_lora_scale, inputs=lora_scale)                                                               \r\n\r\n                            hasLora = False\r\n                            for l in range(len(loras_scales)):\r\n                                if loras_scales[l].key[8:] == selected[i]:\r\n                                    hasLora = True\r\n                                    break\r\n                            if not hasLora:\r\n                                    loras_scales.append(lora_scale)    \r\n\r\n    submit_test.click(           \r\n        fn=submit_button,        \r\n        outputs=status)\r\n\r\napp.launch(inbrowser=True)\r\n\r\n```\r\n\n\n### Screenshot\n\n**Reproduction on screenshots:**\r\n\r\n1º I added 2 combo items, and changed the default value of the first one to 1.7.\r\n![image](https://github.com/user-attachments/assets/4465dfc5-441d-4e8f-857e-4421fd3361ae)\r\n\r\n2º Now i removed the first element card with click on \"X\". Only the second element remains.\r\n![image](https://github.com/user-attachments/assets/6abb9855-fc39-48bb-a68a-dded396dc970)\r\n\r\n3º Now i add the first element again, that with name \"Beyond_Reality_v2.safetensors\", and it will be the second card now.\r\n**Note:** put a breakpoint on the last lines of code, and see the value property of lora_scale, It has the default value which is the desired one.: \r\n``` python\r\n if not hasLora:\r\n    loras_scales.append(lora_scale) \r\n```\r\nBut on the page the element returns with the value it had in step 1.\r\n![image](https://github.com/user-attachments/assets/7e0166ec-046f-4fea-9448-369b6173faa8)\r\n\n\n### Logs\n\n```shell\nN/A\n```\n\n\n### System Info\n\n```shell\nGradio Environment Information:\r\n------------------------------\r\nOperating System: Windows\r\ngradio version: 4.42.0\r\ngradio_client version: 1.3.0\r\n\r\n------------------------------------------------\r\ngradio dependencies in your environment:\r\n\r\naiofiles: 23.2.1\r\nanyio: 4.4.0\r\nfastapi: 0.112.0\r\nffmpy: 0.4.0\r\ngradio-client==1.3.0 is not installed.\r\nhttpx: 0.27.0\r\nhuggingface-hub: 0.24.5\r\nimportlib-resources: 6.4.0\r\njinja2: 3.1.3\r\nmarkupsafe: 2.1.5\r\nmatplotlib: 3.9.0\r\nnumpy: 1.26.3\r\norjson: 3.10.6\r\npackaging: 24.1\r\npandas: 2.2.2\r\npillow: 10.2.0\r\npydantic: 2.8.2\r\npydub: 0.25.1\r\npython-multipart: 0.0.9\r\npyyaml: 6.0.1\r\nruff: 0.5.6\r\nsemantic-version: 2.10.0\r\ntomlkit==0.12.0 is not installed.\r\ntyper: 0.12.3\r\ntyping-extensions: 4.12.2\r\nurllib3: 2.2.2\r\nuvicorn: 0.30.5\r\nauthlib; extra == 'oauth' is not installed.\r\nitsdangerous; extra == 'oauth' is not installed.\r\n\r\n\r\ngradio_client dependencies in your environment:\r\n\r\nfsspec: 2024.2.0\r\nhttpx: 0.27.0\r\nhuggingface-hub: 0.24.5\r\npackaging: 24.1\r\ntyping-extensions: 4.12.2\r\nwebsockets: 12.0\n```\n\n\n### Severity\n\nBlocking usage of gradio",
    "comments": [
      {
        "user": "elismasilva",
        "body": "hi @abidlabs are you ok? do you have any idea if it is very complex to fix this bug? I am using dynamic rendering and now I also need to implement the same technique in another module but this problem will make my project unfeasible."
      },
      {
        "user": "abidlabs",
        "body": "Hi @elismasilva we are currently working on some other issues, we'll get to this as soon as we can. cc @aliabid94 "
      },
      {
        "user": "elismasilva",
        "body": "> Hi @elismasilva we are currently working on some other issues, we'll get to this as soon as we can. cc @aliabid94\r\n\r\nThank you, then I will wait, for now I will move forward with other features."
      }
    ]
  },
  {
    "issue_number": 10487,
    "title": "Session not found whenever the request is routed to another instance",
    "author": "peeter2",
    "state": "open",
    "created_at": "2025-02-02T21:27:16Z",
    "updated_at": "2025-06-12T19:24:03Z",
    "labels": [
      "bug",
      "cloud"
    ],
    "body": "Normally whenever I interact with a Gradio app, I see (in browser Network tab) a POST request to\n\"/gradio_api/queue/join?\" with` session_hash: \"u26gd43ah8\"` in request payload and right after that I see a GET request to /gradio_api/queue/data?session_hash=u26gd43ah8\n\nBut If I'm running the app in a stateless environment (with multiple instances) the requests are distributed across different instances and the in-memory session state on one instance won’t be accessible to another. Therefore I only see this request in Network tab: \"/gradio_api/queue/join?\" with` session_hash: \"u26gd43ah8\"` but nothing after that as I get Session Not Found error.\n\n**Describe the solution you'd like**  \nDoes Gradio compare the session hash from the request payload against some session_hash in the server memory for it to continue? If so, I would like Gradio to get the session hash from a database instead of from the memory so it would persist and be stateless.\n\n**Additional context**  \nI hope that made sense.\nAlso I don't want to use Redis or any other expensive solutions. I just need to know how to access and update whatever it is (missing) in the memory that causes the Session not found error, so I could fix it with a middleware.\n\nThank you.",
    "comments": [
      {
        "user": "abidlabs",
        "body": "Hi @peeter2 does this solution help: https://www.gradio.app/guides/deploying-gradio-with-docker#enable-stickiness-for-multiple-replicas"
      },
      {
        "user": "peeter2",
        "body": "This helps a little bit but I often still get the session not found error even though I have enabled the session affinity.\n"
      },
      {
        "user": "abidlabs",
        "body": "Can you explain your deployment setup so that we can investigate and repro?"
      }
    ]
  },
  {
    "issue_number": 11384,
    "title": "[Chatbot] -  Non-flickering updates to `gr.Chatbot` for multi-user applications",
    "author": "elismasilva",
    "state": "closed",
    "created_at": "2025-06-12T13:18:44Z",
    "updated_at": "2025-06-12T18:37:11Z",
    "labels": [
      "bug"
    ],
    "body": "- [x] I have searched to see if a similar issue already exists.\n\n\n**Is your feature request related to a problem? Please describe.**  \nWhen I was building a real-time, multi-user chat application in Gradio, I tried to use `gr.Timer` to periodically poll for updates and refresh the `gr.Chatbot` component for all clients. This was necessary because Gradio does not currently offer a native, straightforward WebSocket \"push\" mechanism for component updates.\n\nWhile this polling approach works functionally, it suffers from a major UI/UX flaw: **the `gr.Chatbot` component visibly \"blinks\" with a \"...\" loading indicator on every single tick.**\n\nThis happens because the component is fully re-rendered upon receiving a new `value`. In a multi-user context, this creates a constant, distracting flicker for all participants, making the application feel unpolished and unstable. This is not a bug in the `tick` event itself, but rather a limitation in how the `gr.Chatbot` component handles passive updates.\n\n**Solution**\n\nThe core issue is the lack of distinction between a user-initiated action (where a loading indicator is helpful feedback) and a passive background refresh (where it is a distraction).\n\nI would like to propose two potential solutions, from ideal to pragmatic:\n\n**Solution A (The Ideal, Long-Term Solution): Native WebSocket Support for Component Updates**\n\nThe ultimate solution would be to introduce a native mechanism for a Gradio backend to \"push\" updates to specific components on the frontend via WebSockets. This would eliminate the need for polling with `gr.Timer` altogether.\n\nA hypothetical API might look something like this:\n\n```python\n# In the backend logic\ndef send_message(channel, user, message):\n    # ... process message and save to state ...\n    new_message = {\"role\": \"user\", \"content\": message}\n    \n    # New hypothetical function to push an update to all clients in a \"room\"\n    gr.push_update(\n        room=f\"channel_{channel}\", \n        component=chatbot, \n        value=new_message, \n        update_mode=\"append\" # A mode to append instead of replacing\n    )\n```\nThis is a significant architectural change, but it would elevate Gradio to a best-in-class framework for real-time, multi-user applications.\n\n**Solution B (The Pragmatic, Immediate Solution): A \"Silent Update\" Parameter for `gr.Chatbot`**\n\nA more immediate and likely simpler solution would be to add a parameter to the `gr.Chatbot` constructor that disables its internal loading indicator during updates.\n\n```python\nwith gr.Blocks() as demo:\n    chatbot = gr.Chatbot(\n        label=\"Conversation\",\n        # This new parameter would solve the visual flicker problem\n        render_progress=False \n    )\n    \n    timer = gr.Timer(5)\n    # The timer would still cause a full re-render, but it would be invisible to the user.\n    timer.tick(fn=get_history, outputs=chatbot)\n```\nBy setting `render_progress=False` (or a similar name), the component would still receive the new data and re-render its DOM, but it would do so without displaying the \"...\" status indicator. While not as efficient as WebSockets, this would completely solve the user-facing problem of the constant blinking.\n\n**Minimal Reproducible Example**\n\nThis code demonstrates the core problem. The `timer.tick` is a necessary workaround for the lack of WebSockets, and it's this workaround that causes the `gr.Chatbot` to flicker.\n\n```python\nimport gradio as gr\nimport time\nfrom threading import Lock\n\nchat_history = []\nlock = Lock()\n\ndef add_message(user, message):\n    with lock:\n        chat_history.append((f\"({user})\", message))\n    return chat_history\n\ndef get_history():\n    with lock:\n        return chat_history\n\nwith gr.Blocks() as demo:\n    gr.Markdown(\"## Multi-User Chat Flicker Demo\")\n    gr.Markdown(\"This app uses a timer to simulate a multi-user chat, as WebSockets are not directly available for this purpose. Observe the `gr.Chatbot` component flickering every 2 seconds due to the polling.\")\n    \n    chatbot = gr.Chatbot(label=\"Shared Chat Room\", height=400)\n    name_input = gr.Textbox(label=\"Your Name\", value=\"Alice\")\n    msg_input = gr.Textbox(label=\"Message\")\n    send_button = gr.Button(\"Send\")\n    \n    # User action - the spinner here is fine.\n    send_button.click(fn=add_message, inputs=[name_input, msg_input], outputs=chatbot)\n    \n    # Background refresh - this causes the flicker.\n    # The proposed Solution B would make this update silent.\n    timer = gr.Timer(2)\n    timer.tick(fn=get_history, outputs=chatbot)\n\ndemo.launch()",
    "comments": [
      {
        "user": "abidlabs",
        "body": "Thanks @elismasilva for this suggestion! For Solution B, can you use `show_progress=\"hidden\"` in your event?"
      },
      {
        "user": "elismasilva",
        "body": "Hi, i did this:\n\n` send_button.click(fn=add_message, inputs=[name_input, msg_input], outputs=chatbot, show_progress=\"hidden\")`\n and this:\n `timer.tick(fn=get_history, outputs=chatbot, show_progress=\"hidden\")`\n\neven with None the \"...\" is appearing."
      },
      {
        "user": "abidlabs",
        "body": "That looks like a bug! We'll fix"
      }
    ]
  },
  {
    "issue_number": 10828,
    "title": "Receive ValueError when using nested @gr.render()",
    "author": "i-am-mike-davis",
    "state": "closed",
    "created_at": "2025-03-17T21:57:16Z",
    "updated_at": "2025-06-12T18:31:51Z",
    "labels": [
      "bug",
      "pending clarification"
    ],
    "body": "### Describe the bug\n\nWhen attempting to use a nested @gr.render() I receive a `ValueError: Reactive render must be inside a Blocks context.`. However, as the example code shoes, the reactive render IS placed in a Blocks context (it's nested).\n\nThe motivation here is to be able to dynamically render nested gradio components. For example, suppose I want to render certain gradio components for certain users (high level use of gr.render()) and within that gradio component I want to dynamically render a list of buttons based on user interaction or API calls (the nested gr.render()).\n\nWithout being able to use gr.render() nested, I cannot create those dynamic components at a lower level. This prevents me from creating composable and dynamic gradio components.\n\nThe example code below shows an example implementation and reproduces the error.\n\nPerhaps I am missing something? I checked the issue log and couldn't find something similar. \n\n\n\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\n```python\nimport gradio as gr\n\n\ndef run_nested_app(user):\n    with gr.Blocks() as nested_app:\n        gr.Textbox(f\"{user}\", label=\"User Profile\")\n        search_box = gr.Textbox(\n            value=\"\", interactive=True, placeholder=\"Edit me\", label=\"Search Bar\"\n        )\n\n        # This dynamic render here is supposed to provide dynamic content based on user interaction.\n        # But this render is broken because it is not \"inside a Blocks context\"\n        @gr.render(inputs=search_box)\n        def render_stuff(search_box):\n            split_words = search_box.split()\n            for word in split_words:\n                gr.Button(value=word, key=word)\n\n    return nested_app\n\n\nwith gr.Blocks() as demo:\n    user = gr.State(\"User1\")\n\n    # This dynamic render works correctly.\n    @gr.render(inputs=user)\n    def render_example(user):\n        run_nested_app(user)\n\n\nif __name__ == \"__main__\":\n    demo.launch()\n\n\n```\n\n\n### Screenshot\n\n_No response_\n\n### Logs\n\n```shell\nFile \"bar/.venv/lib/python3.11/site-packages/gradio/renderable.py\", line 75, in apply\n    self.fn(*args, **kwargs)\n  File \"bar/foo/ui/example.py\", line 28, in render_example\n    run_nested_app(user)\n  File \"bar/foo/ui/example.py\", line 13, in run_nested_app\n    @gr.render(inputs=search_box)\n     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"bar/.venv/\nlib/python3.11/site-packages/gradio/renderable.py\", line 127, in render\n    raise ValueError(\"Reactive render must be inside a Blocks context.\")\nValueError: Reactive render must be inside a Blocks context.\n```\n\n### System Info\n\n```shell\nGradio Environment Information:\n------------------------------\nOperating System: Linux\ngradio version: 5.12.0\ngradio_client version: 1.5.4\n\n------------------------------------------------\ngradio dependencies in your environment:\n\naiofiles: 23.2.1\nanyio: 4.8.0\naudioop-lts is not installed.\nfastapi: 0.115.6\nffmpy: 0.5.0\ngradio-client==1.5.4 is not installed.\nhttpx: 0.27.2\nhuggingface-hub: 0.27.1\njinja2: 3.1.4\nmarkupsafe: 2.1.5\nnumpy: 1.26.4\norjson: 3.10.15\npackaging: 24.2\npandas: 2.2.3\npillow: 11.1.0\npydantic: 2.10.5\npydub: 0.25.1\npython-multipart: 0.0.20\npyyaml: 6.0.2\nruff: 0.9.2\nsafehttpx: 0.1.6\nsemantic-version: 2.10.0\nstarlette: 0.41.3\ntomlkit: 0.13.2\ntyper: 0.15.1\ntyping-extensions: 4.12.2\nurllib3: 2.3.0\nuvicorn: 0.34.0\nauthlib; extra == 'oauth' is not installed.\nitsdangerous; extra == 'oauth' is not installed.\n\n\ngradio_client dependencies in your environment:\n\nfsspec: 2024.12.0\nhttpx: 0.27.2\nhuggingface-hub: 0.27.1\npackaging: 24.2\ntyping-extensions: 4.12.2\nwebsockets: 14.2\n```\n\n### Severity\n\nBlocking usage of gradio",
    "comments": [
      {
        "user": "CarterYancey",
        "body": "Any updates on this? Why it happens or plans to fix it? Still having this same problem."
      },
      {
        "user": "abidlabs",
        "body": "Trying to understand the original issue, if you just do this:\n\n```py\nimport gradio as gr\n\nwith gr.Blocks() as demo:\n    user = gr.State(\"User1\")\n\n    @gr.render(inputs=user)\n    def render_example(user):\n        def run_nested_app(user):\n            gr.Textbox(f\"{user}\", label=\"User Profile\")\n            search_box = gr.Textbox(\n                value=\"\", interactive=True, placeholder=\"Edit me\", label=\"Search Bar\"\n            )\n        \n            @gr.render(inputs=search_box)\n            def render_stuff(search_box):\n                split_words = search_box.split()\n                for word in split_words:\n                    gr.Button(value=word, key=word)\n        \n            return nested_app\n\n\nif __name__ == \"__main__\":\n    demo.launch()\n```\n\ndoes the issue get resolved?"
      },
      {
        "user": "CarterYancey",
        "body": "@abidlabs This does not work for me, I get a blank screen."
      }
    ]
  },
  {
    "issue_number": 11059,
    "title": "`gr.load()`-ing a `gr.ChatInterface` with examples throws an error",
    "author": "djaffer",
    "state": "open",
    "created_at": "2025-04-20T17:03:23Z",
    "updated_at": "2025-06-12T15:12:53Z",
    "labels": [],
    "body": "> If I have examples in the original, the examples don't work. I think maybe textbox is missed in handling.\n> Gradio version  5.25.2\n> gradio 1\n> ```\n>     chat = gr.ChatInterface(\n>         respond,\n>         type=\"messages\",\n>         additional_inputs=[\n>             gr.Checkbox(label=\"Use Internet\", value=True, render=False),\n>             gr.Slider(minimum=64, maximum=4096, value=512, step=64, label=\"Max Tokens\", render=False),\n>             gr.Slider(minimum=0.1, maximum=1.0, value=0.9, step=0.1, label=\"Temperature\", render=False),\n>             gr.Slider(minimum=0.1, maximum=1.0, value=0.95, step=0.05, label=\"Top-p (nucleus sampling)\", render=False),\n>             gr.Checkbox(value=True, visible=False, label=\"stream\", render=False),\n>             gr.Textbox(visible=True, label=\"name\", type=\"text\", render=False, value='John')\n>         ],\n>         examples=[\n>             [\"Write a Python function to find prime numbers\"],\n>             [\"Explain the difference between var, let, and const in JavaScript\"],\n>             [\"Help me debug this code: for(i=0; i<10; i++) { console.log(i); i++; }\"],\n>             [\"Create a simple REST API with Flask\"],\n>             [\"/help\"],\n>             [\"/search latest programming best practices\"]\n>         ],\n>         editable=True,\n>         save_history=True\n>     )\n> ```\n> \n> gradio 2\n> ```\n> demo = gr.load(gradio1, src=\"spaces\", token=token)\n> demo.launch()\n> ```\n> \n> errors:\n> Wanted inputs:\n>     [<gradio.components.textbox.Textbox object at 0x7f20ee4b3010>, <gradio.components.state.State object at 0x7f20ee4b2ef0>, <gradio.components.checkbox.Checkbox object at 0x7f20eef9a860>, <gradio.components.slider.Slider object at 0x7f20eef9a950>, <gradio.components.slider.Slider object at 0x7f20eef9a9b0>, <gradio.components.slider.Slider object at 0x7f20eef9aa40>, <gradio.components.checkbox.Checkbox object at 0x7f20eef9a9e0>, <gradio.components.textbox.Textbox object at 0x7f20eef9a800>]\n> Received inputs:\n>     [\"Write a code of merge sort in javascript.\", [], 100, 0.1, 0.1, False] \n\n _Originally posted by @djaffer in [#10312](https://github.com/gradio-app/gradio/issues/10312#issuecomment-2809054467)_",
    "comments": [
      {
        "user": "djaffer",
        "body": "I am thinking of maybe using something else instead of gradio. Too many issues and glitches of performance."
      }
    ]
  },
  {
    "issue_number": 11377,
    "title": "Hackathon feedback 💬",
    "author": "pngwn",
    "state": "open",
    "created_at": "2025-06-11T15:44:22Z",
    "updated_at": "2025-06-12T13:19:04Z",
    "labels": [],
    "body": "If you discovered something that could be better when participating in the hackathon, please let us know here!\n\nIf you have a concrete bug or feature request, create a new issue and link it in a reply here. \n\nOtherwise we can discuss below!",
    "comments": [
      {
        "user": "elismasilva",
        "body": "#11383 "
      },
      {
        "user": "elismasilva",
        "body": "#11384 "
      }
    ]
  },
  {
    "issue_number": 11374,
    "title": "Dark theme is broken",
    "author": "justinjohn0306",
    "state": "closed",
    "created_at": "2025-06-11T04:33:07Z",
    "updated_at": "2025-06-12T02:16:14Z",
    "labels": [
      "bug",
      "needs repro",
      "pending clarification"
    ],
    "body": "### Describe the bug\n\nas the title suggests the dark theme doesn't work anymore\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\nopen any gradio app and try launching it in dark mode\n\n\n### Screenshot\n\n_No response_\n\n### Logs\n\n```shell\n\n```\n\n### System Info\n\n```shell\nGradio version: 5.33.1\n```\n\n### Severity\n\nI can work around it",
    "comments": [
      {
        "user": "hannahblair",
        "body": "Hi @justinjohn0306! Can you elaborate a little more about how to repro? I'm seeing dark mode working in HF which is set to my system setting. <img width=\"929\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/554fae3f-58ae-4411-9faa-5e8999295ac8\" />"
      },
      {
        "user": "justinjohn0306",
        "body": "> Hi [@justinjohn0306](https://github.com/justinjohn0306)! Can you elaborate a little more about how to repro? I'm seeing dark mode working in HF which is set to my system setting. <img alt=\"Image\" width=\"929\" src=\"https://private-user-images.githubusercontent.com/15165908/453998493-554fae3f-58ae-4411-9faa-5e8999295ac8.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NDk2OTQ1MTksIm5iZiI6MTc0OTY5NDIxOSwicGF0aCI6Ii8xNTE2NTkwOC80NTM5OTg0OTMtNTU0ZmFlM2YtNThhZS00NDExLTlmYWEtNWU4OTk5Mjk1YWM4LnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTA2MTIlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUwNjEyVDAyMTAxOVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTU4ZTA3YmUwYWJlNWEyY2FjYTc2MjAxYTgyNjEyMjU1NmY1MTczMDQxZTBhNjM2ZWI2N2IxMzY2ODY3NmNhY2QmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.BjuFM710Mj9PdOwB6LLbXxobaGQooNrEyBcAyBlGhok\">\n\nFor example, if I run the app like this: http://localhost:9874/?__theme=dark, it automatically reverts back to http://localhost:9874/?__theme=light. That’s strange, because it used to adapt to my system theme settings. Like, if my PC was set to dark mode, it would open in dark mode by default. But now it's just broken for some reason — I don’t know why."
      },
      {
        "user": "justinjohn0306",
        "body": "> > Hi [@justinjohn0306](https://github.com/justinjohn0306)! Can you elaborate a little more about how to repro? I'm seeing dark mode working in HF which is set to my system setting. <img alt=\"Image\" width=\"929\" src=\"https://private-user-images.githubusercontent.com/15165908/453998493-554fae3f-58ae-4411-9faa-5e8999295ac8.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NDk2OTQ1MTksIm5iZiI6MTc0OTY5NDIxOSwicGF0aCI6Ii8xNTE2NTkwOC80NTM5OTg0OTMtNTU0ZmFlM2YtNThhZS00NDExLTlmYWEtNWU4OTk5Mjk1YWM4LnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTA2MTIlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUwNjEyVDAyMTAxOVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTU4ZTA3YmUwYWJlNWEyY2FjYTc2MjAxYTgyNjEyMjU1NmY1MTczMDQxZTBhNjM2ZWI2N2IxMzY2ODY3NmNhY2QmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.BjuFM710Mj9PdOwB6LLbXxobaGQooNrEyBcAyBlGhok\">\n> \n> For example, if I run the app like this: http://localhost:9874/?__theme=dark, it automatically reverts back to http://localhost:9874/?__theme=light. That’s strange, because it used to adapt to my system theme settings. Like, if my PC was set to dark mode, it would open in dark mode by default. But now it's just broken for some reason — I don’t know why.\n\nnvm it was the script's fault. closing this issue now"
      }
    ]
  },
  {
    "issue_number": 10708,
    "title": "Cache especific examples",
    "author": "elismasilva",
    "state": "closed",
    "created_at": "2025-03-02T14:25:38Z",
    "updated_at": "2025-06-12T01:19:38Z",
    "labels": [
      "enhancement"
    ],
    "body": "Can I cache only some examples from the list? Scenario: I have some examples that can only be run locally on a good GPU and others that can be run on huggingface's Zero GPU.\n\nI thought of something like \"example_labels\" something like \"examples_enable_cache\" = [True, False, True, False ....]",
    "comments": [
      {
        "user": "abidlabs",
        "body": "Interesting, yeah we could potentially support this. "
      },
      {
        "user": "abidlabs",
        "body": "I was thinking about this some more and I don't think we should expand the api for `gr.Examples` unless necessary. I'd suggest here instead modifying your function so that if particular examples are suggested, it should just directly return a precomputed example output. Then for all other inputs (including those that should not be cached), it should actually run your ML function."
      }
    ]
  },
  {
    "issue_number": 11365,
    "title": "Main site wrapping issues with sidebar width in css format",
    "author": "JTGRC-public",
    "state": "closed",
    "created_at": "2025-06-10T19:53:01Z",
    "updated_at": "2025-06-11T22:05:55Z",
    "labels": [
      "bug",
      "needs repro"
    ],
    "body": "### Describe the bug\n\nThe component of the main website wraps correctly when sidebar expanded if I assigned integer to sidebar width such as width=500 but it doesn't wrap properly when I set something like width=\"50%\"\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\n```python\nwith gr.Sidebar(open=False, width='50%', position='left'):\n```\nvs\n```python\nwith gr.Sidebar(open=False, width=500, position='left'):\n```\n\n\n### Screenshot\n\n_No response_\n\n### Logs\n\n```shell\n\n```\n\n### System Info\n\n```shell\nGradio 5.32.0\n```\n\n### Severity\n\nI can work around it",
    "comments": [
      {
        "user": "abidlabs",
        "body": "Hi @JTGRC-public can you show screenshots with what you're seeing? also, what OS and browser are you using?"
      },
      {
        "user": "abidlabs",
        "body": "I'm going to close until we have a confirmed issue here"
      }
    ]
  },
  {
    "issue_number": 11361,
    "title": "mouse will expand to other cells when in edit mode",
    "author": "Yb2S3Man",
    "state": "closed",
    "created_at": "2025-06-10T03:28:07Z",
    "updated_at": "2025-06-11T22:05:46Z",
    "labels": [
      "bug",
      "pending clarification"
    ],
    "body": "### Describe the bug\n\nwhen I edit one cell in the dataframe when I enable the interactivate flag when create the dataframe app, the mouse doesn't stick to the editable cell but can expand to other cells. see my picture attached.\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\napp.py\n```python\nimport gradio as gr\nwith gr.Blocks() as demo:\n    load_btn = gr.Button(\"Load\", elem_id=\"load_btn\", interactive=True)\n    table_output = gr.Dataframe(visible=True, label=\"table\", show_label=False)\n\n    load_btn.click(\n        fn=load_file,\n        inputs=[source_file],\n        outputs=[table_output, load_btn]\n    )\n\nif __name__ == '__main__':\n    demo.launch(server_name='localhost',\n                server_port=54321,\n                share=False, debug=True)\n```\n\nfunctions.app\n```python\nCSV_HEADER_LIST = ['a', 'b', 'c', 'd', 'audio file', 'e']\nROWS_PER_PAGE = 30\ndef load_file(src_file: AnyStr):\n    df = pd.read_csv(src_file)\n    df = df.fillna('')\n    return gr.Dataframe(value=df, headers=CSV_HEADER_LIST, col_count=len(CSV_HEADER_LIST),\n                        datatype='html', wrap=True, row_count=[ROWS_PER_PAGE, 'fixed'], show_search='search',\n                        show_fullscreen_button=True, show_copy_button=True, line_breaks=True,\n                        column_widths=['20%', '20%', '10%', '10%', '17%', '20%'],\n                        interactive=True, static_columns=[0, 1, 2, 3, 4], max_height=1920,\n                        show_row_numbers=True, render=True, visible=True), gr.update(interactive=False)\n```\n\n\n### Screenshot\n\n![Image](https://github.com/user-attachments/assets/6e9dd4b3-4e2c-484c-8c31-b8f07d4448aa)\n\n### Logs\n\n```shell\n\n```\n\n### System Info\n\n```shell\ngradio==5.31.0\ngradio_client==1.10.1\n```\n\n### Severity\n\nI can work around it",
    "comments": [
      {
        "user": "abidlabs",
        "body": "Hi @Yb2S3Man can you try upgrading to the latest version of `gradio` and see if the issue is resolved?"
      },
      {
        "user": "abidlabs",
        "body": "I'm going to close until we have a confirmed issue here"
      }
    ]
  },
  {
    "issue_number": 11356,
    "title": "table line missing in dataframe table when configured in 'html'",
    "author": "Yb2S3Man",
    "state": "closed",
    "created_at": "2025-06-09T08:37:14Z",
    "updated_at": "2025-06-11T22:05:28Z",
    "labels": [
      "bug",
      "needs repro"
    ],
    "body": "### Describe the bug\n\nI applied the dataframe in html mode, however, I found the lines were missing in the table.\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\n```python\nimport gradio as gr\ngr.Dataframe(value=df, headers=CSV_HEADER_LIST, col_count=len(CSV_HEADER_LIST),\n                        datatype='html', wrap=True, row_count=[ROWS_PER_PAGE, 'fixed'], show_search='search',\n                        show_fullscreen_button=True, show_copy_button=True, line_breaks=True,\n                        column_widths=['20%', '20%', '10%', '10%', '17%', '20%'],\n                        interactive=True, static_columns=[0, 1, 2, 3, 4], \n                        show_row_numbers=True, render=True, visible=True)\n```\n\n\n### Screenshot\n\n![Image](https://github.com/user-attachments/assets/eeba7c36-38a3-4f08-a6f3-2b196e25ad69)\n\n### Logs\n\n```shell\n\n```\n\n### System Info\n\n```shell\nDependencies:\ngradio==5.31.0\ngradio_client==1.10.1\npandas==2.2.3\n\nPython version:\nPython 3.10.16\n\nOS:\nUbuntu 20.04\n```\n\n### Severity\n\nBlocking usage of gradio",
    "comments": [
      {
        "user": "abidlabs",
        "body": "Hi @Yb2S3Man can you please provide a minimal code example that we can use to reproduce the issue above? See: https://stackoverflow.com/help/minimal-reproducible-example"
      },
      {
        "user": "Yb2S3Man",
        "body": "app.py\n#!/usr/bin/env python\n# -*- coding:UTF-8 -*-\nimport gradio as gr\nfrom functions import load_file\nwith gr.Blocks() as demo:\n    with gr.Row():\n        source_file = gr.Dropdown(label=\"Choose one File\", multiselect=False, elem_id='source_file', scale=2)\n    with gr.Column(scale=1):\n        load_btn = gr.Button(\"Load\", elem_id=\"load_btn\", interactive=True)\n    table_output = gr.Dataframe(visible=True, label=\"table\", show_label=False)\n\n    load_btn.click(\n        fn=load_file,\n        inputs=[source_file],\n        outputs=[table_output, load_btn]\n    )\nif __name__ == '__main__':\n    demo.launch(server_name='localhost',\n                server_port=54321,\n                share=False, debug=True)\n\nfunctions.py\n#!/usr/bin/env python\n# -*- coding:UTF-8 -*-\nfrom pathlib import Path\nimport pandas as pd\nimport gradio as gr\nimport csv\nCSV_HEADER_LIST = ['a', 'b', 'c', 'd', 'e', 'f'] # fake this column name for testing usage\nROWS_PER_PAGE = 30\ndef load_file(src_file: AnyStr):\n     df = pd.read_csv(src_file)\n     df = df.fillna('')\n     return gr.Dataframe(value=df, headers=CSV_HEADER_LIST, col_count=len(CSV_HEADER_LIST),\n                        datatype='html', wrap=True, row_count=[ROWS_PER_PAGE, 'fixed'], show_search='search',\n                        show_fullscreen_button=True, show_copy_button=True, line_breaks=True,\n                        column_widths=['20%', '20%', '10%', '10%', '17%', '20%'],\n                        interactive=True, static_columns=[0, 1, 2, 3, 4], \n                        show_row_numbers=True, render=True, visible=True), gr.update(interactive=False)\n\n"
      },
      {
        "user": "abidlabs",
        "body": "Can you please provide a correctly formatted example? Thanks"
      }
    ]
  },
  {
    "issue_number": 11376,
    "title": "Gradio in offline system with no internet",
    "author": "007anupamdas",
    "state": "closed",
    "created_at": "2025-06-11T07:06:53Z",
    "updated_at": "2025-06-11T22:05:02Z",
    "labels": [
      "bug"
    ],
    "body": "### Describe the bug\n\nI am working on project involving satellite imageries, to be deployed in powerful workstations in offline mode with no internet, as per my organisation policies. When I am trying to run my app.py, I am getting error as \"Could not create share link. Please check your internet connection\".\nI am using gradio 5.4.0\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\n```python\nimport argparse\nfrom pathlib import Path\nfrom imcui.ui.app_class import ImageMatchingApp\n\nif __name__ == \"__main__\":\n    parser = argparse.ArgumentParser()\n    parser.add_argument(\n        \"--server_name\",\n        type=str,\n        default=\"0.0.0.0\",\n        help=\"server name\",\n    )\n    parser.add_argument(\n        \"--server_port\",\n        type=int,\n        default=7860,\n        help=\"server port\",\n    )\n    parser.add_argument(\n        \"--config\",\n        type=str,\n        default=Path(__file__).parent / \"config/config.yaml\",\n        help=\"config file\",\n    )\n    args = parser.parse_args()\n    ImageMatchingApp(\n        args.server_name,\n        args.server_port,\n        config=args.config,\n        example_data_root=Path(\"imcui/datasets\"),\n    ).run()\n\n[app_class.txt](https://github.com/user-attachments/files/20685924/app_class.txt)\n\n```\n\n\n### Screenshot\n\n_No response_\n\n### Logs\n\n```shell\n(imcui) PS D:\\e04\\mrs\\match\\image-matching-webui-main> python.exe .\\app.py --config .\\config\\config.yaml\n[2025/06/10 15:11:22 hloc INFO] ARCSizeAwareModelCache initialized.\nINFO: Could not find files for the given pattern(s).\n* Running on local URL:  http://localhost:7860\nERROR:    Exception in ASGI application\nTraceback (most recent call last):\n  File \"C:\\Users\\dqe\\anaconda3\\envs\\imcui\\lib\\site-packages\\uvicorn\\protocols\\http\\httptools_impl.py\", line 409, in run_asgi\n    result = await app(  # type: ignore[func-returns-value]\n  File \"C:\\Users\\dqe\\anaconda3\\envs\\imcui\\lib\\site-packages\\uvicorn\\middleware\\proxy_headers.py\", line 60, in __call__\n    return await self.app(scope, receive, send)\n  File \"C:\\Users\\dqe\\anaconda3\\envs\\imcui\\lib\\site-packages\\fastapi\\applications.py\", line 1054, in __call__\n    await super().__call__(scope, receive, send)\n  File \"C:\\Users\\dqe\\anaconda3\\envs\\imcui\\lib\\site-packages\\starlette\\applications.py\", line 112, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\dqe\\anaconda3\\envs\\imcui\\lib\\site-packages\\starlette\\middleware\\errors.py\", line 187, in __call__\n    raise exc\n  File \"C:\\Users\\dqe\\anaconda3\\envs\\imcui\\lib\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    await self.app(scope, receive, _send)\n  File \"C:\\Users\\dqe\\anaconda3\\envs\\imcui\\lib\\site-packages\\gradio\\route_utils.py\", line 790, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\dqe\\anaconda3\\envs\\imcui\\lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\dqe\\anaconda3\\envs\\imcui\\lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\dqe\\anaconda3\\envs\\imcui\\lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\dqe\\anaconda3\\envs\\imcui\\lib\\site-packages\\starlette\\routing.py\", line 714, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\dqe\\anaconda3\\envs\\imcui\\lib\\site-packages\\starlette\\routing.py\", line 734, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\dqe\\anaconda3\\envs\\imcui\\lib\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\dqe\\anaconda3\\envs\\imcui\\lib\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\dqe\\anaconda3\\envs\\imcui\\lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\dqe\\anaconda3\\envs\\imcui\\lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\dqe\\anaconda3\\envs\\imcui\\lib\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n  File \"C:\\Users\\dqe\\anaconda3\\envs\\imcui\\lib\\site-packages\\fastapi\\routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n  File \"C:\\Users\\dqe\\anaconda3\\envs\\imcui\\lib\\site-packages\\fastapi\\routing.py\", line 214, in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n  File \"C:\\Users\\dqe\\anaconda3\\envs\\imcui\\lib\\site-packages\\starlette\\concurrency.py\", line 37, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func)\n  File \"C:\\Users\\dqe\\anaconda3\\envs\\imcui\\lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n  File \"C:\\Users\\dqe\\anaconda3\\envs\\imcui\\lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2470, in run_sync_in_worker_thread\n    return await future\n  File \"C:\\Users\\dqe\\anaconda3\\envs\\imcui\\lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 967, in run\n    result = context.run(func, *args)\n  File \"C:\\Users\\dqe\\anaconda3\\envs\\imcui\\lib\\site-packages\\gradio\\routes.py\", line 549, in main\n    gradio_api_info = api_info(request)\n  File \"C:\\Users\\dqe\\anaconda3\\envs\\imcui\\lib\\site-packages\\gradio\\routes.py\", line 579, in api_info\n    api_info = utils.safe_deepcopy(app.get_blocks().get_api_info())\n  File \"C:\\Users\\dqe\\anaconda3\\envs\\imcui\\lib\\site-packages\\gradio\\blocks.py\", line 2982, in get_api_info\n    python_type = client_utils.json_schema_to_python_type(info)\n  File \"C:\\Users\\dqe\\anaconda3\\envs\\imcui\\lib\\site-packages\\gradio_client\\utils.py\", line 911, in json_schema_to_python_type\n    type_ = _json_schema_to_python_type(schema, schema.get(\"$defs\"))\n  File \"C:\\Users\\dqe\\anaconda3\\envs\\imcui\\lib\\site-packages\\gradio_client\\utils.py\", line 965, in _json_schema_to_python_type\n    des = [\n  File \"C:\\Users\\dqe\\anaconda3\\envs\\imcui\\lib\\site-packages\\gradio_client\\utils.py\", line 966, in <listcomp>\n    f\"{n}: {_json_schema_to_python_type(v, defs)}{get_desc(v)}\"\n  File \"C:\\Users\\dqe\\anaconda3\\envs\\imcui\\lib\\site-packages\\gradio_client\\utils.py\", line 973, in _json_schema_to_python_type\n    f\"str, {_json_schema_to_python_type(schema['additionalProperties'], defs)}\"\n  File \"C:\\Users\\dqe\\anaconda3\\envs\\imcui\\lib\\site-packages\\gradio_client\\utils.py\", line 919, in _json_schema_to_python_type\n    type_ = get_type(schema)\n  File \"C:\\Users\\dqe\\anaconda3\\envs\\imcui\\lib\\site-packages\\gradio_client\\utils.py\", line 880, in get_type\n    if \"const\" in schema:\nTypeError: argument of type 'bool' is not iterable\n```\n\n### System Info\n\n```shell\nWindows 10 with python 3.10 and gradio 5.4\n```\n\n### Severity\n\nBlocking usage of gradio",
    "comments": [
      {
        "user": "abidlabs",
        "body": "Hi @007anupamdas it sounds like the underlying issue is actually https://github.com/gradio-app/gradio/issues/11116, can you please upgrade your version of Gradio to the latest? That should fix it"
      }
    ]
  },
  {
    "issue_number": 11373,
    "title": "gr.ImageMask fails to obtain the original image",
    "author": "smallpillow",
    "state": "open",
    "created_at": "2025-06-11T04:33:07Z",
    "updated_at": "2025-06-11T22:03:47Z",
    "labels": [
      "bug"
    ],
    "body": "### Describe the bug\n\nWhen using gr.ImageMask, I need to process the original image, but I can't obtain it\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\n```python\nimport gradio as gr\nimport gradio as gr\nfrom PIL import Image\n\n\ndef resize_to_1024(img_ed):\n    img = img_ed['background']\n    width, height = img.size\n    max_dim = 896\n    if height < max_dim and width < max_dim:\n        return img, img\n    if width > height:\n        scaling_factor = max_dim / width\n    else:\n        scaling_factor = max_dim / height\n    new_width = int(width * scaling_factor)\n    new_height = int(height * scaling_factor)\n    resized_img = img.resize((new_width, new_height), Image.Resampling.LANCZOS)\n    return resized_img, img\n\n\nwith gr.Blocks() as demo:\n    with gr.Row(equal_height=True):\n        image_editor = gr.ImageMask(\n            type=\"pil\",\n            interactive=True,\n            show_download_button=True,\n            show_fullscreen_button=True,\n            sources=['upload'],\n            layers=False,\n            height=1024,\n        )\n    tempimg = gr.Image(value=None, type=\"pil\", format='png', visible=False, width=160, height=200,\n                       interactive=False, show_label=False,\n                       show_download_button=False, show_fullscreen_button=False)\n\n    image_editor.upload(fn=resize_to_1024, inputs=image_editor, outputs=[image_editor, tempimg])\n    image_editor.apply(fn=resize_to_1024, inputs=image_editor, outputs=[image_editor, tempimg])\n\nif __name__ == \"__main__\":\n    demo.launch()\n```\nSubmit a 2048 × 2560 image with img_ed['background '] being 800× 800\nI found in gradio==5.29.1 is available\n\n\n### Screenshot\n\n_No response_\n\n### Logs\n\n```shell\n\n```\n\n### System Info\n\n```shell\ngradio==5.33.1\n```\n\n### Severity\n\nI can work around it",
    "comments": [
      {
        "user": "abidlabs",
        "body": "cc @pngwn "
      }
    ]
  },
  {
    "issue_number": 11366,
    "title": "`gr.ImageEditor` doesn't work properly with `gr.Examples`",
    "author": "rybakov-ks",
    "state": "open",
    "created_at": "2025-06-10T20:30:43Z",
    "updated_at": "2025-06-11T22:02:31Z",
    "labels": [
      "bug",
      "Priority"
    ],
    "body": "### Describe the bug\n\nThe `gr.ImageEditor` component behaves incorrectly when used with `gr.Examples`.\nWhen loading an image from `gr.Examples` into gr.ImageEditor:\n- The text \"Upload an image or select the draw tool to start\" appears over the image\n- The Brush tool is visible when you hover over the image, but is inactive (you must manually select it again)\n\nIn normal operation (without `gr.Examples`):\n- The text doesn't appear over the image\n- The Brush tool works immediately\n\n[#6752](https://github.com/gradio-app/gradio/issues/6752)\n\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\n```python\nimport gradio as gr\n\ndef test(im):\n    if im[\"composite\"] is not None:\n        return im[\"composite\"]\ndef clear():\n    return {\"background\": None, \"layers\": [], \"composite\": None}, None\n\n\nim2 = { \n    \"background\": \"https://people.sc.fsu.edu/~jburkardt/data/png/dragon.png\",\n    \"layers\": [],  \n    \"composite\": None\n}\n\nwith gr.Blocks() as demo:\n    with gr.Row():\n        im = gr.Paint(\n            label=\"Input\",\n            type=\"numpy\",\n            canvas_size=(600, 600),  # Увеличиваем размер канваса\n            sources=['upload'],\n            brush=gr.Brush(color_mode='fixed', default_color='green', colors=['green']),\n            transforms='crop',\n            layers=False,\n            eraser=gr.Eraser(default_size=200),\n        )\n        output_image = gr.Image(label=\"Result\")\n    with gr.Row():   \n        gr.Examples([im2], im, label='Example')\n    with gr.Row():\n        run_button = gr.Button(value=\"Run\")\n        clear_button = gr.Button(value=\"Clear\")\n    \n    run_button.click(test, im, output_image)  \n    clear_button.click(clear, [], [im, output_image])      \n\ndemo.launch()\n```\n\n\n### Screenshot\n\n![Image](https://github.com/user-attachments/assets/c390b1cc-db76-4c91-9269-babb58623fad)\n\n### Logs\n\n```shell\n\n```\n\n### System Info\n\n```shell\nGradio Environment Information:\n------------------------------\nOperating System: Windows\ngradio version: 5.33.1\ngradio_client version: 1.10.3\n\n------------------------------------------------\ngradio dependencies in your environment:\n\naiofiles: 23.2.1\nanyio: 4.8.0\naudioop-lts is not installed.\nfastapi: 0.115.11\nffmpy: 0.5.0\ngradio-client: 1.10.3\ngroovy: 0.1.2\nhttpx: 0.28.1\nhuggingface-hub: 0.29.3\njinja2: 3.1.6\nmarkupsafe: 2.1.5\nnumpy: 2.1.1\norjson: 3.10.15\npackaging: 24.2\npandas: 2.2.3\npillow: 11.0.0\npydantic: 2.10.6\npydub: 0.25.1\npython-multipart: 0.0.20\npyyaml: 6.0.2\nruff: 0.9.10\nsafehttpx: 0.1.6\nsemantic-version: 2.10.0\nstarlette: 0.46.1\ntomlkit: 0.13.2\ntyper: 0.15.2\ntyping-extensions: 4.12.2\nurllib3: 2.4.0\nuvicorn: 0.34.0\nmcp is not installed.\npydantic: 2.10.6\nauthlib is not installed.\nitsdangerous: 2.2.0\n\n\ngradio_client dependencies in your environment:\n\nfsspec: 2024.6.1\nhttpx: 0.28.1\nhuggingface-hub: 0.29.3\npackaging: 24.2\ntyping-extensions: 4.12.2\nwebsockets: 15.0.1\n```\n\n### Severity\n\nI can work around it",
    "comments": [
      {
        "user": "abidlabs",
        "body": "cc @pngwn "
      }
    ]
  },
  {
    "issue_number": 4260,
    "title": "No \"exports\" main defined in `@gradio/client` - nestjs and other",
    "author": "lisandropuzzolo",
    "state": "open",
    "created_at": "2023-05-18T02:59:21Z",
    "updated_at": "2025-06-11T22:00:56Z",
    "labels": [
      "bug",
      "Priority",
      "API"
    ],
    "body": "### Describe the bug\r\n\r\nI tried the gradio node client on new and existings nestjs project and all give me this error:\r\n\r\n```\r\nError: No \"exports\" main defined in projects/nest-gradio/node_modules/@gradio/client/package.json\r\n    at new NodeError (node:internal/errors:387:5)\r\n    at throwExportsNotFound (node:internal/modules/esm/resolve:365:9)\r\n    at packageExportsResolve (node:internal/modules/esm/resolve:589:7)\r\n    at resolveExports (node:internal/modules/cjs/loader:554:36)\r\n    at Function.Module._findPath (node:internal/modules/cjs/loader:594:31)\r\n    at Function.Module._resolveFilename (node:internal/modules/cjs/loader:1012:27)\r\n    at Function.Module._load (node:internal/modules/cjs/loader:871:27)\r\n    at Module.require (node:internal/modules/cjs/loader:1098:19)\r\n    at require (node:internal/modules/cjs/helpers:108:18)\r\n    at Object.<anonymous> (projects/nest-gradio/src/app.controller.ts:3:1)\r\n```\r\n\r\nand this is my minimal app.controller.ts:\r\n\r\n```\r\nimport { Controller, Get } from '@nestjs/common';\r\nimport { AppService } from './app.service';\r\nimport { client } from '@gradio/client';\r\n\r\n@Controller()\r\nexport class AppController {\r\n  constructor(private readonly appService: AppService) {}\r\n\r\n  @Get()\r\n  async getHello() {\r\n    const app = await client('xlm-roberta-base');\r\n    const info =app.view_api();\r\n\r\n    return info;\r\n  }\r\n}\r\n\r\n```\r\n\r\n\r\n### Is there an existing issue for this?\r\n\r\n- [X] I have searched the existing issues\r\n\r\n### Reproduction\r\n\r\n1. Create a brand new nestjs project.\r\n```\r\n$ npm i -g @nestjs/cli\r\n$ nest new project-name\r\n```\r\n\r\n2. Install gradio node client\r\n```\r\nnpm i @gradio/client\r\n```\r\n\r\n3. Edit the app.controller.ts to add some gradio client test:\r\n```\r\nimport { Controller, Get } from '@nestjs/common';\r\nimport { AppService } from './app.service';\r\nimport { client } from '@gradio/client';\r\n\r\n@Controller()\r\nexport class AppController {\r\n  constructor(private readonly appService: AppService) {}\r\n\r\n  @Get()\r\n  async test() {\r\n    const app = await client('xlm-roberta-base');\r\n    const info =app.view_api();\r\n\r\n    return info;\r\n  }\r\n}\r\n\r\n```\r\n\r\nRun the app:\r\n```\r\nnpm run start\r\n```\r\n\r\n\r\nThe console (at least for me) then shows the mentioned error.\r\n\r\n### Screenshot\r\n\r\n_No response_\r\n\r\n### Logs\r\n\r\n```shell\r\nDebugger listening on ws://127.0.0.1:42371/430d33b9-4fe3-4df9-8101-76e339641d68\r\nFor help, see: https://nodejs.org/en/docs/inspector\r\nDebugger attached.\r\nError: No \"exports\" main defined in /home/me/projects/nest-gradio/node_modules/@gradio/client/package.json\r\n    at new NodeError (node:internal/errors:387:5)\r\n    at throwExportsNotFound (node:internal/modules/esm/resolve:365:9)\r\n    at packageExportsResolve (node:internal/modules/esm/resolve:589:7)\r\n    at resolveExports (node:internal/modules/cjs/loader:554:36)\r\n    at Function.Module._findPath (node:internal/modules/cjs/loader:594:31)\r\n    at Function.Module._resolveFilename (node:internal/modules/cjs/loader:1012:27)\r\n    at Function.Module._load (node:internal/modules/cjs/loader:871:27)\r\n    at Module.require (node:internal/modules/cjs/loader:1098:19)\r\n    at require (node:internal/modules/cjs/helpers:108:18)\r\n    at Object.<anonymous> (/home/me/projects/nest-gradio/src/app.controller.ts:3:1)\r\nWaiting for the debugger to disconnect...\r\n^CWaiting for the debugger to disconnect...\r\nWaiting for the debugger to disconnect...\r\n```\r\n\r\n\r\n### System Info\r\n\r\n```shell\r\nGradio node client \"version\": \"0.1.1\"\r\nOS: Ubuntu 22.04.2 LTS\r\n\r\n[System Information]\r\nOS Version     : Linux 5.19\r\nNodeJS Version : v18.16.0\r\nNPM Version    : 9.5.1 \r\n\r\n[Nest CLI]\r\nNest CLI Version : 9.5.0 \r\n\r\n[Nest Platform Information]\r\nplatform-express version : 9.4.1\r\nschematics version       : 9.2.0\r\ntesting version          : 9.4.1\r\ncommon version           : 9.4.1\r\ncore version             : 9.4.1\r\ncli version              : 9.5.0\r\n```\r\n\r\n\r\n### Severity\r\n\r\nblocking all usage of gradio",
    "comments": [
      {
        "user": "abidlabs",
        "body": "Thanks @lisandropuzzolo for opening the issue. cc-ing @pngwn "
      },
      {
        "user": "Ilshidur",
        "body": "Hi.\r\nNot a Next.js project, but setting `\"type\": \"module\"` in my `package.json` file did the trick for me."
      },
      {
        "user": "abidlabs",
        "body": "Hi @lisandropuzzolo can you see if @Ilshidur's suggestion works for you? "
      }
    ]
  },
  {
    "issue_number": 9877,
    "title": "blobs not working as image inputs in gradio version 5",
    "author": "peeter2",
    "state": "open",
    "created_at": "2024-10-31T14:57:30Z",
    "updated_at": "2025-06-11T22:00:47Z",
    "labels": [
      "bug",
      "svelte",
      "Priority",
      "API"
    ],
    "body": "### Describe the bug\n\nThe predictions api does not work anymore with blob files as the input images anymore. I used to pass blobs using the JS Client to the predictions and the old version of Gradio was able to read the binary data from the blobs and saved them as image files in the temp folder and used them for the prediction but in version 5 it is not working anymore.\n\n### Have you searched existing issues?  🔎\n\n- [X] I have searched and found no existing issues\n\n### Reproduction\n\n```python\r\nimport gradio as gr\r\n\r\n```\r\n\n\n### Screenshot\n\n_No response_\n\n### Logs\n\n_No response_\n\n### System Info\n\n```shell\nlatest\n```\n\n\n### Severity\n\nI can work around it",
    "comments": []
  },
  {
    "issue_number": 9214,
    "title": " Error: Could not resolve app config when connecting to model using Gradio client in Node.js",
    "author": "yardenxr",
    "state": "open",
    "created_at": "2024-08-29T12:37:02Z",
    "updated_at": "2025-06-11T22:00:47Z",
    "labels": [
      "bug",
      "Priority"
    ],
    "body": "### Describe the bug\r\n\r\n I encountered an issue while trying to connect to the <spaceName> model using the @gradio/client library in a Node.js environment. The error message returned is Error: Could not resolve app config.\r\n ### \r\n\r\nimportant to say that in python it works with the same <spaceName> and token.\r\n\r\n### Have you searched existing issues?  🔎\r\n\r\n- [X] I have searched and found no existing issues\r\n\r\n### Reproduction\r\n\r\nInstall the @gradio/client library using npm:\r\n\r\n```typescript\r\nnpm install @gradio/client\r\n```\r\n\r\nImport and use the client function to connect to the model i had to use the workaround for JS (which needs a fix aswell):\r\n\r\n```typescript\r\nexport const importDynamic = new Function('modulePath', 'return import(modulePath)')\r\nconst c = async() => {\r\n\tconst hf_token = 'hf_myHfToken'\r\n\tconst { Client } = await importDynamic('@gradio/client')\r\n\tconst app = await Client.connect('<spaceName>', { hf_token })\r\n\r\n}\r\nc()\r\n```\r\n\r\nRun the script in a Node.js environment.\r\n\r\nExpected Behavior: The client should successfully connect to the <spaceName> model, allowing interaction with the model through the Gradio interface.\r\n\r\nActual Behavior: The following error is thrown:\r\nError: Could not resolve app config.\r\n\r\n\r\n### Screenshot\r\n\r\n_No response_\r\n\r\n### Logs\r\n\r\n_No response_\r\n\r\n### System Info\r\n\r\n```shell\r\nnode version: v20.13.1\r\n@gradio/client 1.5.1\r\n```\r\n\r\n\r\n### Severity\r\n\r\nBlocking usage of gradio",
    "comments": [
      {
        "user": "AshRossel",
        "body": "Did you find a solution?"
      },
      {
        "user": "yardenxr",
        "body": "> Did you find a solution?\n\nI just dont use gradio..."
      },
      {
        "user": "AshRossel",
        "body": "I solved this issue when I was trying to create a Chrome Extension that should use an AI through an API from Hagging Face Space. The problem was that the JS script that was trying to connect to the API didn't have permission to connect because this script took part from the actual web page, so I created a service worker (Another JS script) and then I was able to connect to the Hagging Face Space because the script wasn't injected in the actual webpage.\r\n\r\nIf you are creating a Chorme Extension, it's too easy to  [create a service worker](https://developer.chrome.com/docs/extensions/get-started/tutorial/scripts-activetab)."
      }
    ]
  },
  {
    "issue_number": 8864,
    "title": "Gradio JS client does not work within NextJS",
    "author": "tlaanemaa",
    "state": "open",
    "created_at": "2024-07-22T16:13:35Z",
    "updated_at": "2025-06-11T22:00:46Z",
    "labels": [
      "bug",
      "Priority"
    ],
    "body": "### Describe the bug\n\nThe [Gradio JS client](https://www.npmjs.com/package/@gradio/client) does not work with NextJS, and likely any other similar framework, due to how it detects it's runtime.\r\n\r\nThis manifests in the following error when running a dev environment `npm run dev` with NextJS.\r\n```\r\n./node_modules/@gradio/client/dist/index.js:878:0\r\nModule not found: Can't resolve 'fs/promises'\r\n\r\nhttps://nextjs.org/docs/messages/module-not-found\r\n```\r\n\r\nThe problem seems to be that NextJs seems to run client side code with node versions set, so Gradio thinks it's in a NodeJS environment and goes ahead and requires node dependencie, which fails. The relevant code lines can be seen [here](https://github.com/gradio-app/gradio/blob/914b1935de27c3b379ac9e759b6d10747e3b881a/client/js/src/utils/handle_blob.ts#L111) and [here](https://github.com/gradio-app/gradio/blob/914b1935de27c3b379ac9e759b6d10747e3b881a/client/js/src/helpers/data.ts#L15).\r\n\r\nIt would be nice to have a way to manually set Gradio runtime environment, perhaps through an env variable or something like that because even tho Im using server side rendering and all that, in my case I always want the gradio client to run as if it was in the client.\n\n### Have you searched existing issues?  🔎\n\n- [X] I have searched and found no existing issues\n\n### Reproduction\n\nI dont have a simple way to reproduce this, but I think if you just [set up a fresh NextJS app](https://nextjs.org/docs/pages/api-reference/create-next-app), install @gradio/client, and then try to use it in dev mode then the bug should manifest easily.\r\n\n\n### Screenshot\n\n_No response_\n\n### Logs\n\n_No response_\n\n### System Info\n\n```shell\nI am running on Windows and using the @gradio/client inside a pre-existing NextJS application\n```\n\n\n### Severity\n\nBlocking usage of gradio",
    "comments": [
      {
        "user": "alex-radulescu-b1",
        "body": "Experiencing the exact same issue. Any temporary suggestions at least?"
      },
      {
        "user": "tlaanemaa",
        "body": "My current workaround is to load the CDN hosted version with this hacky helper:\r\n```js\r\nexport const isNode = typeof document === \"undefined\";\r\n\r\n// Super hacky way to load ES modules in the browser\r\n// This is needed to work around this issue: https://github.com/gradio-app/gradio/issues/8864\r\nexport const loadESModule = <T = any>(url: string): Promise<T> =>\r\n  new Promise((resolve, reject) => {\r\n    if (isNode) {\r\n      console.log(\"Skipping module load in Node.js\");\r\n      resolve({} as any);\r\n      return;\r\n    }\r\n\r\n    const globalName = \"___module_resolve\" + Date.now() + Math.random();\r\n    (window[globalName as any] as any) = resolve;\r\n    const script = document.createElement(\"script\");\r\n    script.type = \"module\";\r\n    script.textContent = `\r\n          import * as module_content from '${url}';\r\n          const resolve = window['${globalName}'];\r\n          delete window['${globalName}'];\r\n          resolve(module_content);\r\n        `;\r\n    script.onerror = (err) => reject(err);\r\n\r\n    document.head.appendChild(script);\r\n  });\r\n```\r\n\r\nThe NodeJS checks are in place to get around NextJS doing server side rendering. I want my app to be server side rendered in general, but this hack doesn't work in the server.\r\n\r\nIn general, I think the issue stems from the fact that the client library is an ES module and must be executed in module context, but I guess NextJS isn't doing that.\r\nRelated to that, the [readme on the library](https://www.npmjs.com/package/@gradio/client) appears to be wrong in this line:\r\n```html\r\n<script src=\"https://cdn.jsdelivr.net/npm/@gradio/client/dist/index.min.js\"></script>\r\n```\r\nThe above line doesn't work and throws an error when added to your HTML file. The reason is the same that the library is an ES module, so the script type needs to be set to `module` for this to work, as described [here](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Modules#applying_the_module_to_your_html).\r\nSo the correct snippet would be:\r\n```html\r\n<script type=\"module\" src=\"https://cdn.jsdelivr.net/npm/@gradio/client/dist/index.min.js\"></script>\r\n```\r\n\r\nI would say that for the client library this is currently definitely a blocking issue as it makes the library effectively unusable, outside explicit ES modules, without some crazy workarounds like the one I shared above."
      },
      {
        "user": "hannahblair",
        "body": "Related to #7693 "
      }
    ]
  },
  {
    "issue_number": 10893,
    "title": "Failed to execute 'postMessage' on 'DOMWindow': The target origin provided ('https://huggingface.co') does not match the recipient window's origin",
    "author": "maxgolov",
    "state": "open",
    "created_at": "2025-03-27T04:47:23Z",
    "updated_at": "2025-06-11T22:00:12Z",
    "labels": [
      "bug",
      "Priority"
    ],
    "body": "### Describe the bug\n\n**Gradio version 5.23.1**\n\nI believe this bug is related to commit #10608\n\nWhile running Gradio app on `localhost` - this security error is observed in Chrome Developer Tools:\n\n> \t\tconst hostname = window.location.hostname;\n\t\tconst origin = hostname.includes(\".dev.\")\n\t\t\t? `https://moon-${hostname.split(\".\")[1]}.dev.spaces.huggingface.tech`\n\t\t\t: `https://huggingface.co`;\n\t\twindow.parent.postMessage(supports_zerogpu_headers, origin);\n\nFailed to execute 'postMessage' on 'DOMWindow': The target origin provided ('https://huggingface.co') does not match the recipient window's origin ('http://127.0.0.1:7860').\n\nThe issue is problematic because it causes a security error due to an origin mismatch in the `postMessage` call. Specifically, when running a Gradio app on localhost (e.g., http://127.0.0.1:7860), the code incorrectly uses a fixed production origin (https://huggingface.co) as the target for messages. This violates the browser’s same-origin policy.\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\nGradio version 5.23.1. Run basic app on localhost.\n\n\n### Screenshot\n\n![Image](https://github.com/user-attachments/assets/b95fa97b-7f92-410e-9fda-abbf1528e5e2)\n\n\n### Logs\n\n```shell\nIndex.svelte:362 \n Failed to execute 'postMessage' on 'DOMWindow': The target origin provided ('https://huggingface.co') does not match the recipient window's origin ('http://127.0.0.1:7860').\n(anonymous)\t@\tIndex.svelte:362\n```\n\n### System Info\n\n```shell\nLatest Chrome\n```\n\n### Severity\n\nBlocking usage of gradio",
    "comments": [
      {
        "user": "abidlabs",
        "body": "Does this happen for all Gradio demos for you? If not, can you provide a simple Gradio demo where this happens?"
      },
      {
        "user": "danigarciaoca",
        "body": "same problem here! when embedding huggingface gradio space into my website"
      },
      {
        "user": "abidlabs",
        "body": "How are you embedding? Can y'all please provide a minimal code example that we can use to reproduce the issue above? See: https://stackoverflow.com/help/minimal-reproducible-example"
      }
    ]
  },
  {
    "issue_number": 11375,
    "title": "Markdown content doesn't appear in Gradio's markdown component in version 5.33.1, but it works correctly when I revert to version 4.44.1",
    "author": "VinithVemana",
    "state": "open",
    "created_at": "2025-06-11T05:36:33Z",
    "updated_at": "2025-06-11T19:31:36Z",
    "labels": [
      "bug",
      "pending clarification"
    ],
    "body": "### Describe the bug\n\nI have been using gradio 4.44.1 for quite some time. Now when I tried to upgrade it to gradio 5.33.1, some aspects of the tool, specifically the markdown component do not seem to be working. \n\nAlthough we have text present, it does not output the text while displaying the markdown component in gradio 5.33.1\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\n```python\nimport gradio as gr\n\n```\n\n\n### Screenshot\n\nThe following is the output from gradio 5.33.1\n<img width=\"1197\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/3967ddbb-f5c1-4974-a585-c5dccfb09da0\" />\n\nThe same output in gradio 4.44.1\n\n<img width=\"1206\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/3bd780ea-a696-43c2-a431-637626ad2b6b\" />\n\n### Logs\n\n```shell\n\n```\n\n### System Info\n\n```shell\nThe problem is with the latest version of gradio. It works on older versions\n```\n\n### Severity\n\nBlocking usage of gradio",
    "comments": [
      {
        "user": "hannahblair",
        "body": "Hi @VinithVemana! Could you provide a minimal reproduction? I've tried to replicate a demo from your screenshot but am unable to reproduce the issue. "
      }
    ]
  },
  {
    "issue_number": 10219,
    "title": "Issues with Date Picker visual element from DateTime on FIREFOX",
    "author": "gregm94",
    "state": "closed",
    "created_at": "2024-12-17T15:41:27Z",
    "updated_at": "2025-06-11T18:47:17Z",
    "labels": [
      "bug"
    ],
    "body": "### Describe the bug\n\n### Issues on FIREFOX :\r\n\r\n1. If no default value in the field of Date Picker, impossible to add one using the calendar visual element (Try it on https://www.gradio.app/docs/gradio/datetime#behavior with Firefox)\r\nWorkaround : Teach users to type in their datetimes in text using the right format... (yyyy-mm-dd HH:MM:SS)\r\n\r\n2. Erasing a value through the \"Erase\" button in UI calendar is not working.\r\nWorkaround : Erase the field manually\r\n\r\n\n\n### Have you searched existing issues?  🔎\n\n- [X] I have searched and found no existing issues\n\n### Reproduction\n\n```python\r\nimport gradio as gr\r\ngr.DateTime()\r\n```\r\n\n\n### Screenshot\n\nCHROME VISUAL ELEMENT :\r\n![image](https://github.com/user-attachments/assets/b5f205c2-90e1-4745-a6e2-8b0dad86c1d5)\r\n\r\n\r\nFIREFOX VISUAL ELEMENT : \r\n![image](https://github.com/user-attachments/assets/af671447-842b-43b8-a4e8-edba6d6de48e)\r\n\n\n### Logs\n\n_No response_\n\n### System Info\n\n```shell\ngradio=\"^5.9.0\"\n```\n\n\n### Severity\n\nI can work around it",
    "comments": [
      {
        "user": "Florian-BACHO",
        "body": "I’m experiencing the same issue with `gradio==5.22.0`—the DateTime component does not work in Firefox.\n\n> Workaround : Teach users to type in their datetimes in text using the right format... (yyyy-mm-dd HH:MM:SS)\n\nRelying solely on manual input isn’t ideal for user experience. A better alternative is to use [`gradio_calendar`](https://pypi.org/project/gradio-calendar/), which functions properly in both Firefox and Chrome.\n"
      }
    ]
  },
  {
    "issue_number": 10358,
    "title": "gr.DateTime() date picker does not work on Hugging Face Space",
    "author": "kushal-10",
    "state": "closed",
    "created_at": "2025-01-15T00:24:22Z",
    "updated_at": "2025-06-11T18:47:16Z",
    "labels": [
      "bug",
      "Priority"
    ],
    "body": "### Describe the bug\n\nI deployed the following code in a Huggig Face Space - [here](https://huggingface.co/spaces/Koshti10/TestLLMCalc) - The Space is running without any errors or warnings but the date picker is not working on the Space. However, this works while running locally. I've tried using both gradio 4.44.1 and 5.12.0 but the date picker does not work on the Space. Also, I've tried running the space on Chrome, Safari and Brave.\n\n### Have you searched existing issues?  🔎\n\n- [X] I have searched and found no existing issues\n\n### Reproduction\n\n```python\r\nimport gradio as gr\r\n\r\nllm_calc_app = gr.Blocks()\r\nwith llm_calc_app:\r\n\r\n    with gr.Row():\r\n        start_date = gr.DateTime(\r\n        )\r\n\r\n        end_date = gr.DateTime(\r\n        )\r\n\r\n    llm_calc_app.load()\r\nllm_calc_app.queue()\r\nllm_calc_app.launch()\r\n\r\n```\r\n\n\n### Screenshot\n\n![image](https://github.com/user-attachments/assets/3a1aad22-c56f-45df-946b-50a630a8ead5)\r\nWorks while executing locally\n\n### Logs\n\n```shell\n===== Application Startup at 2025-01-14 23:47:32 =====\r\n\r\n* Running on local URL:  http://0.0.0.0:7860, with SSR ⚡ (experimental, to disable set `ssr=False` in `launch()`)\r\n\r\nTo create a public link, set `share=True` in `launch()`.\n```\n\n\n### System Info\n\n```shell\ntried using both gradio 4.44.1 and 5.12.0\n```\n\n\n### Severity\n\nBlocking usage of gradio",
    "comments": [
      {
        "user": "abidlabs",
        "body": "Interesting, seeing this error in the console:\r\n\r\n```\r\nUncaught SecurityError: Failed to execute 'showPicker' on 'HTMLInputElement': showPicker() called from cross-origin iframe.\r\n```"
      },
      {
        "user": "kushal-10",
        "body": "Thank you for looking into this! I wanted to check if this could be resolved soon on Gradio’s end or if there are any recommended alternatives I can implement in the meantime."
      },
      {
        "user": "dhammo2",
        "body": "I am experiencing the same issue.`\n\n`Uncaught SecurityError: Failed to execute 'showPicker' on 'HTMLInputElement': showPicker() called from cross-origin iframe.\nat HTMLButtonElement.click_handler (Index.CZS3VLYD.js:791:14)`\n\n"
      }
    ]
  },
  {
    "issue_number": 10048,
    "title": "\"Error reloading app\" when using SSL and hot reload mode",
    "author": "umarbutler",
    "state": "closed",
    "created_at": "2024-11-27T08:46:17Z",
    "updated_at": "2025-06-11T18:41:59Z",
    "labels": [
      "bug"
    ],
    "body": "### Describe the bug\n\nWhen I run an demo with SSL, I get a pop up that says \"Error reloading app\".\r\n![image](https://github.com/user-attachments/assets/5db5fac5-9fa0-4394-9a52-22644651b08c)\r\n\r\nI can see a request is made to **http**://mydomain.com/gradio_api/dev/reload that is failing. Note that it is http not https.\r\n![image](https://github.com/user-attachments/assets/1aaccc71-67d7-4af3-9f57-aa7fe4574ab2)\r\n<img width=\"501\" alt=\"image\" src=\"https://github.com/user-attachments/assets/ddce53b0-4e31-4978-ba9b-c7ee8bd646ae\">\r\n\r\nThe demo still works, however. The message just pops up whenever you load the page.\n\n### Have you searched existing issues?  🔎\n\n- [X] I have searched and found no existing issues\n\n### Reproduction\n\n`demo.launch(server_port=443, ssl_keyfile='key', ssl_certfile='cer', ssl_verify=False)`\n\n### Screenshot\n\n_No response_\n\n### Logs\n\n_No response_\n\n### System Info\n\n```shell\nGradio Environment Information:\r\n------------------------------\r\nOperating System: Linux\r\ngradio version: 5.4.0\r\ngradio_client version: 1.4.2\r\n\r\n------------------------------------------------\r\ngradio dependencies in your environment:\r\n\r\naiofiles: 23.2.1\r\nanyio: 4.6.2.post1\r\naudioop-lts is not installed.\r\nfastapi: 0.115.4\r\nffmpy: 0.4.0\r\ngradio-client==1.4.2 is not installed.\r\nhttpx: 0.27.2\r\nhuggingface-hub: 0.25.1\r\njinja2: 3.1.4\r\nmarkupsafe: 2.1.5\r\nnumpy: 1.26.3\r\norjson: 3.10.7\r\npackaging: 24.1\r\npandas: 2.2.3\r\npillow: 10.2.0\r\npydantic: 2.9.2\r\npydub: 0.25.1\r\npython-multipart==0.0.12 is not installed.\r\npyyaml: 6.0.2\r\nruff: 0.7.1\r\nsafehttpx: 0.1.1\r\nsemantic-version: 2.10.0\r\nstarlette: 0.41.2\r\ntomlkit==0.12.0 is not installed.\r\ntyper: 0.12.5\r\ntyping-extensions: 4.12.2\r\nurllib3: 2.2.3\r\nuvicorn: 0.32.0\r\nauthlib; extra == 'oauth' is not installed.\r\nitsdangerous; extra == 'oauth' is not installed.\r\n\r\n\r\ngradio_client dependencies in your environment:\r\n\r\nfsspec: 2024.6.1\r\nhttpx: 0.27.2\r\nhuggingface-hub: 0.25.1\r\npackaging: 24.1\r\ntyping-extensions: 4.12.2\r\nwebsockets: 12.0\n```\n\n\n### Severity\n\nI can work around it",
    "comments": [
      {
        "user": "abidlabs",
        "body": "I see, I assume this only happens when you run an app in reload mode, right? `gradio app.py` fails, but `python app.py` works?"
      },
      {
        "user": "umarbutler",
        "body": "Yup!"
      }
    ]
  },
  {
    "issue_number": 11137,
    "title": "Truncate examples for `Textbox` (and probably other components as well)",
    "author": "abidlabs",
    "state": "closed",
    "created_at": "2025-05-05T09:22:49Z",
    "updated_at": "2025-06-11T18:29:01Z",
    "labels": [],
    "body": "https://huggingface.co/spaces/ASLP-lab/DiffRhythm\n\n<img width=\"1351\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/a1050931-7eb4-4aea-b968-e2a69e4fda06\" />\n\n(looks even worse on mobile)\n",
    "comments": []
  },
  {
    "issue_number": 11358,
    "title": "Gradio ChatBot hides all components if any unsupported component is used",
    "author": "kenvix",
    "state": "closed",
    "created_at": "2025-06-09T17:25:54Z",
    "updated_at": "2025-06-11T16:11:20Z",
    "labels": [
      "bug",
      "enhancement",
      "Priority"
    ],
    "body": "### Describe the bug\n\nIf I use any unsupported component, such as `gr.Model3D`, inside `gr.ChatBot`, all non-plain components inside chatbot interface — including all other valid components — becomes blank. This behavior is very confusing and makes it difficult to debug or understand what's wrong.\n\nAdditionally, I hope that `gr.ChatBot` can support `gr.Model3D` in the future, as I am building a LLM that can generate 3D models through conversation.\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\n```python\nimport os\nos.environ[\"GRADIO_DEBUG\"]='1'\n\nimport gradio as gr\n\n\nhistory = [\n    (\n        \"Here's an audio\",\n        gr.Gallery(\n            value=[\"./examples/test/兰坪乌骨绵羊公羊.jpg\"],\n            show_label=False,\n            elem_id=\"example-gallery\",\n            interactive=False,\n            show_download_button=False,\n            show_share_button=False,\n            columns=[3],\n            rows=[1],\n            object_fit=\"contain\",\n            height=\"130px\",\n            allow_preview=False,\n        ),\n    ),\n    (\"Here's an video\", gr.Model3D(\"./test/示例3D模型.glb\")),\n    (\"Here's an video\", gr.HTML(\"<h1>示例HTML</h1>\")),\n]\n\n\nwith gr.Blocks() as demo:\n    chatbot = gr.Chatbot(\n        history,scale=1\n    )\n\ndemo.launch(\n    debug=True,\n    allowed_paths=[\"./test\", \"./examples\"],\n)\n\n```\n\n\n### Screenshot\n\n![Image](https://github.com/user-attachments/assets/6d340c85-154f-4780-9d9b-107fc224e561)\n\n### Logs\n\n```shell\nThere are no valuable logs, and it appears that all errors have been silenced.\n```\n\n### System Info\n\n```shell\nGradio Environment Information:\n------------------------------\nOperating System: Linux\ngradio version: 5.33.0\ngradio_client version: 1.10.2\n\n------------------------------------------------\ngradio dependencies in your environment:\n\naiofiles: 23.2.1\nanyio: 4.8.0\naudioop-lts is not installed.\nfastapi: 0.115.8\nffmpy: 0.5.0\ngradio-client: 1.10.2\ngroovy: 0.1.2\nhttpx: 0.28.1\nhuggingface-hub: 0.28.1\njinja2: 3.1.5\nmarkupsafe: 2.1.5\nnumpy: 1.26.4\norjson: 3.10.15\npackaging: 24.2\npandas: 2.2.3\npillow: 10.4.0\npydantic: 2.10.6\npydub: 0.25.1\npython-multipart: 0.0.20\npyyaml: 6.0.2\nruff: 0.9.6\nsafehttpx: 0.1.6\nsemantic-version: 2.10.0\nstarlette: 0.45.3\ntomlkit: 0.12.0\ntyper: 0.15.1\ntyping-extensions: 4.12.2\nurllib3: 2.3.0\nuvicorn: 0.34.0\nmcp: 1.9.2\npydantic: 2.10.6\nauthlib is not installed.\nitsdangerous is not installed.\n\n\ngradio_client dependencies in your environment:\n\nfsspec: 2024.9.0\nhttpx: 0.28.1\nhuggingface-hub: 0.28.1\npackaging: 24.2\ntyping-extensions: 4.12.2\nwebsockets: 11.0.3\n```\n\n### Severity\n\nI can work around it",
    "comments": [
      {
        "user": "abidlabs",
        "body": "cc @dawoodkhan82 on both points above^"
      }
    ]
  },
  {
    "issue_number": 9095,
    "title": "gr.DownloadButton inside Render Function Fails to Re-trigger Value Function on Input Change",
    "author": "OrionYuSen",
    "state": "closed",
    "created_at": "2024-08-13T01:44:30Z",
    "updated_at": "2025-06-11T00:56:56Z",
    "labels": [
      "bug",
      "Priority"
    ],
    "body": "### Describe the bug\n\nWhen using a download button inside a render function, setting the value attribute to a function does not re-trigger the function call when the inputs change. This behavior contrasts with the expected functionality, where the function should be called on input changes, as it does when the button is placed outside of a render function.\n\n### Have you searched existing issues?  🔎\n\n- [X] I have searched and found no existing issues\n\n### Reproduction\n\n```python\r\n\r\nimport gradio as gr\r\n\r\nwith gr.Blocks() as demo:\r\n    outer_textbox = gr.Textbox()\r\n\r\n    @gr.render(inputs=outer_textbox)\r\n    def display_content(outer_textbox):\r\n        inner_textbox = gr.Textbox()\r\n\r\n        def get_filepath(textbox):\r\n            print(\"Generating filepath\")\r\n\r\n        download_button = gr.DownloadButton(\r\n            value=get_filepath,\r\n            inputs=inner_textbox,\r\n        )\r\n\r\ndemo.launch()\r\n\r\n```\r\n\n\n### Screenshot\n\n_No response_\n\n### Logs\n\n_No response_\n\n### System Info\n\n```shell\nGradio Environment Information:\r\n------------------------------\r\nOperating System: Windows\r\ngradio version: 4.41.0\r\ngradio_client version: 1.3.0\r\n\r\n------------------------------------------------\r\ngradio dependencies in your environment:\r\n\r\naiofiles: 23.2.1\r\nanyio: 3.6.1\r\nfastapi: 0.103.0\r\nffmpy: 0.3.2\r\ngradio-client==1.3.0 is not installed.\r\nhttpx: 0.27.0\r\nhuggingface-hub: 0.24.5\r\nimportlib-resources: 6.1.1\r\njinja2: 3.1.2\r\nmarkupsafe: 2.1.1\r\nmatplotlib: 3.7.5\r\nnumpy: 1.24.4\r\norjson: 3.9.14\r\npackaging: 24.1\r\npandas: 1.5.3\r\npillow: 9.2.0\r\npydantic: 2.6.1\r\npydub: 0.25.1\r\npython-multipart: 0.0.9\r\npyyaml: 6.0\r\nruff: 0.4.1\r\nsemantic-version: 2.10.0\r\ntomlkit==0.12.0 is not installed.\r\ntyper: 0.12.3\r\ntyping-extensions: 4.9.0\r\nurllib3: 2.2.2\r\nuvicorn: 0.27.1\r\nauthlib; extra == 'oauth' is not installed.\r\nitsdangerous; extra == 'oauth' is not installed.\r\n\r\n\r\ngradio_client dependencies in your environment:\r\n\r\nfsspec: 2024.2.0\r\nhttpx: 0.27.0\r\nhuggingface-hub: 0.24.5\r\npackaging: 24.1\r\ntyping-extensions: 4.9.0\r\nwebsockets: 11.0.3\n```\n\n\n### Severity\n\nI can work around it",
    "comments": []
  },
  {
    "issue_number": 11357,
    "title": "ImageMask cannot upload as output",
    "author": "smallpillow",
    "state": "closed",
    "created_at": "2025-06-09T13:14:57Z",
    "updated_at": "2025-06-10T23:14:05Z",
    "labels": [
      "bug",
      "needs repro",
      "Regression"
    ],
    "body": "### Describe the bug\n\nIn 5.29.1 sometimes after uploading pictures, they cannot be edited and a blank image is returned\nIn 5.33.1, ImageMask cannot upload as output\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\n```python\nimport gradio as gr\n\n```\n\n\n### Screenshot\nbefore\n![Image](https://github.com/user-attachments/assets/57760924-3eca-492e-bc6c-309825d6eda1)\nafter\n![Image](https://github.com/user-attachments/assets/90cb1a50-00b2-43b9-9946-96843ac086cb)\n\n_No response_\n\n### Logs\n\n```shell\n\n```\n\n### System Info\n\n```shell\ndradio==5.30\n```\n\n### Severity\n\nI can work around it",
    "comments": [
      {
        "user": "abidlabs",
        "body": "Hi @smallpillow can you please provide a minimal code example that we can use to reproduce the issue above? See: https://stackoverflow.com/help/minimal-reproducible-example"
      },
      {
        "user": "smallpillow",
        "body": "```\nimport gradio as gr\n\n\ndef main(image):\n    return image\n\n\nwith gr.Blocks() as demo:\n    with gr.Row():\n        in_image = gr.ImageMask(label=\"label1\",\n                                type=\"pil\",\n                                sources=[\"upload\"], )\n    with gr.Row():\n        out_image = gr.ImageMask(label=\"label2\",\n                                 type=\"pil\",\n                                 sources=[\"upload\"], )\n    submit_btn = gr.Button('submit')\n    submit_btn.click(fn=main, inputs=[in_image], outputs=[out_image])\n\nif __name__ == \"__main__\":\n    demo.launch()\n```\nsystem\n```\naiofiles==23.2.1\naltair==5.5.0\nannotated-types==0.7.0\nanyio==4.9.0\nasync-timeout==5.0.1\nattrs==25.3.0\ncertifi==2025.4.26\ncharset-normalizer==3.4.2\nclick==8.2.1\ncontourpy==1.3.2\ncycler==0.12.1\nexceptiongroup==1.3.0\nfastapi==0.115.12\nffmpy==0.6.0\nfilelock==3.18.0\nfonttools==4.58.1\nfsspec==2025.5.1\ngradio==5.33.1\ngradio_client==1.10.3\ngroovy==0.1.2\nh11==0.16.0\nhf-xet==1.1.3\nhttpcore==1.0.9\nhttpx==0.28.1\nhuggingface-hub==0.32.4\nidna==3.10\nimportlib_resources==6.5.2\nJinja2==3.1.6\njsonschema==4.24.0\njsonschema-specifications==2025.4.1\nkiwisolver==1.4.8\nlark-oapi==1.4.11\nmarkdown-it-py==3.0.0\nMarkupSafe==2.1.5\nmatplotlib==3.10.3\nmdurl==0.1.2\nmodelscope_studio==1.2.4\nnarwhals==1.41.1\nnumpy==1.26.4\norjson==3.10.18\npackaging==25.0\npandas==2.3.0\npillow==10.4.0\npyasn1==0.6.1\npycryptodome==3.23.0\npydantic==2.11.5\npydantic_core==2.33.2\npydub==0.25.1\nPygments==2.19.1\npyparsing==3.2.3\npysmb==1.2.10\npython-dateutil==2.9.0.post0\npython-multipart==0.0.20\npytz==2025.2\nPyYAML==6.0.2\nredis==5.2.1\nreferencing==0.36.2\nrequests==2.32.3\nrequests-toolbelt==1.0.0\nrich==14.0.0\nrpds-py==0.25.1\nruff==0.11.12\nsafehttpx==0.1.6\nsemantic-version==2.10.0\nshellingham==1.5.4\nsix==1.17.0\nsniffio==1.3.1\nstarlette==0.46.2\ntomlkit==0.12.0\ntqdm==4.67.1\ntyper==0.16.0\ntyping-inspection==0.4.1\ntyping_extensions==4.14.0\ntzdata==2025.2\nurllib3==2.4.0\nuvicorn==0.34.3\nwebsocket-client==0.58.0\nwebsockets==11.0.3\n```\n\n![Image](https://github.com/user-attachments/assets/c1092966-b002-4281-b560-94277a1712a6)\n\nIn this example, the first ImageMask can upload pictures, but the second one cannot\nIt is okay after removing the click listener"
      },
      {
        "user": "smallpillow",
        "body": "```\nimport gradio as gr\n\ndef resize_to_1024(img_ed):\n    # 将上传的图片resize到能完全显示出来的尺寸\n    img = img_ed['background']\n    width, height = img.size\n    max_dim = 896\n    if height < max_dim and width < max_dim:\n        return img, img\n    if width > height:\n        scaling_factor = max_dim / width\n    else:\n        scaling_factor = max_dim / height\n    new_width = int(width * scaling_factor)\n    new_height = int(height * scaling_factor)\n    resized_img = img.resize((new_width, new_height), Image.Resampling.LANCZOS)\n    return resized_img, img\n\n\nwith gr.Blocks() as demo:\n    image_editor = gr.ImageMask(\n        label=\"label1\",\n        type=\"pil\",\n        interactive=True,\n        show_download_button=True,\n        show_fullscreen_button=True,\n        sources=('upload'),\n        layers=False,\n        height=1024,\n    )\n    tempimg = gr.Image(value=None, type=\"pil\", format='png', visible=False, width=160, height=200,\n                       interactive=False, show_label=False,\n                       show_download_button=False, show_fullscreen_button=False)\n    image_editor.upload(fn=resize_to_1024, inputs=image_editor, outputs=[image_editor, tempimg])\n    image_editor.apply(fn=resize_to_1024, inputs=image_editor, outputs=[image_editor, tempimg])\n\nif __name__ == \"__main__\":\n    demo.launch()\n\n```\nsystem\n```\ngradio==5.29.1\nwebsocket-client==0.58.0\nrequests==2.32.3\npysmb==1.2.10\nlark-oapi==1.4.11\nredis==5.2.1\nmodelscope_studio==1.2.4\npillow~=11.2.1\nnumpy~=2.2.6\nuvicorn~=0.34.3\nfastapi~=0.115.12\n```\n\n\n\nIn this example, after uploading the image, I was unable to obtain the original image in the resize_to_1024 function (with an input of 2048 2560 and an output of 800 800), and after returning, the output was blank\n\n"
      }
    ]
  },
  {
    "issue_number": 10211,
    "title": "Gallery preview row unable to display large number of images (overflow images are hidden and cannot be selected)",
    "author": "xiaomofa",
    "state": "closed",
    "created_at": "2024-12-16T15:14:14Z",
    "updated_at": "2025-06-10T20:53:27Z",
    "labels": [
      "bug",
      "Priority"
    ],
    "body": "### Describe the bug\r\n\r\n<img width=\"1439\" alt=\"image\" src=\"https://github.com/user-attachments/assets/7e8e1de0-1bbf-477c-afb6-af5a62fe269f\" />\r\n<img width=\"1439\" alt=\"image\" src=\"https://github.com/user-attachments/assets/216ad393-772c-4875-9385-cf7ba57e2efe\" />\r\n\r\n### Have you searched existing issues?  🔎\r\n\r\n- [X] I have searched and found no existing issues\r\n\r\n### Fix the bug\r\n\r\n```python\r\ncss = \"\"\"\r\n.thumbnails {\r\n    justify-content: space-between !important;\r\n}\r\n\"\"\"\r\nwith gr.Blocks(css=css) as demo:\r\n```\r\n\r\n### System Info\r\n\r\n```shell\r\ngradio@5.9.0\r\n```\r\n\r\n\r\n### Severity\r\n\r\nI can work around it",
    "comments": []
  },
  {
    "issue_number": 10250,
    "title": "JavaScript in `head` param is not executing as expected",
    "author": "MrEdwards007",
    "state": "open",
    "created_at": "2024-12-24T17:00:24Z",
    "updated_at": "2025-06-10T19:08:58Z",
    "labels": [
      "bug",
      "Priority"
    ],
    "body": "### Describe the bug\r\n\r\nI've written code that utilizes both external and local JavaScript.  That code is not executing.  If I write the code out the HTML file and execute it, it works as expected. This code will not run properly in gradio. \r\n\r\nThe purpose is to load local audio files and visualize them using WaveSurfer JavaScript code.  This is a conversion from running code, which works in Streamlit to Gradio.  The existing code base visualizes thousands of audio files that I am scrolling, visualizing and interacting with dynamically.  \r\n\r\nThis is a distillation to show just one of those files in gradio.\r\n\r\n**waveform_v2.html** is written to disk to determine if it executes and behaves as expected within the browser and it does, (see screenshot of the saved html) but will not work in the interactive gradio environment.\r\n\r\nI have searched the forums and there is a lot about utilizing JavaScript, however neither using gr.HTML() nor 'demo.load(js=js_code)'  to dynamically load JS code has worked.\r\n\r\n### Have you searched existing issues?  🔎\r\n\r\n- [X] I have searched and found no existing issues\r\n\r\n### Reproduction\r\n\r\n```python\r\nimport base64\r\nimport os\r\nimport gradio as gr\r\n\r\n# Function to encode audio data to base64\r\ndef encode_audio_to_base64(file_path):\r\n    if not os.path.exists(file_path):\r\n        print(f\"File not found: {file_path}\")\r\n        return None\r\n    with open(file_path, \"rb\") as audio_file:\r\n        audio_data = audio_file.read()\r\n    return base64.b64encode(audio_data).decode('utf-8')\r\n\r\n# Function to generate the waveform HTML content with external JS and a play/pause button\r\ndef generate_waveform_html(data):\r\n    if not data:\r\n        print(\"No audio data available.\")\r\n        return None\r\n    \r\n    # Escaping special characters to prevent breaking the format\r\n    escaped_data = data.replace(\"'\", \"&#39;\").replace('\"', \"&#34;\")\r\n    \r\n    html = f\"\"\"\r\n    <!DOCTYPE html>\r\n    <html>\r\n    <head>\r\n        <style>\r\n            body {{\r\n                font-family: Arial, sans-serif;\r\n                background-color: #121212;\r\n                color: white;\r\n            }}\r\n            .waveform-container {{\r\n                margin-bottom: 20px;\r\n                padding: 20px;\r\n                background-color: #1e1e1e;\r\n                border-radius: 8px;\r\n                box-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);\r\n            }}\r\n            .waveform {{\r\n                height: 100px;\r\n                background: #333;\r\n                border: 2px solid #666;\r\n            }}\r\n            #playPauseBtn {{\r\n                margin-top: 10px;\r\n                padding: 10px;\r\n                background-color: #1e1e1e;\r\n                color: white;\r\n                border: none;\r\n                border-radius: 5px;\r\n                cursor: pointer;\r\n            }}\r\n            #playPauseBtn:hover {{\r\n                background-color: #333;\r\n            }}\r\n        </style>\r\n    </head>\r\n    <body>\r\n        <div class=\"waveform-container\">\r\n            <div id=\"waveform\" class=\"waveform\"></div>\r\n            <button id=\"playPauseBtn\">Play</button>\r\n        </div>\r\n\r\n    </body>\r\n    </html>\r\n    \"\"\"\r\n\r\n    js_code = f'''\r\n        <script src=\"https://unpkg.com/wavesurfer.js@7/dist/wavesurfer.min.js\"></script>\r\n        <script>\r\n            // Initialize WaveSurfer.js\r\n            var wavesurfer = WaveSurfer.create({{\r\n                container: '#waveform',\r\n                waveColor: '#aaa',\r\n                progressColor: '#fff',\r\n                height: 100,\r\n                responsive: true,\r\n            }});\r\n\r\n            // Load the base64-encoded audio data\r\n            wavesurfer.load('data:audio/wav;base64,{escaped_data}');  // Insert the audio data here\r\n\r\n            // Event listener to log when the waveform is ready\r\n            wavesurfer.on('ready', function() {{\r\n                console.log('Waveform loaded successfully!');\r\n            }});\r\n\r\n            // Event listener to log errors if waveform loading fails\r\n            wavesurfer.on('error', function() {{\r\n                console.error('Error loading waveform data.');\r\n            }});\r\n\r\n            // Play/Pause button functionality\r\n            var playPauseBtn = document.getElementById('playPauseBtn');\r\n            playPauseBtn.addEventListener('click', function() {{\r\n                if (wavesurfer.isPlaying()) {{\r\n                    wavesurfer.pause();\r\n                    playPauseBtn.textContent = 'Play';  // Change button text to 'Play'\r\n                }} else {{\r\n                    wavesurfer.play();\r\n                    playPauseBtn.textContent = 'Pause';  // Change button text to 'Pause'\r\n                }}\r\n            }});\r\n        </script>\r\n    '''\r\n\r\n    return html, js_code\r\n\r\n\r\n\r\n# Gradio interface\r\nwith gr.Blocks() as demo:\r\n    gr.Markdown(\"# Audio Segments Waveform Visualizer\")\r\n\r\n    # Example of using the encode function and generating HTML for a specific audio file\r\n    audio_file_path = 'path/to/your/local/audio/file/combined_segment_01.wav'  # Replace with your audio file path\r\n\r\n    base64_audio_data = encode_audio_to_base64(audio_file_path)\r\n\r\n    if base64_audio_data:\r\n        print(\"Base64 audio data loaded.\")\r\n        # Generate the waveform HTML content\r\n        html_content, js_code = generate_waveform_html(base64_audio_data)\r\n\r\n        # Load HTML content dynamically using the load() method\r\n        html_output = gr.HTML()\r\n        js_code_output = gr.HTML()  # This will be used to inject JS code\r\n        \r\n        # Render the HTML content dynamically in the HTML component\r\n        html_output.value = html_content\r\n        \r\n        # demo.load(js=js_code)  # Dynamically load JS code\r\n        js_code_output.value = js_code\r\n\r\n        # Optionally, save the HTML to a file\r\n        with open(\"waveform_v2.html\", \"w\") as file:\r\n            file.write(html_content + js_code)\r\n\r\n            print(\"HTML file with waveform has been generated!\")\r\n    else:\r\n        print(\"Failed to encode audio data.\")\r\n\r\n\r\n\r\n\r\ndemo.launch()\r\n\r\n\r\n```\r\n\r\n\r\n### Screenshot\r\n\r\n![image](https://github.com/user-attachments/assets/cfc9699e-db80-47c7-bdb9-27e989309039)\r\n\r\n\r\n### Logs\r\n\r\n_No response_\r\n\r\n### System Info\r\n\r\n```shell\r\nGradio Environment Information:\r\n------------------------------\r\nOperating System: Linux\r\ngradio version: 5.9.1\r\ngradio_client version: 1.5.2\r\n\r\n------------------------------------------------\r\ngradio dependencies in your environment:\r\n\r\naiofiles: 23.2.1\r\nanyio: 4.7.0\r\naudioop-lts is not installed.\r\nfastapi: 0.115.6\r\nffmpy: 0.5.0\r\ngradio-client==1.5.2 is not installed.\r\nhttpx: 0.28.1\r\nhuggingface-hub: 0.27.0\r\njinja2: 3.1.5\r\nmarkupsafe: 2.1.5\r\nnumpy: 1.26.4\r\norjson: 3.10.12\r\npackaging: 24.2\r\npandas: 2.2.3\r\npillow: 10.4.0\r\npydantic: 2.10.4\r\npydub: 0.25.1\r\npython-multipart: 0.0.20\r\npyyaml: 6.0.2\r\nruff: 0.8.4\r\nsafehttpx: 0.1.6\r\nsemantic-version: 2.10.0\r\nstarlette: 0.41.3\r\ntomlkit: 0.12.0\r\ntyper: 0.15.1\r\ntyping-extensions: 4.12.2\r\nurllib3: 2.3.0\r\nuvicorn: 0.34.0\r\nauthlib; extra == 'oauth' is not installed.\r\nitsdangerous; extra == 'oauth' is not installed.\r\n\r\n\r\ngradio_client dependencies in your environment:\r\n\r\nfsspec: 2024.12.0\r\nhttpx: 0.28.1\r\nhuggingface-hub: 0.27.0\r\npackaging: 24.2\r\ntyping-extensions: 4.12.2\r\nwebsockets: 11.0.3\r\n```\r\n\r\n\r\n### Severity\r\n\r\nBlocking usage of gradio",
    "comments": [
      {
        "user": "freddyaboulton",
        "body": "Hi @MrEdwards007 - can you try setting the `head` argument of `Blocks`? The `js` parameter is meant to be a single js function."
      },
      {
        "user": "MrEdwards007",
        "body": "I did so and obtain intermittent and strange results.  The code using the head argument will sometimes visualize the waveform, if I just let the page sit.  It makes no sense and it is not deterministic in behavior.  \r\n\r\nI found out by accident, having left the page up, walking away for unknown period of time.  Having tried on multiple occasions to replicate and narrow the behavior and triggers, when I come back, **sometimes** that waveform is visualized.  I dont know what makes the difference, as the code had not changed.  Rarely, if I refresh the page after it has visualized, will it remain on screen.\r\n\r\nTo eliminate this is related to the availability of the javascript online, I **downloaded** the '.js' file locally, read the file into the variable and injected it into the page using the 'head'.  The result is the same, where the application will **sometimes** visualize the waveform after an extended period of time.  That period of time is unknown but it is more than 5-10 minutes, as I've stood and waited to see how the behavior can be replicated.  \r\n\r\nThe primary browser is Firefox but I tried Edge and Chrome to eliminate this being tied to my primary browser.\r\n\r\n```<script src=\"https://unpkg.com/wavesurfer.js@7/dist/wavesurfer.min.js\"></script>```\r\n\r\nThe same JS file utilizing the scripted url above works immediately without issue in Streamlit."
      },
      {
        "user": "pngwn",
        "body": "`gr.HTML()` will not execute provided JS code for security reasons. You will need to use the `js` parameter for blocks or the `js` parameter for event listeners to execute arbitrary JS code."
      }
    ]
  },
  {
    "issue_number": 11334,
    "title": "CLI way of launching default ChatInterface (`load_chat`)",
    "author": "vadimkantorov",
    "state": "open",
    "created_at": "2025-06-04T14:21:32Z",
    "updated_at": "2025-06-10T13:33:45Z",
    "labels": [
      "enhancement"
    ],
    "body": "Rather than having to code up two-LOC python script as advised here: https://www.gradio.app/guides/creating-a-chatbot-fast#note-for-open-ai-api-compatible-endpoints\n\nIt would be nice to be able to fire up such most-basic chatbot interfaces using CLI with documented CLI arguments: `python -m gradio openaichat --share --host ... --port ...` or `gradio openaichat --share --host ... --port ...`. The killer feature would be the `--share` option.\n\nCurrently it might be possible with a clutch:\n`python -c 'import sys, gradio as gr; gr.load_chat(\"http://{host}:{port}/v1/\".format(host = sys.argv[-2], port = sys.argv[-1]), model=sys.argv[-3], token=\"***\").launch(share=True)' \"Qwen/Qwen3-8B\" \"127.0.0.1\" \"8080\"`",
    "comments": [
      {
        "user": "abidlabs",
        "body": "I like the idea of making `gradio load-chat` and `gradio load` cli commands, cc @aliabid94 "
      },
      {
        "user": "vadimkantorov",
        "body": "It would also be important to be able to force text-only (non-multimodal) mode in CLI mode to work around explicitly problems like:\n- https://github.com/gradio-app/gradio/issues/11331"
      }
    ]
  },
  {
    "issue_number": 10590,
    "title": "RootPath not properly working from Gradio version 4.21.0 and onward (including 5.16.0) when using gr.mount and FastAPI directly",
    "author": "jayteaftw",
    "state": "open",
    "created_at": "2025-02-13T22:04:16Z",
    "updated_at": "2025-06-10T03:55:54Z",
    "labels": [
      "bug",
      "Priority",
      "cloud"
    ],
    "body": "### Describe the bug\n\nroot_path is not properly working when mounting gradio application to fastapi as theme.css becomes unaccessible. Looks like how the theme file is being accessed changed from 4.20.1 to 4.21.0. Interestingly, when deployed and used with localhost, it works an intended on gradio on 5.16.0, only when deployed on a https webserver its not able to find the theme.css. However neither the 4.20.1, 4.21.0 or 5.16.0 work properly as they all show 404 connection loss when actually submitting a job. With gradio==5.16.0 and no FastAPI mount the program works as intended but I need to mount it using FastAPI to get use [external authentication](https://www.gradio.app/guides/sharing-your-app#o-auth-with-external-providers) which is absolutely neccessary.\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\n```python\nimport gradio as gr\nfrom fastapi import FastAPI\n\ndemo = gr.Interface(\n    fn=greet,\n    inputs=[\"text\", \"slider\"],\n    outputs=[\"text\"],\n)\n\nROOT_PATH = '/chat/tech-library'\napp = FastAPI(root_path = ROOT_PATH)\napp = gr.mount_gradio_app(app, demo, path=\"/app\")\n```\n\n```bash\nuvicorn --host \"0.0.0.0\"  --proxy-headers --port 7860 serve:app\n```\n\n\n### Screenshot\n\nGradio==4.21.0 to gradio==5.16.0\n![Image](https://github.com/user-attachments/assets/6f87467a-4604-4d7a-8189-14016a5e777b)\n\n![Image](https://github.com/user-attachments/assets/8ee0bfa9-ec38-4be8-90d3-74d434ad01bc)\n\nGradio==4.20.1\n![Image](https://github.com/user-attachments/assets/60179095-1fbc-4249-84ba-6c64f5d7738a)\n\ngradio==5.16.0 w/ Localhost\n![Image](https://github.com/user-attachments/assets/7312f09c-1e92-4828-a7ef-5338c0682ce2)\n\ngradio==5.16.0 w/o FastAPI\nENV GRADIO_SERVER_NAME=\"0.0.0.0\"\nGRADIO_ROOT_PATH=\"/chat/tech-library\"\n```python\nimport gradio as gr\nfrom fastapi import FastAPI\n\ndemo = gr.Interface(\n    fn=greet,\n    inputs=[\"text\", \"slider\"],\n    outputs=[\"text\"],\n)\ndemo.launch()\n```\n![Image](https://github.com/user-attachments/assets/9081c5c2-dce6-430a-b7aa-85dd1027fb01)\n\ngradio==5.16.0 w/ FastAPI but w/o RootPath\n![Image](https://github.com/user-attachments/assets/0fb97759-358a-4210-a407-0a7fa26044ca)\n\n### Logs\n```shell\n\n```\n\n### System Info\n\n```shell\nGradio Environment Information:\n------------------------------\nOperating System: Linux\ngradio version: 5.16.0\ngradio_client version: 1.7.0\n\n------------------------------------------------\ngradio dependencies in your environment:\n\naiofiles: 23.2.1\nanyio: 4.8.0\naudioop-lts is not installed.\nfastapi: 0.115.8\nffmpy: 0.5.0\ngradio-client==1.7.0 is not installed.\nhttpx: 0.28.1\nhuggingface-hub: 0.28.1\njinja2: 3.1.5\nmarkupsafe: 2.1.5\nnumpy: 1.26.4\norjson: 3.10.15\npackaging: 24.2\npandas: 2.2.3\npillow: 11.1.0\npydantic: 2.10.6\npydub: 0.25.1\npython-multipart: 0.0.20\npyyaml: 6.0.2\nruff: 0.9.6\nsafehttpx: 0.1.6\nsemantic-version: 2.10.0\nstarlette: 0.45.3\ntomlkit: 0.13.2\ntyper: 0.15.1\ntyping-extensions: 4.12.2\nurllib3: 2.3.0\nuvicorn: 0.34.0\nauthlib; extra == 'oauth' is not installed.\nitsdangerous; extra == 'oauth' is not installed.\n\n\ngradio_client dependencies in your environment:\n\nfsspec: 2024.9.0\nhttpx: 0.28.1\nhuggingface-hub: 0.28.1\npackaging: 24.2\ntyping-extensions: 4.12.2\nwebsockets: 14.2\n```\n\n### Severity\n\nBlocking usage of gradio",
    "comments": [
      {
        "user": "rgg93-tmp",
        "body": "Any solution to this? I have reached the exact same issue. Chat component doesnt work either, as it goes to an unreachable predict endpoint giving a 404. https://mydomain.com/gradio_api/run/predict\n"
      },
      {
        "user": "rgg93-tmp",
        "body": "Just in case someone else arrives to this point. \n\nWhen launching FastAPI with root_path behind Nginx and mounting a Gradio app on it you have the following choices:\n\na) Set root_path in gr.mount_gradio_app too. This adds the root_path to the blocks, and then creates an app with such that root_path. Then the generated app is mounted over FastAPI app in path. The problem is that the parent FastAPI app has the root_path, but also the newly generated and mounted App provided by Gradio in gr.mount_gradio_app so it doesn't work and you get a 404 for the endpoint /root_path/path. Somehow it breaks the FastAPI deployments.\n\nb) Do not set root_path in gr.mount_gradio_app. This approach is close to work as the apps are available at /root_path/path. The problem is that it never sets the root_path for the blocks, which means the application doesn't redirect to the right theme.css or /predict endpoints.\n\nGuess there are many issues related to this and a deep revision of this behaviour would help. Also docs regarding FastAPI usage with Gradio would help."
      },
      {
        "user": "joel-odlund",
        "body": "Any news here? Seems like a serious bug. \nI cannot upgrade due to this. \n"
      }
    ]
  },
  {
    "issue_number": 8496,
    "title": "Audio component waveform slow rendering",
    "author": "pngwn",
    "state": "closed",
    "created_at": "2024-06-07T16:35:29Z",
    "updated_at": "2025-06-10T01:34:29Z",
    "labels": [
      "bug",
      "svelte",
      "Priority",
      "🎵 Audio"
    ],
    "body": "### Describe the bug\n\nThe audio component sometimes takes a while to generate the waveform:\r\n\r\nhttps://huggingface.co/spaces/ameerazam08/stableaudio-open-1.0\n\n### Have you searched existing issues?  🔎\n\n- [X] I have searched and found no existing issues\n\n### Reproduction\n\nhttps://huggingface.co/spaces/ameerazam08/stableaudio-open-1.0\n\n### Screenshot\n\n_No response_\n\n### Logs\n\n_No response_\n\n### System Info\n\n```shell\n-\n```\n\n\n### Severity\n\nI can work around it",
    "comments": [
      {
        "user": "pngwn",
        "body": "cc @gary149 "
      },
      {
        "user": "ivan-galinskiy",
        "body": "I would like to second this! In my case, it happens even when e.g. running the \"reverse_audio\" example on [https://www.gradio.app/docs/gradio/audio]().\r\n\r\nThere, the waveform display after recording also takes quite long (like a minute on a 5-second audio recording). I'm running Gradio 4.44 installed in a venv according to the recommendations (on a pretty beefy PC, so that's not the issue). Interestingly, it happens in Chromium, while Firefox seems unaffected. Downgrading Gradio to 4.19 actually solves this problem, while versions >=4.20 (including Gradio 5 beta) are affected. Would be great if somebody took a look, thank you for the amazing work developing Gradio! :) "
      },
      {
        "user": "freddyaboulton",
        "body": "I looked into this by duplicating the original space here https://huggingface.co/spaces/freddyaboulton/stableaudio-open-1.0, the original was not running.\n\nI can't really repro the issue on version 5. Maybe when the space was super viral, loading the community generations took a while but I think that's fixed anyways now with the recent fixes to gr.render.\n\nSo I think we can close but can revisit if this continues to be a problem for users. "
      }
    ]
  },
  {
    "issue_number": 8984,
    "title": "Error while following custom component tutorial.",
    "author": "arcontechnologies",
    "state": "closed",
    "created_at": "2024-08-04T19:55:43Z",
    "updated_at": "2025-06-10T00:39:38Z",
    "labels": [
      "bug",
      "Priority",
      "custom-components"
    ],
    "body": "### Describe the bug\n\nfollowing custom component tutorial, I started by creating the project :\r\n`gradio cc create MyTextBox --template SimpleTextbox`\r\n\r\nthen I tried run the next command : `gradio cc dev`  where an error occurred :  \r\n\r\n\n\n### Have you searched existing issues?  🔎\n\n- [X] I have searched and found no existing issues\n\n### Reproduction\n\ndemo code\n\n### Screenshot\n\n![image](https://github.com/user-attachments/assets/dff14fe4-2d04-440c-9810-624ad64d8678)\r\n\r\n![image](https://github.com/user-attachments/assets/3e3aa59f-8a3d-436c-ad63-778653125263)\n\n### Logs\n\n_No response_\n\n### System Info\n\n```shell\nWindows 11\r\npython 3.11\r\nNodejs : v18.14.2\r\nnpm : 9.5.1\n```\n\n\n### Severity\n\nBlocking usage of gradio",
    "comments": [
      {
        "user": "abidlabs",
        "body": "Hi @arcontechnologies are you using the latest version of `gradio`?"
      },
      {
        "user": "arcontechnologies",
        "body": "Hi @abidlabs Yes I'm using the last one : 4.40.0\r\nI tried 4.39.0 and also 4.35.0 to see if any regression but I'm ending with same error.\r\nI also updated nodejs : v20.16.0 and npm : 10.8.2 and still facing the issue."
      },
      {
        "user": "abidlabs",
        "body": "Is this the case if you use a different component as a template as well?"
      }
    ]
  },
  {
    "issue_number": 9345,
    "title": "A syntax error occurred in the viewer console when creating a custom component",
    "author": "zyq191219",
    "state": "closed",
    "created_at": "2024-09-13T02:52:39Z",
    "updated_at": "2025-06-10T00:38:50Z",
    "labels": [
      "bug",
      "Priority"
    ],
    "body": "### Describe the bug\r\n\r\n[Deprecation] Custom state pseudo classes have been changed from \":--color-var\" to \":state(color-var)\". See more here: https://github.com/w3c/csswg-drafts/issues/4805\r\n控制台报错\r\n\r\n### Have you searched existing issues?  🔎\r\n\r\n- [X] I have searched and found no existing issues\r\n\r\n### Reproduction\r\n\r\n```python\r\nimport gradio as gr\r\n\r\ndef greet(name, intensity):\r\n    return \"Hello, \" + name + \"!\" * int(intensity)\r\n\r\ndemo = gr.Interface(\r\n    fn=greet,\r\n    inputs=[\"text\", \"slider\"],\r\n    outputs=[\"text\"],\r\n)\r\n\r\ndemo.launch()\r\n\r\n```\r\n\r\n\r\n### Screenshot\r\n\r\n![image](https://github.com/user-attachments/assets/53fbed6a-8e24-47a6-8ca1-a1a8ddc6808a)\r\n\r\n### Logs\r\n\r\n_No response_\r\n\r\n### System Info\r\n\r\n```shell\r\nName: gradio\r\nVersion: 4.44.0\r\nSummary: Python library for easily interacting with trained machine learning models\r\n```\r\n\r\n\r\n### Severity\r\n\r\nI can work around it",
    "comments": [
      {
        "user": "abidlabs",
        "body": "Hi @zyq191219 what OS/browser are you using and what Gradio app are you running? We'll need more info in order for us to repro the issue"
      },
      {
        "user": "zyq191219",
        "body": "> Hi @zyq191219 what OS/browser are you using and what Gradio app are you running? We'll need more info in order for us to repro the issue\r\n\r\nwindows 11\r\ngoogle chrome explorer version=128.0.6613.121,\r\nusing gradio python\r\nPython 3.9.2"
      },
      {
        "user": "Abhishek0075",
        "body": "Same here need update immediately please \r\n"
      }
    ]
  },
  {
    "issue_number": 11263,
    "title": "`streaming=True` not working for image streaming since Gradio@5.27.0",
    "author": "themdeee",
    "state": "closed",
    "created_at": "2025-05-27T09:44:04Z",
    "updated_at": "2025-06-10T00:14:14Z",
    "labels": [
      "Priority",
      "Regression"
    ],
    "body": "### Describe the bug\n\nI'm using the image streaming feature in my Gradio project. However, this feature appears to have stopped working since Gradio@5.27.0.\n\nPreviously, I enabled image streaming by setting `streaming=True` on the `gr.Image` component. This worked as expected in Gradio@5.26.0, where the right output image would update in real-time as the left input image changed in the example.\n\nStarting from Gradio@5.27.0, however, setting `streaming=True` seems to have no effect. The output image no longer updates in sync with the input image. This behavior is the same whether `streaming=True` is set or not.\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\n```python\nimport gradio as gr\n\nwith gr.Blocks() as demo:\n    with gr.Row():\n        with gr.Column():\n            input_img = gr.Image(label=\"Input\", sources=\"webcam\")\n        with gr.Column():\n            output_img = gr.Image(label=\"Output\", streaming=True)\n        input_img.stream(lambda s: s, input_img, output_img, time_limit=15, stream_every=0.1, concurrency_limit=30)\n\nif __name__ == \"__main__\":\n\n    demo.launch()\n```\n\n\n### Screenshot\n\n_No response_\n\n### Logs\n\n```shell\n\n```\n\n### System Info\n\n```shell\nGradio Environment Information:\n------------------------------\nOperating System: Windows\ngradio version: 5.27.0\ngradio_client version: 1.9.0\n\n------------------------------------------------\ngradio dependencies in your environment:\n\naiofiles: 24.1.0\nanyio: 4.9.0\naudioop-lts is not installed.\nfastapi: 0.115.12\nffmpy: 0.5.0\ngradio-client==1.9.0 is not installed.\ngroovy: 0.1.2\nhttpx: 0.28.1\nhuggingface-hub: 0.31.2\njinja2: 3.1.6\nmarkupsafe: 3.0.2\nnumpy: 1.26.4\norjson: 3.10.18\npackaging: 25.0\npandas: 2.2.3\npillow: 11.2.1\npydantic: 2.11.4\npydub: 0.25.1\npython-multipart: 0.0.20\npyyaml: 6.0.2\nruff: 0.11.10\nsafehttpx: 0.1.6\nsemantic-version: 2.10.0\nstarlette: 0.46.2\ntomlkit: 0.13.2\ntyper: 0.15.4\ntyping-extensions: 4.13.2\nurllib3: 2.4.0\nuvicorn: 0.34.2\nauthlib; extra == 'oauth' is not installed.\nitsdangerous; extra == 'oauth' is not installed.\n\n\ngradio_client dependencies in your environment:\n\nfsspec: 2025.3.2\nhttpx: 0.28.1\nhuggingface-hub: 0.31.2\npackaging: 25.0\ntyping-extensions: 4.13.2\nwebsockets: 15.0.1\n```\n\n### Severity\n\nBlocking usage of gradio",
    "comments": [
      {
        "user": "abidlabs",
        "body": "cc @freddyaboulton perhaps!"
      },
      {
        "user": "freddyaboulton",
        "body": "Hi @themdeee ! I can't repro on the latest version of gradio!\n\n![Image](https://github.com/user-attachments/assets/fdc500c3-fb37-41ed-8a9e-b8506ec9b256)"
      },
      {
        "user": "themdeee",
        "body": "Hi @freddyaboulton ! It seems that you might have used a **non-default camera** to capture image, rather than the **default camera**.\n\nIn Gradio@5.31.0, I found that `streaming=True` actually works correctly when using a **non-default camera** — this is something I just discovered.\n\nHowever, when using the **default camera**, the issue still persists in Gradio@5.31.0. Here's how I reproduced it:\n\n![Image](https://github.com/user-attachments/assets/d8e20f4a-8701-4f88-938f-443082f6eb89)"
      }
    ]
  },
  {
    "issue_number": 10621,
    "title": "@gr.render causes the button to fail to trigger a click event in some scenarios which simliar to  Multipage Apps",
    "author": "suxiaofei",
    "state": "open",
    "created_at": "2025-02-18T11:26:30Z",
    "updated_at": "2025-06-09T23:49:23Z",
    "labels": [
      "bug",
      "needs repro"
    ],
    "body": "### Describe the bug\n\nBackground：create one page include multi tabs and every tab contains a Blocks which contains @gr.render flag and contens.\nsimilar Multipage Apps, here no route flag, just use Blocks.render in tab，avoid having too much code in the same file.\nExample: main page, include page_a.py in tab 1 ,and include page_b.py in tab 2 and include page_c.py in tab 3.\nbusiness code in @gr.render blocks\n\nMy question is : \nall components in 3 page display,but only one button in one of the three pages can trigger click event，and the page which button can work is random.\nWhen refresh browser,the runnable page may become another one.\n\nin Screenshot cases, only Button b trigger click event normally。Button a and Button c cant trigger click event .\n\nIf remove @gr.render flags ,all button trigger click event normally。\n\nPlease Help Me ,thks 。\n\nCode in Reproduction Part.\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\nmain_page.py \n\nimport gradio as gr\nimport page_a\nimport page_b\nimport page_c\n\nwith gr.Blocks() as main:\n    gr.Markdown(\"page main\")\n    with gr.Tabs():\n        with gr.Tab(\"tabs\"):\n            with gr.TabItem(\"tab1\"):\n                page_a.pa.render()\n            with gr.TabItem(\"tab2\"):\n                page_b.pb.render()\n            with gr.TabItem(\"tab3\"):\n                page_c.pc.render()\n\nif __name__ == \"__main__\":\n    main.launch()\n\npage_a.py\n\nimport gradio as gr\ndef click(input):\n    return \"click \"+input\n\nwith gr.Blocks() as pa:\n    @gr.render(trigger_mode='always_last')\n    def refresh():\n        gr.Markdown(\"page a\")\n        input = gr.Textbox(\"input a\",label=\"input a\")\n        btn = gr.Button(\"buttion a\")\n        btn.click(click, inputs=input, outputs=input)\n\npage_b.py\n\nimport gradio as gr\n\ndef click(input):\n    return \"click \"+input\n\nwith gr.Blocks() as pb:\n\n    @gr.render(trigger_mode='always_last')\n    def refresh():\n        gr.Markdown(\"page b\")\n        input = gr.Textbox(\"input b\", label=\"input b\")\n        btn = gr.Button(\"buttion b\")\n        btn.click(click, inputs=input, outputs=input)\n\npage_c.py\n\nimport gradio as gr\n\ndef click(input):\n    return \"click \"+input\n\nwith gr.Blocks() as pc:\n\n    @gr.render(trigger_mode='always_last')\n    def refresh():\n        gr.Markdown(\"page c\")\n        input = gr.Textbox(\"input c\", label=\"input c\")\n        btn = gr.Button(\"buttion c\")\n        btn.click(click, inputs=input, outputs=input)\n\n\n\n### Screenshot\n\n<img width=\"1337\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/d55c03ba-9844-4879-a9d7-28c72d5dc372\" />\n\n<img width=\"1069\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/18cc8dc0-bc0d-4d92-ad32-fbe4953d6cdc\" />\n\n<img width=\"1327\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/fcb08a23-a373-4733-ad37-6f665472bbce\" />\n\n### Logs\n\n```shell\n\n```\n\n### System Info\n\n```shell\nGradio version :5.16.1\nBrowser：chrome 133.0.6943.55 (arm64)\nIDE : PyCharm 2023.3.2 (Professional Edition)\nHardware：MacBook Pro (13-inch, M1, 2020)\n```\n\n### Severity\n\nBlocking usage of gradio",
    "comments": [
      {
        "user": "abidlabs",
        "body": "Hi @suxiaofei can you please provided a well-formatted, minimal code example that we can use to reproduce the issue above? See: https://stackoverflow.com/help/minimal-reproducible-example"
      }
    ]
  },
  {
    "issue_number": 11337,
    "title": "MCP server returns invalid payload when a `gr.Image` tool outputs an SVG",
    "author": "DavidLMS",
    "state": "closed",
    "created_at": "2025-06-04T19:54:25Z",
    "updated_at": "2025-06-09T21:24:17Z",
    "labels": [
      "bug",
      "Priority"
    ],
    "body": "### Describe the bug\n\nWhen launching an MCP server (`launch(..., mcp_server=True)`), every tool that returns a\n`gr.Image` works correctly **if** the image is a PNG.  \nIf the image is an **SVG**, the MCP server does **not** respect the MCP-spec JSON\n(`\"type\": \"image\", \"data\": \"<base64>\", \"mimeType\": \"image/png\"`): the `data`\nfield arrives empty and the agent fails to display the image.\n\n*Works* (PNG) → payload is:\n```json\n{\n  \"type\": \"image\",\n  \"data\": \"<base64-png>\",\n  \"mimeType\": \"image/png\"\n}\n```\n\n*Fails* (SVG) → payload is:\n```json\n{\n  \"type\": \"text\"\n...\n}\n```\n\nI intend to submit a PR if the fix is straightforward.\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\n```python\nimport gradio as gr\nimport base64, pathlib\n\n# Minimal SVG (a red circle)\nSVG = \"\"\"<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"200\" height=\"200\">\n<circle cx=\"100\" cy=\"100\" r=\"80\" fill=\"red\"/></svg>\"\"\"\nPATH = pathlib.Path(\"circle.svg\")\nPATH.write_text(SVG, encoding=\"utf-8\")\n\ndef make_svg():\n    # Return as a Gradio image component\n    return gr.Image(value=PATH, format=\"svg\")  # <-- PNG works, SVG breaks\n\nwith gr.Blocks() as demo:\n    gr.Interface(make_svg, inputs=None, outputs=gr.Image()).launch(\n        mcp_server=True,  # Trigger MCP behaviour\n    )\n```\n\nRun the file and call the tool from an MCP client; the JSON response is malformed when format=\"svg\".\n\n### Screenshot\n\n_No response_\n\n### Logs\n\n```shell\n\n```\n\n### System Info\n\n```shell\nGradio version: 5.32.1\nPython version: 3.11\nFramework:      Space (Hugging Face)\n```\n\n### Severity\n\nI can work around it",
    "comments": [
      {
        "user": "abidlabs",
        "body": "Thanks @DavidLMS! If you'd like to open a PR, the relevant file is: `gradio/mcp.py`"
      },
      {
        "user": "DavidLMS",
        "body": "PR proposal: #11348"
      }
    ]
  },
  {
    "issue_number": 11352,
    "title": "`gr.ImageEditor` does not respect dark mode or browser/user language settings",
    "author": "rybakov-ks",
    "state": "open",
    "created_at": "2025-06-08T16:34:54Z",
    "updated_at": "2025-06-09T21:20:06Z",
    "labels": [
      "bug"
    ],
    "body": "### Describe the bug\n\nWhen switching between Light and Dark themes, the `gr.Image` and `gr.Paint` components react differently. One of them adapts correctly to the theme change, while the other does not update its appearance properly.\n\nAdditionally, `gr.Paint` does not respect browser/user language settings, while `gr.Image` do.\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\n```python\nimport gradio as gr\n\nwith gr.Blocks(theme=gr.themes.Default()) as demo:\n    with gr.Row():\n        in1=gr.Image(label=\"Image Component\")\n        in2=gr.Paint(label=\"Paint Component\", sources=['upload'],)\n        \ndemo.launch()\n```\n\n![Image](https://github.com/user-attachments/assets/c5d0e133-8f68-41c7-868f-92f36cf22187)\n\n```python\nimport gradio as gr\n\nwith gr.Blocks(theme=gr.themes.Default()) as demo:\n    with gr.Row():\n        toggle_dark = gr.Button(\"Dark\", size=\"sm\")\n    with gr.Row():\n        in1=gr.Image(label=\"Image Component\")\n        in2=gr.Paint(label=\"Paint Component\", sources=['upload'],)\n        \n    toggle_dark.click(None, None, None,\n        js=\"\"\"\n        () => {\n            document.body.classList.toggle('dark')\n        }\n        \"\"\"\n    )\ndemo.launch()\n```\n\n![Image](https://github.com/user-attachments/assets/063377d3-45dc-4212-af8c-3a5384afa1de)\n\n### Screenshot\n\n_No response_\n\n### Logs\n\n```shell\n\n```\n\n### System Info\n\n```shell\nGradio Environment Information:\n------------------------------\nOperating System: Windows\ngradio version: 5.33.0\ngradio_client version: 1.10.2\n\n------------------------------------------------\ngradio dependencies in your environment:\n\naiofiles: 23.2.1\nanyio: 4.8.0\naudioop-lts is not installed.\nfastapi: 0.115.11\nffmpy: 0.5.0\ngradio-client: 1.10.2\ngroovy: 0.1.2\nhttpx: 0.28.1\nhuggingface-hub: 0.29.3\njinja2: 3.1.6\nmarkupsafe: 2.1.5\nnumpy: 2.1.1\norjson: 3.10.15\npackaging: 24.2\npandas: 2.2.3\npillow: 11.0.0\npydantic: 2.10.6\npydub: 0.25.1\npython-multipart: 0.0.20\npyyaml: 6.0.2\nruff: 0.9.10\nsafehttpx: 0.1.6\nsemantic-version: 2.10.0\nstarlette: 0.46.1\ntomlkit: 0.13.2\ntyper: 0.15.2\ntyping-extensions: 4.12.2\nurllib3: 2.4.0\nuvicorn: 0.34.0\nmcp is not installed.\npydantic: 2.10.6\nauthlib is not installed.\nitsdangerous: 2.2.0\n\n\ngradio_client dependencies in your environment:\n\nfsspec: 2024.6.1\nhttpx: 0.28.1\nhuggingface-hub: 0.29.3\npackaging: 24.2\ntyping-extensions: 4.12.2\nwebsockets: 15.0.1\n```\n\n### Severity\n\nI can work around it",
    "comments": []
  },
  {
    "issue_number": 11351,
    "title": "Translated label in gr.Image shows [object Object] when using gr.Examples",
    "author": "rybakov-ks",
    "state": "open",
    "created_at": "2025-06-07T19:48:21Z",
    "updated_at": "2025-06-09T21:18:56Z",
    "labels": [
      "bug"
    ],
    "body": "### Describe the bug\n\nWhen using a translated label (via `i18n(\"Image\")`) for a `gr.Image` component, the label displays correctly during normal file uploads but shows `[object Object] `when loaded via `gr.Examples`.\n\nhttps://github.com/user-attachments/assets/a9f4bd1a-db82-400b-bc54-b19b769df074\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\n```python\nimport gradio as gr\n\ndef fn(image):\n    return \"Beautiful image\"\n\ni18n = gr.I18n(\n    en={\"greeting\": \"Hello, welcome to my app!\", \"submit\": \"Submit\", \"Image\": \"Beautiful image\", \"example\": \"Example\"},\n    es={\"greeting\": \"¡Hola, bienvenido a mi aplicación!\", \"submit\": \"Enviar\", \"Image\": \"Hermosa imagen\", \"example\": \"Ejemplo\"},\n    fr={\"greeting\": \"Bonjour, bienvenue dans mon application!\", \"submit\": \"Soumettre\", \"Image\": \"Belle image\", \"example\": \"Exemple\"}\n)\n\nwith gr.Blocks() as demo:\n    gr.Markdown(i18n(\"greeting\"))\n    with gr.Row():\n        in_image = gr.Image(sources=[\"upload\"], label=i18n(\"Image\"))\n        output_text = gr.Textbox(label=\"Output\")\n    with gr.Row():   \n            gr.Examples(['images.jpg'], in_image, label=i18n('example'))\n    submit_btn = gr.Button(i18n(\"submit\"))\n    submit_btn.click(fn, in_image, output_text)\n\ndemo.launch(i18n=i18n)\n\n```\n\n\n### Screenshot\n\n_No response_\n\n### Logs\n\n```shell\n\n```\n\n### System Info\n\n```shell\nGradio Environment Information:\n------------------------------\nOperating System: Windows\ngradio version: 5.33.0\ngradio_client version: 1.10.2\n\n------------------------------------------------\ngradio dependencies in your environment:\n\naiofiles: 23.2.1\nanyio: 4.8.0\naudioop-lts is not installed.\nfastapi: 0.115.11\nffmpy: 0.5.0\ngradio-client: 1.10.2\ngroovy: 0.1.2\nhttpx: 0.28.1\nhuggingface-hub: 0.29.3\njinja2: 3.1.6\nmarkupsafe: 2.1.5\nnumpy: 2.1.1\norjson: 3.10.15\npackaging: 24.2\npandas: 2.2.3\npillow: 11.0.0\npydantic: 2.10.6\npydub: 0.25.1\npython-multipart: 0.0.20\npyyaml: 6.0.2\nruff: 0.9.10\nsafehttpx: 0.1.6\nsemantic-version: 2.10.0\nstarlette: 0.46.1\ntomlkit: 0.13.2\ntyper: 0.15.2\ntyping-extensions: 4.12.2\nurllib3: 2.4.0\nuvicorn: 0.34.0\nmcp is not installed.\npydantic: 2.10.6\nauthlib is not installed.\nitsdangerous: 2.2.0\n\n\ngradio_client dependencies in your environment:\n\nfsspec: 2024.6.1\nhttpx: 0.28.1\nhuggingface-hub: 0.29.3\npackaging: 24.2\ntyping-extensions: 4.12.2\nwebsockets: 15.0.1\n```\n\n### Severity\n\nI can work around it",
    "comments": [
      {
        "user": "pngwn",
        "body": "@hannahblair we will need to perform the translation logic when creating the example props as well (I think it is in the init file). "
      },
      {
        "user": "pngwn",
        "body": "Maybe this also applies to chatbot components too? Not sure. "
      },
      {
        "user": "freddyaboulton",
        "body": "Nice find @rybakov-ks !"
      }
    ]
  },
  {
    "issue_number": 11254,
    "title": "[Feature request] gradio.mount_gradio_app support mcp_server argument",
    "author": "iervn6341-ovo",
    "state": "closed",
    "created_at": "2025-05-24T13:07:36Z",
    "updated_at": "2025-06-09T20:03:37Z",
    "labels": [
      "enhancement"
    ],
    "body": "It's seem `mount_gradio_app` currently not support `mcp_server` argument like gradio.Blocks.launch did.\n\nwill `mount_gradio_app` support mcp setting in the future feature?",
    "comments": []
  },
  {
    "issue_number": 11333,
    "title": "Improve default Tab name",
    "author": "hannahblair",
    "state": "closed",
    "created_at": "2025-06-04T13:49:10Z",
    "updated_at": "2025-06-09T17:17:36Z",
    "labels": [
      "bug",
      "enhancement"
    ],
    "body": "### Describe the bug\n\nI feel like we can do better than `undefined`. Maybe `Tab n`\n\n\n<img width=\"391\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/c691fd07-6930-48e3-972f-4324d18cf332\" />\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\n```python\nimport gradio as gr\n\n```\n\n\n### Screenshot\n\n_No response_\n\n### Logs\n\n```shell\n\n```\n\n### System Info\n\n```shell\nn/a\n```\n\n### Severity\n\nI can work around it",
    "comments": []
  },
  {
    "issue_number": 11355,
    "title": "gr.Image element causes high memory usage in Firefox and Chrome",
    "author": "smallpillow",
    "state": "open",
    "created_at": "2025-06-09T07:48:22Z",
    "updated_at": "2025-06-09T07:53:04Z",
    "labels": [
      "bug"
    ],
    "body": "### Describe the bug\n\nAssigning values to gr.Image multiple times will cause the memory of Google Chrome to increase. The memory occupied by the sticky notes will keep growing until it crashes.\n\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\n```python\nimport gradio as gr\n\nwith gr.Blocks() as demo:\n    with gr.Row():\n        in_image = gr.Image(sources=[\"upload\"])\n    with gr.Row():\n        out_image = gr.Image(sources=[\"upload\"])\n    submit_btn = gr.Button('submit')\n    submit_btn.click(fn=lambda x: x, inputs=[in_image], outputs=[out_image])\n\nif __name__ == \"__main__\":\n    demo.launch()\n\n```\n\n\n### Screenshot\n\n_No response_\n\n### Logs\n\n```shell\n\n```\n\n### System Info\n\n```shell\ngradio==5.29.1\n```\n\n### Severity\n\nI can work around it",
    "comments": []
  },
  {
    "issue_number": 9610,
    "title": "gradio cc build completed but custom component not work ",
    "author": "ThanhHung2112",
    "state": "closed",
    "created_at": "2024-10-09T10:38:54Z",
    "updated_at": "2025-06-06T17:28:27Z",
    "labels": [
      "bug",
      "Priority"
    ],
    "body": "### Describe the bug\r\n\r\nHi team, I created a custom component from the Dataset template. I completed the configuration and ran \"gradio cc build\" without any errors. However, when I installed the component, it turned out to be exactly the same as the original Dataset component. I tried making some minor changes like the background color style, but it still didn't work, even though the build section completed successfully.\r\n\r\n### Have you searched existing issues?  🔎\r\n\r\n- [X] I have searched and found no existing issues\r\n\r\n### Reproduction\r\n```\r\n[build-system]\r\nrequires = [\r\n  \"hatchling\",\r\n  \"hatch-requirements-txt\",\r\n  \"hatch-fancy-pypi-readme>=22.5.0\",\r\n]\r\nbuild-backend = \"hatchling.build\"\r\n\r\n[project]\r\nname = \"gradio_dataset\"\r\nversion = \"0.0.2\"\r\ndescription = \"Python library for easily interacting with trained machine learning models\"\r\nreadme = \"README.md\"\r\nlicense = \"Apache-2.0\"\r\nrequires-python = \">=3.8\"\r\nauthors = [{ name = \"thenHung\", email = \"email\" }]\r\nkeywords = [\r\n  \"gradio-custom-component\",\r\n  \"gradio-template-Dataset\"\r\n]\r\n# Add dependencies here\r\ndependencies = [\"gradio>=4.44.1,<5.0\", \"gradio-modal-component>=0.0.4,<1.0\"]\r\nclassifiers = [\r\n  'Development Status :: 3 - Alpha',\r\n  'Operating System :: OS Independent',\r\n  'Programming Language :: Python :: 3',\r\n  'Programming Language :: Python :: 3 :: Only',\r\n  'Programming Language :: Python :: 3.8',\r\n  'Programming Language :: Python :: 3.9',\r\n  'Programming Language :: Python :: 3.10',\r\n  'Programming Language :: Python :: 3.11',\r\n  'Topic :: Scientific/Engineering',\r\n  'Topic :: Scientific/Engineering :: Artificial Intelligence',\r\n  'Topic :: Scientific/Engineering :: Visualization',\r\n]\r\n\r\n# The repository and space URLs are optional, but recommended.\r\n# Adding a repository URL will create a badge in the auto-generated README that links to the repository.\r\n# Adding a space URL will create a badge in the auto-generated README that links to the space.\r\n# This will make it easy for people to find your deployed demo or source code when they\r\n# encounter your project in the wild.\r\n\r\n# [project.urls]\r\n# repository = \"your github repository\"\r\n# space = \"your space url\"\r\n\r\n[project.optional-dependencies]\r\ndev = [\"build\", \"twine\"]\r\n\r\n[tool.hatch.build]\r\nartifacts = [\"/backend/gradio_dataset/templates\", \"*.pyi\"]\r\n\r\n[tool.hatch.build.targets.wheel]\r\npackages = [\"/backend/gradio_dataset\"]\r\n```\r\n\r\n### Screenshot\r\n\r\n_No response_\r\n\r\n### Logs\r\n\r\n```shell\r\n📦 Building package in dataset_component                                                                                                                                                                                                                                                                               │\r\n│ 🔢 Package will use version 0.0.2 defined in pyproject.toml file. Set --bump-version to automatically bump the version number.                                                                                                                                                                                         │\r\n│ ✅ Documentation generated in demo/space.py and README.md. Pass --no-generate-docs to disable auto documentation.                                                                                                                                                                                                      │\r\n│ 🎨 Building frontend                                                                                                                                                                                                                                                                                                   │\r\n│ ✅ Build succeeded!                                                                                                                                                                                                                                                                                                    │\r\n│ 👷 Building... (/home/lthun/anaconda3/envs/gradio3/bin/python3 -m build /home/lthun/linux_workspace/gradio_lib/dataset_component)                                                                                                                                                                                      │\r\n│ ✅ Build succeeded!                                                                                                                                                                                                                                                                                                    │\r\n│ 🎡 Wheel located in /home/lthun/linux_workspace/gradio_lib/dataset_component/dist                                                                                                                                                                                                                                      │\r\n╰─────────────────────────────────────────────────────────────────────────────────────────────\r\n```\r\n\r\n\r\n### System Info\r\n\r\n```shell\r\ngradio==4.44.1\r\npython==3.10\r\nubuntu==22.04\r\n```\r\n\r\n\r\n### Severity\r\n\r\nI can work around it",
    "comments": [
      {
        "user": "freddyaboulton",
        "body": "So you installed from the wheel in `./dist`? What is the demo you're running? "
      },
      {
        "user": "ThanhHung2112",
        "body": "I have installed wheel from `./dist` but seem like the smallest change such as background color not taken in this component. \r\nThis is my demo code, I'm not sure but this followed my custom and worked well on dev mode\r\n\r\n```python\r\nimport gradio as gr\r\nfrom gradio_dataset import dataset\r\nfrom gradio_modal_component import modal_component\r\n\r\n\r\n# Initialize a three-column dataset for testing\r\ndef init_ds_three_col():\r\n    ds = [\r\n        [\r\n            \"Text 1\",\r\n            \"<img src='https://dev-to-uploads.s3.amazonaws.com/uploads/articles/1u64v34tov7a3tdqitrz.png' width='100px' height='100px'>\",\r\n            \"Description 1\",\r\n        ],\r\n        [\r\n            \"Text 2\",\r\n            \"<img src='https://dev-to-uploads.s3.amazonaws.com/uploads/articles/1u64v34tov7a3tdqitrz.png' width='100px' height='100px'>\",\r\n            \"Description 2\",\r\n        ],\r\n        [\r\n            \"Text 3\",\r\n            \"<img src='https://dev-to-uploads.s3.amazonaws.com/uploads/articles/1u64v34tov7a3tdqitrz.png' width='100px' height='100px'>\",\r\n            \"Description 3\",\r\n        ],\r\n        [\r\n            \"Text 4\",\r\n            \"<img src='https://dev-to-uploads.s3.amazonaws.com/uploads/articles/1u64v34tov7a3tdqitrz.png' width='100px' height='100px'>\",\r\n            \"Description 4\",\r\n        ],\r\n        [\r\n            \"Text 5\",\r\n            \"<img src='https://dev-to-uploads.s3.amazonaws.com/uploads/articles/1u64v34tov7a3tdqitrz.png' width='100px' height='100px'>\",\r\n            \"Description 5\",\r\n        ],\r\n    ]\r\n    return ds\r\n\r\n\r\n# Function to handle selection\r\ndef get_selection(evt: gr.SelectData):\r\n    print(\"Selection Event Triggered\")\r\n    print(f\"Index: {evt.index}\")\r\n    print(f\"Value: {evt.value}\")\r\n    print(f\"RowData: {evt.row_value}\")\r\n    try:\r\n        # Check the action taken and display the modal accordingly\r\n        if isinstance(evt.value, dict):\r\n            if evt.value[\"menu_choice\"] == \"View Profile\":\r\n                # Display the modal with the selected value\r\n                content = f\"\"\"\r\n                    # View Profile\r\n                    - You are viewing the profile number `{evt.index}`\r\n                    - Profile content:\r\n                        - {evt.row_value}\"\"\"\r\n                return gr.update(visible=True), content\r\n            if evt.value[\"menu_choice\"] == \"Edit\":\r\n                # Display the modal with the selected value\r\n                content = f\"\"\"\r\n                    # Edit Profile\r\n                    - You are editting the profile number `{evt.index}`\r\n                    - Profile content:\r\n                        - {evt.row_value}\"\"\"\r\n                return gr.update(visible=True), content\r\n    except Exception as e:\r\n        pass\r\n\r\n    # Return to hide the modal\r\n    return gr.update(visible=False), \"\"\r\n\r\n\r\nwith gr.Blocks() as demo:\r\n    # Modal that shows the content dynamically based on user selection\r\n    with modal_component(\r\n        visible=False, width=500, height=300, bg_blur=0\r\n    ) as profileModal:\r\n        modal_text = gr.Markdown(f\"\")\r\n\r\n    # Define the three-column dataset\r\n    three_col_ds = dataset(\r\n        components=[\r\n            gr.Textbox(visible=False, interactive=True),\r\n            gr.HTML(visible=False),\r\n            gr.Textbox(visible=False, interactive=True),  # Added third column\r\n        ],\r\n        headers=[\r\n            \"Textbox\",\r\n            \"Image\",\r\n            \"Description\",\r\n        ],  # Updated headers for three columns\r\n        label=\"Test Case 1\",\r\n        samples=init_ds_three_col(),  # Use the new three-column dataset\r\n        menu_choices=[\"View Profile\", \"Edit\", \"Delete\"],\r\n        # menu_icon=\"https://cdn-icons-png.flaticon.com/512/18/18659.png\",\r\n        header_sort=True,\r\n        # manual_sort=True,\r\n    )\r\n\r\n    # Set the select event to update modal visibility and content\r\n    three_col_ds.select(\r\n        fn=get_selection, inputs=None, outputs=[profileModal, modal_text]\r\n    )\r\n\r\n    ## Test Case 2\r\n    gr.Markdown(\"\"\"\r\n                # Test case 2\r\n                - `menu_icon`: enable\r\n                - `manual_sort`: True\r\n                \"\"\")\r\n    # Define the three-column dataset\r\n    three_col_ds2 = dataset(\r\n        components=[\r\n            gr.Textbox(visible=False, interactive=True),\r\n            gr.HTML(visible=False),\r\n            gr.Textbox(visible=False, interactive=True),  # Added third column\r\n        ],\r\n        headers=[\r\n            \"Textbox\",\r\n            \"Image\",\r\n            \"Description\",\r\n        ],  # Updated headers for three columns\r\n        label=\"Test Case 2\",\r\n        samples=init_ds_three_col(),  # Use the new three-column dataset\r\n        menu_choices=[\"View Profile\", \"Edit\", \"Delete\"],\r\n        menu_icon=\"https://cdn-icons-png.flaticon.com/512/18/18659.png\",\r\n        header_sort=True,\r\n        manual_sort=True,\r\n    )\r\n\r\n    # Set the select event to update modal visibility and content\r\n    three_col_ds2.select(\r\n        fn=get_selection, inputs=None, outputs=[profileModal, modal_text]\r\n    )\r\n\r\n\r\nif __name__ == \"__main__\":\r\n    demo.launch()\r\n```"
      },
      {
        "user": "ThanhHung2112",
        "body": "I found that Dataset doesn't appear in template when execute `gradio cc show` is this potential cause this issue ?"
      }
    ]
  },
  {
    "issue_number": 9501,
    "title": "gradio cc dev Failed due ",
    "author": "lth-mettadepth",
    "state": "closed",
    "created_at": "2024-10-02T11:27:23Z",
    "updated_at": "2025-06-06T14:18:21Z",
    "labels": [
      "bug",
      "Priority",
      "custom-components"
    ],
    "body": "### Describe the bug\n\nHi team I'm just start create a custom component but encounter this issue when initialize.\r\n\r\nWhat I just do\r\n```bash\r\ngradio cc create gradio_dataset --template DataFrame\r\ncd gradio_dataset\r\ngradio cc install\r\ngradio cc dev\r\n```\r\n\r\nAnd facing this issue:\r\n```\r\n(gradio) lthun@thenHung:~/linux_workspace/gradio_lib/gradio_data$ gradio cc dev\r\n♻ Launching demo/app.py in reload mode\r\n\r\nWatching: '/home/lthun/linux_workspace/gradio_lib/gradio_data/demo' \r\n'/home/lthun/linux_workspace/gradio_lib/gradio_data/frontend',\r\n'/home/lthun/linux_workspace/gradio_lib/gradio_data'\r\n\r\n\r\n\r\nBackend Server:  http://127.0.0.1:7862\r\n\r\n\r\n\r\nFrontend Server (Go here): http://localhost:7863/\r\n\r\n6:21:29 PM  Internal server error: Transform failed with 1 error:\r\n\r\n/home/lthun/linux_workspace/gradio_lib/gradio_data/frontend/node_modules/@gradio/client/src/types.ts?v=a7064064:4:11: ERROR: Expected \";\" but\r\nfound \"{\"\r\n\r\n  Plugin: vite:esbuild\r\n\r\n  File: /home/lthun/linux_workspace/gradio_lib/gradio_data/frontend/node_modules/@gradio/client/src/types.ts?v=a7064064:4:11\r\n\r\n  \r\n\r\n  Expected \";\" but found \"{\"\r\n\r\n  2  |  \r\n\r\n  3  |  import { hardware_types } from \"./helpers/spaces\";\r\n\r\n  4  |  const type { SvelteComponent } = window.__gradio__svelte__internal;;\r\n\r\n     |             ^\r\n\r\n  5  |  const type { ComponentType } = window.__gradio__svelte__internal;;\r\n\r\n  6  |  \r\n\r\n  \r\n\r\n      at failureErrorWithLog \r\n(/home/lthun/linux_workspace/gradio_lib/gradio_data/frontend/node_modules/vite/node_modules/esbuild/lib/main.js:1472:15)\r\n\r\n      at /home/lthun/linux_workspace/gradio_lib/gradio_data/frontend/node_modules/vite/node_modules/esbuild/lib/main.js:755:50\r\n\r\n      at responseCallbacks.<computed> \r\n(/home/lthun/linux_workspace/gradio_lib/gradio_data/frontend/node_modules/vite/node_modules/esbuild/lib/main.js:622:9)\r\n\r\n      at handleIncomingPacket \r\n(/home/lthun/linux_workspace/gradio_lib/gradio_data/frontend/node_modules/vite/node_modules/esbuild/lib/main.js:677:12)\r\n\r\n      at Socket.readFromStdout \r\n(/home/lthun/linux_workspace/gradio_lib/gradio_data/frontend/node_modules/vite/node_modules/esbuild/lib/main.js:600:7)\r\n\r\n      at Socket.emit (node:events:517:28)\r\n\r\n      at addChunk (node:internal/streams/readable:368:12)\r\n\r\n      at readableAddChunk (node:internal/streams/readable:341:9)\r\n\r\n      at Readable.push (node:internal/streams/readable:278:10)\r\n\r\n      at Pipe.onStreamRead (node:internal/stream_base_commons:190:23)\r\n\r\n6:21:29 PM  Pre-transform error: Transform failed with 1 error:\r\n\r\n/home/lthun/linux_workspace/gradio_lib/gradio_data/frontend/node_modules/@gradio/client/src/types.ts?v=a7064064:4:11: ERROR: Expected \";\" but\r\nfound \"{\"\r\n\r\n6:21:29 PM  Pre-transform error: Transform failed with 1 error:\r\n\r\n/home/lthun/linux_workspace/gradio_lib/gradio_data/frontend/node_modules/@gradio/client/src/types.ts?v=a7064064:4:11: ERROR: Expected \";\" but\r\nfound \"{\"\r\n```\n\n### Have you searched existing issues?  🔎\n\n- [X] I have searched and found no existing issues\n\n### Reproduction\n\n```\r\n```\n\n### Screenshot\n\n![image](https://github.com/user-attachments/assets/95dffc3d-8e40-446a-874c-1543c02345e1)\r\n\n\n### Logs\n\n_No response_\n\n### System Info\n\n```shell\ngradio==4.44.1\r\npackage.json\r\n\r\n{\r\n  \"name\": \"gradio_gradio_dataframe\",\r\n  \"version\": \"0.10.1\",\r\n  \"description\": \"Gradio UI packages\",\r\n  \"type\": \"module\",\r\n  \"author\": \"\",\r\n  \"license\": \"ISC\",\r\n  \"private\": false,\r\n  \"main_changeset\": true,\r\n  \"main\": \"./Index.svelte\",\r\n  \"dependencies\": {\r\n    \"@gradio/atoms\": \"0.4.1\",\r\n    \"@gradio/button\": \"0.2.51\",\r\n    \"@gradio/client\": \"1.5.2\",\r\n    \"@gradio/markdown\": \"0.9.4\",\r\n    \"@gradio/statustracker\": \"0.7.6\",\r\n    \"@gradio/upload\": \"0.12.4\",\r\n    \"@gradio/utils\": \"0.2.0\",\r\n    \"@types/d3-dsv\": \"^3.0.0\",\r\n    \"@types/dompurify\": \"^3.0.2\",\r\n    \"@types/katex\": \"^0.16.0\",\r\n    \"d3-dsv\": \"^3.0.1\",\r\n    \"dequal\": \"^2.0.2\",\r\n    \"dompurify\": \"^3.0.3\",\r\n    \"katex\": \"^0.16.7\",\r\n    \"marked\": \"^12.0.0\"\r\n  },\r\n  \"exports\": {\r\n    \".\": \"./Index.svelte\",\r\n    \"./package.json\": \"./package.json\"\r\n  },\r\n  \"peerDependencies\": {\r\n    \"svelte\": \"^4.0.0\"\r\n  },\r\n  \"devDependencies\": {\r\n    \"@gradio/preview\": \"0.11.2\"\r\n  },\r\n  \"repository\": {\r\n    \"type\": \"git\",\r\n    \"url\": \"git+https://github.com/gradio-app/gradio.git\",\r\n    \"directory\": \"js/dataframe\"\r\n  }\r\n}\r\n```\n```\n\n\n### Severity\n\nBlocking usage of gradio",
    "comments": [
      {
        "user": "freddyaboulton",
        "body": "Hi @lth-mettadepth ! I think @pngwn is taking a look at removing the code transformations from the cli entirely. So should have a fix out soon!"
      },
      {
        "user": "lth-mettadepth",
        "body": "Hope this will be solved soon"
      },
      {
        "user": "freddyaboulton",
        "body": "Hi @lth-mettadepth - can you try starting again with gradio 5.0.1 ?"
      }
    ]
  },
  {
    "issue_number": 10850,
    "title": "Could not create share link. Please check your internet connection or our status page: https://status.gradio.app.",
    "author": "Allen-Zhou729",
    "state": "closed",
    "created_at": "2025-03-21T04:00:17Z",
    "updated_at": "2025-06-06T11:26:37Z",
    "labels": [
      "bug"
    ],
    "body": "### Describe the bug\n\nHi, I am using the latest version of Gradio.\n\nBut I encounter this problem:\n\n![Image](https://github.com/user-attachments/assets/d672fd36-3686-4866-9056-f2d61cae15f2)\n\n\n\nDo you know how can I solve this problem?  Thank you very much!\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\n```python\n\nimport gradio as gr\ngr.Interface(lambda x: x, \"text\", \"text\").launch(share=True)\n\n```\n\n\n### Screenshot\n\n_No response_\n\n### Logs\n\n```shell\n\n```\n\n### System Info\n\n```shell\nGradio Environment Information:\n------------------------------\nOperating System: Linux\ngradio version: 5.22.0\ngradio_client version: 1.8.0\n\n------------------------------------------------\ngradio dependencies in your environment:\n\naiofiles: 23.2.1\nanyio: 4.9.0\naudioop-lts is not installed.\nfastapi: 0.115.11\nffmpy: 0.5.0\ngradio-client==1.8.0 is not installed.\ngroovy: 0.1.2\nhttpx: 0.28.1\nhuggingface-hub: 0.29.3\njinja2: 3.1.4\nmarkupsafe: 2.1.5\nnumpy: 1.24.4\norjson: 3.10.15\npackaging: 24.2\npandas: 2.2.3\npillow: 11.0.0\npydantic: 2.10.6\npydub: 0.25.1\npython-multipart: 0.0.20\npyyaml: 6.0.2\nruff: 0.11.1\nsafehttpx: 0.1.6\nsemantic-version: 2.10.0\nstarlette: 0.46.1\ntomlkit: 0.13.2\ntyper: 0.15.2\ntyping-extensions: 4.12.2\nurllib3: 2.3.0\nuvicorn: 0.34.0\nauthlib; extra == 'oauth' is not installed.\nitsdangerous; extra == 'oauth' is not installed.\n\n\ngradio_client dependencies in your environment:\n\nfsspec: 2024.6.1\nhttpx: 0.28.1\nhuggingface-hub: 0.29.3\npackaging: 24.2\ntyping-extensions: 4.12.2\nwebsockets: 14.2\n```\n\n### Severity\n\nBlocking usage of gradio",
    "comments": [
      {
        "user": "abidlabs",
        "body": "Should be fixed now sorry about that!"
      },
      {
        "user": "Allen-Zhou729",
        "body": "> Should be fixed now sorry about that!\n\n<img width=\"354\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/36605de0-47b7-49c0-80c7-051567aa084c\" />\n\nIt seems it hasn't been fixed. Is there some problem on my side?"
      },
      {
        "user": "abidlabs",
        "body": "Hmm can you test in reproductible environment like a Google Colab notebook?"
      }
    ]
  },
  {
    "issue_number": 11280,
    "title": "AttributeError: 'NoneType' object has no attribute 'wait'",
    "author": "ottokruse",
    "state": "open",
    "created_at": "2025-05-28T16:07:24Z",
    "updated_at": "2025-06-06T04:44:35Z",
    "labels": [
      "bug"
    ],
    "body": "### Describe the bug\n\n  File \"/Users/abc/git/research-agent/.venv/lib/python3.13/site-packages/gradio/routes.py\", line 1001, in iterator\n    stop_stream_task = asyncio.create_task(app.stop_event.wait())\n                                           ^^^^^^^^^^^^^^^^^^^\nAttributeError: 'NoneType' object has no attribute 'wait'\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\nRun this and then when you access the web page with your browser the error occurs:\n\n```python\nimport asyncio\n\nimport gradio as gr\n\n\ndef my_ui():\n    with gr.Blocks(fill_width=True, title=\"Test\") as demo:\n        toggle_all_traces = gr.Button(\"On\", scale=0, min_width=200)\n        chatbot = gr.Chatbot(\n            type=\"messages\",\n            height=\"full\",\n            label=\"Conversation\",\n            value=[],\n        )\n\n        def do_toggle_all_traces(state):\n            new_state = not state\n            new_label = \"On\" if new_state else \"Off\"\n            return gr.update(value=new_label), new_state, []\n\n        show_all_traces_toggle_state = gr.State(value=False)\n\n        toggle_all_traces.click(\n            fn=do_toggle_all_traces,\n            inputs=[show_all_traces_toggle_state],\n            outputs=[toggle_all_traces, show_all_traces_toggle_state, chatbot],\n        )\n    return demo\n\n\nasync def test():\n    await asyncio.sleep(1)\n\n\nasyncio.run(test())\n\ndemo = my_ui()\ndemo.launch()\n```\n\n### Screenshot\n\n_No response_\n\n### Logs\n\n```shell\n* Running on local URL:  http://127.0.0.1:7860\n\nTo create a public link, set `share=True` in `launch()`.\nERROR:    Exception in ASGI application\n  + Exception Group Traceback (most recent call last):\n  |   File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 76, in collapse_excgroups\n  |     yield\n  |   File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/starlette/responses.py\", line 263, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py\", line 403, in run_asgi\n    |     result = await app(  # type: ignore[func-returns-value]\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         self.scope, self.receive, self.send\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py\", line 60, in __call__\n    |     return await self.app(scope, receive, send)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/fastapi/applications.py\", line 1054, in __call__\n    |     await super().__call__(scope, receive, send)\n    |   File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/starlette/applications.py\", line 112, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 187, in __call__\n    |     raise exc\n    |   File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 165, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/gradio/route_utils.py\", line 829, in __call__\n    |     await self.app(scope, receive, send)\n    |   File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 62, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 714, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 734, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 288, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 76, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 74, in app\n    |     await response(scope, receive, send)\n    |   File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/starlette/responses.py\", line 262, in __call__\n    |     with collapse_excgroups():\n    |          ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/Users/xyz/.local/share/uv/python/cpython-3.13.3-macos-aarch64-none/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/starlette/responses.py\", line 266, in wrap\n    |     await func()\n    |   File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/starlette/responses.py\", line 246, in stream_response\n    |     async for chunk in self.body_iterator:\n    |     ...<2 lines>...\n    |         await send({\"type\": \"http.response.body\", \"body\": chunk, \"more_body\": True})\n    |   File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/gradio/routes.py\", line 1001, in iterator\n    |     stop_stream_task = asyncio.create_task(app.stop_event.wait())\n    |                                            ^^^^^^^^^^^^^^^^^^^\n    | AttributeError: 'NoneType' object has no attribute 'wait'\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py\", line 403, in run_asgi\n    result = await app(  # type: ignore[func-returns-value]\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        self.scope, self.receive, self.send\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py\", line 60, in __call__\n    return await self.app(scope, receive, send)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/fastapi/applications.py\", line 1054, in __call__\n    await super().__call__(scope, receive, send)\n  File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/starlette/applications.py\", line 112, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 187, in __call__\n    raise exc\n  File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 165, in __call__\n    await self.app(scope, receive, _send)\n  File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/gradio/route_utils.py\", line 829, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 714, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 734, in app\n    await route.handle(scope, receive, send)\n  File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 74, in app\n    await response(scope, receive, send)\n  File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/starlette/responses.py\", line 262, in __call__\n    with collapse_excgroups():\n         ~~~~~~~~~~~~~~~~~~^^\n  File \"/Users/xyz/.local/share/uv/python/cpython-3.13.3-macos-aarch64-none/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/starlette/responses.py\", line 266, in wrap\n    await func()\n  File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/starlette/responses.py\", line 246, in stream_response\n    async for chunk in self.body_iterator:\n    ...<2 lines>...\n        await send({\"type\": \"http.response.body\", \"body\": chunk, \"more_body\": True})\n  File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/gradio/routes.py\", line 1001, in iterator\n    stop_stream_task = asyncio.create_task(app.stop_event.wait())\n                                           ^^^^^^^^^^^^^^^^^^^\nAttributeError: 'NoneType' object has no attribute 'wait'\n^X^CKeyboard interruption in main thread... closing server.\n```\n\n### System Info\n\n```shell\nPython 3.13\n\n> gradio environment\nGradio Environment Information:\n------------------------------\nOperating System: Darwin\ngradio version: 5.31.0\ngradio_client version: 1.10.1\n\n------------------------------------------------\ngradio dependencies in your environment:\n\naiofiles: 24.1.0\nanyio: 4.9.0\naudioop-lts: 0.2.1\nfastapi: 0.115.12\nffmpy: 0.5.0\ngradio-client: 1.10.1\ngroovy: 0.1.2\nhttpx: 0.28.1\nhuggingface-hub: 0.32.2\njinja2: 3.1.6\nmarkupsafe: 3.0.2\nnumpy: 2.2.6\norjson: 3.10.18\npackaging: 25.0\npandas: 2.2.3\npillow: 11.2.1\npydantic: 2.11.5\npydub: 0.25.1\npython-multipart: 0.0.20\npyyaml: 6.0.2\nruff: 0.11.11\nsafehttpx: 0.1.6\nsemantic-version: 2.10.0\nstarlette: 0.46.2\ntomlkit: 0.13.2\ntyper: 0.16.0\ntyping-extensions: 4.13.2\nurllib3: 2.4.0\nuvicorn: 0.34.2\nmcp: 1.8.1\npydantic: 2.11.5\nauthlib is not installed.\nitsdangerous: 2.2.0\n\n\ngradio_client dependencies in your environment:\n\nfsspec: 2025.5.1\nhttpx: 0.28.1\nhuggingface-hub: 0.32.2\npackaging: 25.0\ntyping-extensions: 4.13.2\nwebsockets: 15.0.1\n```\n\n### Severity\n\nI can NOT work around it",
    "comments": [
      {
        "user": "abidlabs",
        "body": "Hi @ottokruse can you please check with the latest version of Gradio and provide a minimal code example that we can use to reproduce the issue above? See: https://stackoverflow.com/help/minimal-reproducible-example\n\n"
      },
      {
        "user": "ottokruse",
        "body": "Will do but it takes some time to extract a minimal sample out of my larger codebase. Am on it though, bare with me.\n\nUpgraded to latest Gradio (5.31.0) and it still happens:\n\n```\nERROR:    Exception in ASGI application\n  + Exception Group Traceback (most recent call last):\n  |   File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 76, in collapse_excgroups\n  |     yield\n  |   File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/starlette/responses.py\", line 263, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py\", line 403, in run_asgi\n    |     result = await app(  # type: ignore[func-returns-value]\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         self.scope, self.receive, self.send\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py\", line 60, in __call__\n    |     return await self.app(scope, receive, send)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/fastapi/applications.py\", line 1054, in __call__\n    |     await super().__call__(scope, receive, send)\n    |   File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/starlette/applications.py\", line 112, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 187, in __call__\n    |     raise exc\n    |   File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 165, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/gradio/route_utils.py\", line 834, in __call__\n    |     await self.app(scope, receive, send)\n    |   File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 62, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 714, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 734, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 288, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 76, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 74, in app\n    |     await response(scope, receive, send)\n    |   File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/starlette/responses.py\", line 262, in __call__\n    |     with collapse_excgroups():\n    |          ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/Users/xyz/.local/share/uv/python/cpython-3.13.3-macos-aarch64-none/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/starlette/responses.py\", line 266, in wrap\n    |     await func()\n    |   File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/starlette/responses.py\", line 246, in stream_response\n    |     async for chunk in self.body_iterator:\n    |     ...<2 lines>...\n    |         await send({\"type\": \"http.response.body\", \"body\": chunk, \"more_body\": True})\n    |   File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/gradio/routes.py\", line 1116, in iterator\n    |     stop_stream_task = asyncio.create_task(app.stop_event.wait())\n    |                                            ^^^^^^^^^^^^^^^^^^^\n    | AttributeError: 'NoneType' object has no attribute 'wait'\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py\", line 403, in run_asgi\n    result = await app(  # type: ignore[func-returns-value]\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        self.scope, self.receive, self.send\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py\", line 60, in __call__\n    return await self.app(scope, receive, send)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/fastapi/applications.py\", line 1054, in __call__\n    await super().__call__(scope, receive, send)\n  File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/starlette/applications.py\", line 112, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 187, in __call__\n    raise exc\n  File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 165, in __call__\n    await self.app(scope, receive, _send)\n  File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/gradio/route_utils.py\", line 834, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 714, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 734, in app\n    await route.handle(scope, receive, send)\n  File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 74, in app\n    await response(scope, receive, send)\n  File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/starlette/responses.py\", line 262, in __call__\n    with collapse_excgroups():\n         ~~~~~~~~~~~~~~~~~~^^\n  File \"/Users/xyz/.local/share/uv/python/cpython-3.13.3-macos-aarch64-none/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/starlette/responses.py\", line 266, in wrap\n    await func()\n  File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/starlette/responses.py\", line 246, in stream_response\n    async for chunk in self.body_iterator:\n    ...<2 lines>...\n        await send({\"type\": \"http.response.body\", \"body\": chunk, \"more_body\": True})\n  File \"/Users/xyz/git/research-agent/.venv/lib/python3.13/site-packages/gradio/routes.py\", line 1116, in iterator\n    stop_stream_task = asyncio.create_task(app.stop_event.wait())\n                                           ^^^^^^^^^^^^^^^^^^^\nAttributeError: 'NoneType' object has no attribute 'wait'\n```"
      },
      {
        "user": "ottokruse",
        "body": "This is what the AI says btw:\n\n---\n\nUser: Can you analyze this issue: https://github.com/gradio-app/gradio/issues/11280#issuecomment-2918610481\nAgent: I'll analyze the GitHub issue you've mentioned. Let me fetch the content of the issue using the relevant tool.\nCompleted tool invocation: fetch_html_as_markdown\n  - url: https://github.com/gradio-app/gradio/issues/11280#issuecomment-2918610481\nThe issue seems to be missing the original comment. Let me try to get the issue details directly using the fetch_github_file function:\nCompleted tool invocation: web_search\n  - query: github gradio issue 11280 AttributeError 'NoneType' object has no attribute 'wait'\nLet me try to access the issue directly:\nCompleted tool invocation: fetch_html_as_markdown\n  - url: https://github.com/gradio-app/gradio/issues/11280\nLet me try to access the specific comment you mentioned in the URL:\nCompleted tool invocation: web_search\n  - query: gradio app 'NoneType' object has no attribute 'wait' Python 3.13\nLet me try examining the routes.py file in the Gradio repository to understand the issue better:\nCompleted tool invocation: fetch_github_file\n  - repo_url: https://github.com/gradio-app/gradio\n  - file_path: gradio/routes.py\n\n\nNow let's look at the source code for the issue reported. I need to examine this function around line 1001:\nCompleted tool invocation: web_search\n  - query: Python 3.13 gradio compatibility issues app.stop_event NoneType\nLet's look at the issue more closely. Based on the error message and the code shown in the routes.py file, I can see that the problem is occurring in the `heartbeat` function of the Gradio app. The issue is that `app.stop_event` is `None`, causing the `AttributeError: 'NoneType' object has no attribute 'wait'`.\n\nLet's look at the part of the code where `stop_event` is initialized in the `App` class:\n\nLooking at the file (lines 137-147 in the code), the `stop_event` attribute is initialized here:\n```python\nself.lock = utils.safe_get_lock()\nself.stop_event = utils.safe_get_stop_event()\n```\n\nLet's examine the relevant functions in utils.py:\nCompleted tool invocation: fetch_github_file\n  - repo_url: https://github.com/gradio-app/gradio\n  - file_path: gradio/utils.py\nNow I can see the issue. Let's examine the root cause:\n\n1. In the `safe_get_stop_event()` function in utils.py, it's defined as:\n```python\ndef safe_get_stop_event() -> asyncio.Event:\n    try:\n        asyncio.get_event_loop()\n        return asyncio.Event()\n    except RuntimeError:\n        return None  # type: ignore\n```\n\n2. This function returns `None` if there's a `RuntimeError` when trying to get the event loop.\n\n3. In the heartbeat function (around line 1001 in routes.py), the code tries to use `app.stop_event.wait()`:\n```python\nstop_stream_task = asyncio.create_task(app.stop_event.wait())\n```\n\n4. If `app.stop_event` is `None`, this will cause the `AttributeError: 'NoneType' object has no attribute 'wait'`.\n\n5. This issue is likely occurring because in Python 3.13, there seems to be a change in how asyncio works, specifically how event loops are accessed or created.\n\nLet me check if there are any known issues or fixes for this problem:\nCompleted tool invocation: web_search\n  - query: Python 3.13 asyncio get_event_loop RuntimeError gradio\nLet's check out the Python 3.13 asyncio documentation to understand what changed:\nCompleted tool invocation: fetch_html_as_markdown\n  - url: https://docs.python.org/3/library/asyncio-eventloop.html\n\nCompleted tool invocation: web_search\n  - query: Python 3.13 asyncio.get_event_loop() removed\nBased on my analysis of the GitHub issue and the source code, I can now provide a comprehensive explanation of the issue:\n\n## Issue Analysis: AttributeError: 'NoneType' object has no attribute 'wait'\n\n### Root Cause:\n\n1. The error occurs in the Gradio `heartbeat` function in `routes.py` around line 1001, where it attempts to create a task using `asyncio.create_task(app.stop_event.wait())`.\n\n2. The issue is that `app.stop_event` is `None` instead of an asyncio.Event object.\n\n3. Looking at how `stop_event` is initialized, we can see in the `App` class constructor:\n   ```python\n   self.lock = utils.safe_get_lock()\n   self.stop_event = utils.safe_get_stop_event()\n   ```\n\n4. The `safe_get_stop_event()` function in `utils.py` returns `None` when it can't get an event loop:\n   ```python\n   def safe_get_stop_event() -> asyncio.Event:\n       try:\n           asyncio.get_event_loop()\n           return asyncio.Event()\n       except RuntimeError:\n           return None  # type: ignore\n   ```\n\n5. In Python 3.13, there have been significant changes to the asyncio event loop API. According to the documentation, `get_event_loop()` is deprecated in 3.12 and is emitting warnings when there's no current event loop, with plans to make it an error in a future release.\n\n### Why This Happens in Python 3.13:\n\n1. In Python 3.13, the behavior of `asyncio.get_event_loop()` has likely changed significantly as part of the deprecation process.\n\n2. When Gradio initializes the `App` object, it's potentially being done outside of an asyncio context (no running event loop), which is causing `asyncio.get_event_loop()` to raise a RuntimeError.\n\n3. This triggers the exception handling in `safe_get_stop_event()`, resulting in `app.stop_event` being set to `None`.\n\n4. Later, when the `heartbeat` function tries to use `app.stop_event.wait()`, it fails with the `AttributeError: 'NoneType' object has no attribute 'wait'` because `app.stop_event` is `None`.\n\n### Suggested Fix:\n\nA proper fix would involve updating the `safe_get_stop_event()` function to handle the Python 3.13 changes to asyncio. Here's a potential fix:\n\n```python\ndef safe_get_stop_event() -> asyncio.Event:\n    \"\"\"Get asyncio.Event() without fear of getting an Exception.\n    \n    Needed because in reload mode we import the Blocks object outside\n    the main thread.\n    \"\"\"\n    try:\n        # Try to get running loop first (Python 3.7+)\n        try:\n            asyncio.get_running_loop()\n        except RuntimeError:\n            # If no running loop, create a new event loop\n            loop = asyncio.new_event_loop()\n            asyncio.set_event_loop(loop)\n        return asyncio.Event()\n    except Exception:  # Catch any other exception that might occur\n        # Create a basic event-like object as fallback\n        class DummyEvent:\n            def __init__(self):\n                self._flag = False\n                \n            async def wait(self):\n                while not self._flag:\n                    await asyncio.sleep(0.1)\n                return True\n                \n            def set(self):\n                self._flag = True\n                \n            def clear(self):\n                self._flag = False\n                \n            def is_set(self):\n                return self._flag\n        \n        return DummyEvent()  # Return a simple event-like object\n```\n\nThis fix attempts to:\n1. First try to get the running loop with `get_running_loop()` (preferred in Python 3.7+)\n2. If that fails, create a new event loop and set it as the current event loop\n3. If all event loop operations fail, create a basic event-like object as a fallback\n\n### Additional Context:\n\nThis issue appears to be due to Python 3.13's stricter handling of asyncio APIs and the ongoing deprecation of `get_event_loop()` when there's no current event loop. The Gradio codebase needs to be updated to accommodate these changes in the Python asyncio module.\n\nThe issue is likely affecting other users moving to Python 3.13 and will need to be fixed in the Gradio repository."
      }
    ]
  },
  {
    "issue_number": 10199,
    "title": "Auto-Reloading doesn't run gr.render(input=state_object)",
    "author": "cliffxuan",
    "state": "closed",
    "created_at": "2024-12-13T13:04:20Z",
    "updated_at": "2025-06-05T22:17:19Z",
    "labels": [
      "bug",
      "Priority"
    ],
    "body": "### Describe the bug\r\n\r\nAuto-Reloading doesn't run the `@gr.render(...)` decorated function if the input is a gr.State object.\r\n\r\n### Have you searched existing issues?  🔎\r\n\r\n- [X] I have searched and found no existing issues\r\n\r\n### Reproduction\r\n\r\n1. Run this official doc's example on dynamic event listeners\r\nhttps://www.gradio.app/guides/dynamic-apps-with-render-decorator#dynamic-event-listeners\r\n\r\n```python\r\nimport gradio as gr\r\n\r\nwith gr.Blocks() as demo:\r\n    text_count = gr.State(1)\r\n    add_btn = gr.Button(\"Add Box\")\r\n    add_btn.click(lambda x: x + 1, text_count, text_count)\r\n\r\n    @gr.render(inputs=text_count)\r\n    def render_count(count):\r\n        boxes = []\r\n        for i in range(count):\r\n            box = gr.Textbox(key=i, label=f\"Box {i}\")\r\n            boxes.append(box)\r\n\r\n        def merge(*args):\r\n            return \" \".join(args)\r\n\r\n        merge_btn.click(merge, boxes, output)\r\n\r\n    merge_btn = gr.Button(\"Merge\")\r\n    output = gr.Textbox(label=\"Merged Output\")\r\n\r\ndemo.launch()\r\n```\r\nit should render correctly like this:\r\n![image](https://github.com/user-attachments/assets/9d435fc1-bd64-4806-9f59-c797dbae3579)\r\n\r\n\r\n2. Now change the code slightly, e.g. change the button text to `Add a Box` and wait for auto-reloading to re-render\r\n![image](https://github.com/user-attachments/assets/b8f12bc4-1732-4f39-a474-6531b1480234)\r\n\r\n\r\n\r\n### Screenshot\r\n\r\n_No response_\r\n\r\n### Logs\r\n\r\n_No response_\r\n\r\n### System Info\r\n\r\n```shell\r\ngradio environment  \r\nGradio Environment Information:\r\n------------------------------\r\nOperating System: Linux\r\ngradio version: 5.3.0\r\ngradio_client version: 1.4.2\r\n```\r\n\r\n\r\n### Severity\r\n\r\nI can work around it by refreshing the page, however, if it works as expected, it will be more ergonomic and make the development experience more enjoyable and less disruptive.",
    "comments": [
      {
        "user": "abidlabs",
        "body": "thanks for reporting, cc @aliabid94!"
      },
      {
        "user": "myke11j",
        "body": "Facing the same issue. I need render decorator to get called on refresh page, so component is loaded using app state rather than static value at the time interface launch.\r\n\r\nIs there any other option or workaround to achieve this until the issue is fixed?\r\n\r\n```\r\ntimestamp_text = gr.Text(value=f'Last active at {app_state.state['last_sync']}', label='Last activity timestamp')\r\n\r\n@gr.render(inputs=timestamp_text)\r\n    def show_ts(text):\r\n        # Get latest value saved in state\r\n        gr.Text(value=f'Last active at {app_state.state['last_sync']}', label='Last activity timestamp')\r\n\r\n```"
      }
    ]
  },
  {
    "issue_number": 11175,
    "title": "`gr.api()` does not work for iterable types are not fully specified",
    "author": "abidlabs",
    "state": "closed",
    "created_at": "2025-05-12T21:32:00Z",
    "updated_at": "2025-06-05T21:45:45Z",
    "labels": [
      "bug",
      "Priority"
    ],
    "body": "### Describe the bug\n\nIt seems that `gr.api()` doesn't work if type hints are not fully specified in the function. The failure is quite bad with a very long stack trace that doesn't really identify the underlying issue. \n\nE.g. test with:\n\n```py\nimport gradio as gr\nfrom typing import Any\n\nwith gr.Blocks() as demo:\n    def log(project: str, run: str, metrics: dict) -> str:\n        pass\n\n    gr.api(fn=log, api_name=\"log\")\n\ndemo.launch()\n```\n\nThis fails because `dict` needs to be `dict[str, Any]`. \n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\nSee above\n\n### Screenshot\n\n_No response_\n\n### Logs\n\n```shell\n\n```\n\n### System Info\n\n```shell\n5.29\n```\n\n### Severity\n\nI can work around it",
    "comments": [
      {
        "user": "abidlabs",
        "body": "Also it doesn't seem to work if any of the parameters are optionally None, e.g.:\n\n```py\nimport gradio as gr\nfrom typing import Any\n\nwith gr.Blocks() as demo:\n    def log(project: str, run: str, metrics: str | None) -> str:\n        pass\n\n    gr.api(fn=log, api_name=\"log\")\n\ndemo.launch()\n```"
      }
    ]
  },
  {
    "issue_number": 11191,
    "title": "Allow checkboxes or toggles for boolean fields in Dataframe",
    "author": "ExcellentAmericanEagle",
    "state": "closed",
    "created_at": "2025-05-14T08:34:16Z",
    "updated_at": "2025-06-05T17:26:29Z",
    "labels": [
      "enhancement"
    ],
    "body": "- [x] I have searched to see if a similar issue already exists. There's another issue from 2022 !962 requesting\n \n**Is your feature request related to a problem? Please describe.**  \nCurrently - in `Dataframe` boolean fields appear as literal strings `\"true\"` and `\"false\"`:\n\n![Image](https://github.com/user-attachments/assets/bfe820e9-a82e-4d10-8240-0c265ad91b17)\n\nThis isn't very usable or use friendly, the user has to manually enter the strings `\"true\"` or `\"false\"` into the cells.\n\n**Describe the solution you'd like**  \nI would like to have an option for `Dataframe` to change the rendering of cells of type `bool`. Say like:\n\n```python\n# Or name it `bool_component`...\nbool_input: Literal[\"radio\", \"checkbox\", \"text\"]] = \"text\" # Or default would or `None` to mean show a string as default to preserve current UI\n```\n\nBased on the select `bool_input`, a different component will appear in table cells of columns of type `bool`\n\n- [x] I'm willing to contribute",
    "comments": [
      {
        "user": "ExcellentAmericanEagle",
        "body": "Currently there's no built-in component for toggles, but there's a [custom component someone made](https://github.com/dwancin/gradio-toggle)\n\nI'm working on a basic PR that will only allow checkboxes for now"
      },
      {
        "user": "abidlabs",
        "body": "> I'm working on a basic PR that will only allow checkboxes for now\n\nThis would be a great enhancement @ExcellentAmericanEagle. I actually think we should make this the default behavior for displaying boolean values if a column type is `bool`, wdyt @hannahblair?\n"
      },
      {
        "user": "hannahblair",
        "body": "Hi @ExcellentAmericanEagle! Do you have a PR ready for this? If not I can open up a PR shortly. "
      }
    ]
  },
  {
    "issue_number": 11317,
    "title": "Share link stops working after an hour",
    "author": "Dewberrycat",
    "state": "closed",
    "created_at": "2025-06-03T07:40:48Z",
    "updated_at": "2025-06-05T16:57:02Z",
    "labels": [
      "pending clarification"
    ],
    "body": "### Describe the bug\n\nconstantly stops working after an hour share live mode in A1111/Forge. there is an issue in A1111 https://github.com/AUTOMATIC1111/stable-diffusion-webui/issues/7910   but underneath is written write to gradio repo, not there. So every day i run share live mode and get no interface running after an hour of sharing. Every time.\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\n```python\nimport gradio as gr\n\n```\n\n\n### Screenshot\n\n![Image](https://github.com/user-attachments/assets/9718b37c-3562-44ac-b5fa-8a0a8c523c0d)\n\n### Logs\n\n```shell\n\n```\n\n### System Info\n\n```shell\npython: 3.10.6  •  torch: 2.3.1+cu121  •  xformers: 0.0.27  •  gradio: 4.40.0\n```\n\n### Severity\n\nBlocking usage of gradio",
    "comments": [
      {
        "user": "abidlabs",
        "body": "Hi @Dewberrycat can you please try creating a very simple gradio interface and running it and seeing if that persists for more than an hour? If so, that'll help us figure out if it's related to the auto1111 code or something else"
      },
      {
        "user": "abidlabs",
        "body": "Closing for lack of follow up. If this is an issue in the latest version of Gradio, running with a vanilla example, we can reopen"
      }
    ]
  },
  {
    "issue_number": 11311,
    "title": "Problem sending images via API.",
    "author": "Domtaoz",
    "state": "closed",
    "created_at": "2025-06-02T08:09:32Z",
    "updated_at": "2025-06-05T16:56:32Z",
    "labels": [
      "bug",
      "needs repro"
    ],
    "body": "### Describe the bug\n\nI tried sending image via api and tested it but it failed. I sent image data as base64 and it shows 500.   \n\n{\n  \"data\": [\n    \"data:image/png;base64,iVBORw0KGgoAAAANS...\"\n  ]\n}\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\nimport gradio as gr\n\ndef return_image(img1):\n    return img1\n\nwith gr.Blocks() as demo:\n    with gr.Row():\n        img1 = gr.Image(label=\"Image 1\")\n        \n    btn = gr.Button(\"Submit\")\n    out = gr.Image(label=\"Output Image\", type=\"pil\")\n\n    btn.click(return_image, inputs=[img1], outputs=out, api_name=\"test\")\n\ndemo.queue().launch(share=True, debug=True)\n\n\n### Screenshot\n\n_No response_\n\n### Logs\n\n```shell\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.11/dist-packages/gradio/routes.py\", line 621, in predict\n    output = await route_utils.call_process_api(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/dist-packages/gradio/route_utils.py\", line 260, in call_process_api\n    output = await app.get_blocks().process_api(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/dist-packages/gradio/blocks.py\", line 1687, in process_api\n    inputs = self.preprocess_data(fn_index, inputs, state, explicit_call)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/dist-packages/gradio/blocks.py\", line 1418, in preprocess_data\n    inputs_cached = block.data_model(**inputs_cached)  # type: ignore\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: gradio.data_classes.FileData() argument after ** must be a mapping, not str\n```\n\n### System Info\n\n```shell\ngradio==4.24.0\ngradio_client==0.14.0\npydantic==2.10.6\nfastapi==0.112.2\nstarlette==0.45.3\n```\n\n### Severity\n\nI can work around it",
    "comments": [
      {
        "user": "abidlabs",
        "body": "@Domtaoz could you please provide a complete minimal repro? Include the code for your app correctly formatted and also please tell us how are you are making the request via API?"
      },
      {
        "user": "abidlabs",
        "body": "Closing for lack of follow up. If this is an issue in the latest version of Gradio, and we get more details to repro, we can reopen"
      }
    ]
  },
  {
    "issue_number": 11314,
    "title": "i18n doesn't works",
    "author": "SmallMonster",
    "state": "closed",
    "created_at": "2025-06-02T14:40:14Z",
    "updated_at": "2025-06-05T16:55:05Z",
    "labels": [
      "bug",
      "needs repro",
      "pending clarification"
    ],
    "body": "### Describe the bug\n\ni m try to run the demo code, but i18n seems not works\n\n\n**result(english):**\n![Image](https://github.com/user-attachments/assets/4a6dc9a4-cc8f-4bc3-8010-3c735e832dd2)\n**result(chinese):**\n![Image](https://github.com/user-attachments/assets/bd17d466-ce83-4042-af11-3d82fb02c807)\n\n\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\n```python\nimport gradio as gr\n\n# create an i18n instance with translations for different languages\ni18n = gr.I18n(\n    en={\"name_label\": \"Your Name\", \"submit_button\": \"Greet\", \"john_doe\": \"John English\", \"result_label\": \"Result\"},\n    es={\"name_label\": \"Tu Nombre\", \"submit_button\": \"Saludar\", \"john_doe\": \"John Spanish\", \"result_label\": \"Resultado\"},\n    fr={\"name_label\": \"Votre Nom\", \"submit_button\": \"Saluer\", \"john_doe\": \"John French\", \"result_label\": \"Résultat\"},\n    de={\"name_label\": \"Dein Name\", \"submit_button\": \"Grüßen\", \"john_doe\": \"John German\", \"result_label\": \"Ergebnis\"},\n    zh={\"name_label\": \"你的名字\", \"submit_button\": \"提交\", \"john_doe\": \"John Chinese\", \"result_label\": \"结果\"},\n)\n\n\ndef add_hello_world(name):\n    return \"hello \" + name\n\n\nwith gr.Blocks() as demo:\n    with gr.Row():\n        # use i18n() for any string that should be translated\n        name_input = gr.Textbox(label=i18n(\"name_label\"), value=i18n(\"john_doe\"))\n\n    with gr.Row():\n        output_text = gr.Textbox(label=i18n(\"result_label\"))\n\n    with gr.Row():\n        greet_btn = gr.Button(value=i18n(\"submit_button\"))\n\n    with gr.Row():\n        reset_btn = gr.Button(\"Reset Name\")\n\n    greet_btn.click(fn=add_hello_world, inputs=name_input, outputs=output_text)\n    reset_btn.click(fn=lambda: i18n(\"john_doe\"), inputs=None, outputs=name_input)\n\n    gr.Markdown(\"\"\"\n    This demo shows Gradio's internationalization (i18n) functionality. \n    The interface automatically displays text in the user's browser language \n    (if available in our translations), or falls back to English.\n    \"\"\")\n\nif __name__ == \"__main__\":\n    # pass i18n to the launch function\n    demo.launch(i18n=i18n)\n```\n\n\n### Screenshot\n\n_No response_\n\n### Logs\n\n```shell\n\n```\n\n### System Info\n\n```shell\ngradio-5.32.0 gradio-client-1.10.2\n```\n\n### Severity\n\nBlocking usage of gradio",
    "comments": [
      {
        "user": "SmallMonster",
        "body": "i run this code with \"python run.py\" in terminal. "
      },
      {
        "user": "abidlabs",
        "body": "I am able to repro this by running python `demo/i18n/run.py`, cc @hannahblair "
      },
      {
        "user": "abidlabs",
        "body": "@SmallMonster never mind actually I was mistaken, I can't repro this. Can you tell us which browser / OS you are using?"
      }
    ]
  },
  {
    "issue_number": 11342,
    "title": "Missing argument for ChatInterface in https://github.com/gradio-app/gradio/blob/gradio%404.44.0/gradio/chat_interface.py",
    "author": "MaximeSongIdris",
    "state": "closed",
    "created_at": "2025-06-05T14:58:45Z",
    "updated_at": "2025-06-05T16:54:36Z",
    "labels": [
      "bug"
    ],
    "body": "### Describe the bug\n\nMissing the following argument in ChatInterface (https://www.gradio.app/docs/gradio/chatinterface#param-chatinterface-additional-outputs) : additional_outputs\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\n```python\nimport gradio as gr\n\nchatbot = gr.Chatbot(placeholder=\"WELCOME_MESSAGE\")\nchatbot2 = gr.Chatbot(placeholder=\"WELCOME_MESSAGE 2\")\n\nchatInterface = gr.ChatInterface(\n    lambda s: (s, s),\n    chatbot=chatbot,\n    additional_outputs=chatbot2\n)\n\n```\n\n### System Info\n\n```shell\ngradio-4.44.1\npython-3.11.9\n```\n\n### Severity\n\nI can work around it",
    "comments": [
      {
        "user": "abidlabs",
        "body": "Hi @MaximeSongIdris, please upgrade to the most recent version of `gradio`, as this argument was added in Gradio 5. Thanks!"
      }
    ]
  },
  {
    "issue_number": 11340,
    "title": "Add the option to show a checkbox in column header of `bool` column `gr.Dataframe`",
    "author": "ExcellentAmericanEagle",
    "state": "closed",
    "created_at": "2025-06-05T06:48:26Z",
    "updated_at": "2025-06-05T16:54:05Z",
    "labels": [],
    "body": "- [x] I have searched to see if a similar issue already exists.\n\n**Is your feature request related to a problem? Please describe.**  \nIn continuation of #11191, I suggest having the option to add a checkbox to the column header of columns with `bool` `datatype`.\n\nThe checkbox will allow an easy way to toggle all cells in the column on and off, providing a better UX on large tables\n\nThe scenarios:\n\n1. If no cells in the column are checked - the *top* checkbox will appear unchecked\n\n![Image](https://github.com/user-attachments/assets/9acf2cbc-68db-4494-bd31-72951bf492a8)\n\n2. Clicking on the *top* checkbox will make all cells checked, and turn this into this state. Clicking on the checkbox again will uncheck all checkboxes (and return to the first scenario)\n\n![Image](https://github.com/user-attachments/assets/45259e05-be5b-48de-903e-1827f145308d)\n\n3. If some (more than zero but not all) of the cells in the column are checked - then the checkbox will be an intermediate state (See [MDN article on intermediate state checkbox](https://developer.mozilla.org/en-US/docs/Web/HTML/Reference/Elements/input/checkbox#indeterminate_state_checkboxes)). Clicking on it will make all checkboxes checked (or the opposite - it's up to you!)\n\n![Image](https://github.com/user-attachments/assets/96048c71-5588-4f6e-b92c-d5a846772df1)\n\n**Describe the solution you'd like**  \nI suggest having a new kwarg to `gr.Dataframe` to toggle on/off the presence of checkboxes in the header cells. Maybe name it `show_header_checkbox` or something similar.\n\nInteracting with one of these checkboxes will trigger a `change` and `input` events that make all the cells `True`.\n\nAgain, this is only applicable to `boolean` cells.\n\n**Additional context**  \nThis relies on the implementation of #11237 and continue from the excellent implementation of @hannahblair \n\nPerhaps as an *intermediate* step 😉 we can make `gr.Checkbox` to be able to have `intermediate` state.\n\n- [x] I'm wiling to continue from #11237 once it gets merged",
    "comments": [
      {
        "user": "abidlabs",
        "body": "This seems like a bit too niche for us to add @ExcellentAmericanEagle. If you'd like, you could modify the `gr.Dataframe` component and make a custom component! https://www.gradio.app/guides/five-minute-guide\n\nI'll close this as not planned but let me cc @hannahblair in case she disagrees"
      }
    ]
  },
  {
    "issue_number": 9879,
    "title": "Custom components don't work",
    "author": "moreauadrien",
    "state": "closed",
    "created_at": "2024-10-31T17:36:48Z",
    "updated_at": "2025-06-05T02:27:47Z",
    "labels": [
      "bug",
      "Priority",
      "custom-components"
    ],
    "body": "### Describe the bug\n\nI tried to create a custom component and the templates don't seem to work.\n\n### Have you searched existing issues?  🔎\n\n- [X] I have searched and found no existing issues\n\n### Reproduction\n\n```\r\ngradio cc create MyComponent --template SimpleImage\r\ncd mycomponent\r\ngradio cc dev\r\n```\r\n\n\n### Screenshot\n\n```\r\n♻ Launching demo/app.py in reload mode\r\n\r\nWatching: '/home/adrien/.local/lib/python3.10/site-packages/gradio',\r\n'/home/adrien/Developement/gradio_test/mycomponent/frontend',\r\n'/home/adrien/Developement/gradio_test/mycomponent/demo',\r\n\r\n'/home/adrien/Developement/gradio_test/mycomponent'\r\n\r\n\r\n\r\n* Backend Server:  http://127.0.0.1:7864\r\n\r\n\r\n\r\nRe-optimizing dependencies because vite config has changed\r\n\r\nFailed to resolve dependency: svelte/animate, present in 'optimizeDeps.include'\r\n\r\nFailed to resolve dependency: svelte/easing, present in 'optimizeDeps.include'\r\n\r\nFailed to resolve dependency: svelte/internal, present in 'optimizeDeps.include'\r\n\r\nFailed to resolve dependency: svelte/internal/disclose-version, present in 'optimizeDeps.include'\r\n\r\nFailed to resolve dependency: svelte/motion, present in 'optimizeDeps.include'\r\n\r\nFailed to resolve dependency: svelte/store, present in 'optimizeDeps.include'\r\n\r\nFailed to resolve dependency: svelte/transition, present in 'optimizeDeps.include'\r\n\r\nFailed to resolve dependency: svelte, present in 'optimizeDeps.include'\r\n\r\nFrontend Server (Go here): http://localhost:7865/\r\n\r\n[1mThe TypeScript option verbatimModuleSyntax is now required when using Svelte files with\r\nlang=\"ts\". Please add it to your tsconfig.json.[0m\r\n\r\n6:26:29 PM  /home/adrien/Developement/gradio_test/mycomponent/frontend/Index.svelte:28:1 'Block'is not defined\r\n\r\n6:26:29 PM  /home/adrien/Developement/gradio_test/mycomponent/frontend/Index.svelte:40:2'StatusTracker' is not defined\r\n\r\n6:26:29 PM  /home/adrien/Developement/gradio_test/mycomponent/frontend/Index.svelte:46:2'ImagePreview' is not defined\r\n\r\n6:26:29 PM  /home/adrien/Developement/gradio_test/mycomponent/frontend/Index.svelte:55:1 'Block' is not defined\r\n\r\n6:26:29 PM  /home/adrien/Developement/gradio_test/mycomponent/frontend/Index.svelte:67:2 'StatusTracker' is not defined\r\n\r\n6:26:29 PM  /home/adrien/Developement/gradio_test/mycomponent/frontend/Index.svelte:74:2 'ImageUploader' is not defined\r\n\r\n6:26:29 PM  /home/adrien/Developement/gradio_test/mycomponent/frontend/Index.svelte:85:3 'UploadText' is not defined\r\n\r\n6:26:29 PM /home/adrien/Developement/gradio_test/mycomponent/frontend/shared/ImagePreview.svelte:9:0 'BlockLabel' is not defined\r\n\r\n6:26:29 PM /home/adrien/Developement/gradio_test/mycomponent/frontend/shared/ImagePreview.svelte:11:7 'ImageIcon' is not defined\r\n\r\n6:26:29 PM /home/adrien/Developement/gradio_test/mycomponent/frontend/shared/ImagePreview.svelte:15:1 'Empty' is not defined\r\n\r\n6:26:29 PM /home/adrien/Developement/gradio_test/mycomponent/frontend/shared/ImagePreview.svelte:15:41 'ImageIcon' is not defined\r\n\r\n6:26:29 PM /home/adrien/Developement/gradio_test/mycomponent/frontend/shared/ImagePreview.svelte:17:1 'IconButtonWrapper' is not defined\r\n\r\n6:26:29 PM /home/adrien/Developement/gradio_test/mycomponent/frontend/shared/ImagePreview.svelte:19:3 'DownloadLink' is not defined\r\n\r\n6:26:29 PM /home/adrien/Developement/gradio_test/mycomponent/frontend/shared/ImagePreview.svelte:20:4 'IconButton' is not defined\r\n\r\n6:26:29 PM /home/adrien/Developement/gradio_test/mycomponent/frontend/shared/ImagePreview.svelte:20:22 'Download' is not defined\r\n\r\n6:26:29 PM /home/adrien/Developement/gradio_test/mycomponent/frontend/shared/ImageUploader.svelte:21:0 'BlockLabel' is not defined\r\n\r\n6:26:29 PM /home/adrien/Developement/gradio_test/mycomponent/frontend/shared/ImageUploader.svelte:21:31 'ImageIcon' is not defined\r\n\r\n6:26:29 PM /home/adrien/Developement/gradio_test/mycomponent/frontend/shared/ImageUploader.svelte:25:2 'ClearImage' is not defined\r\n\r\n6:26:29 PM /home/adrien/Developement/gradio_test/mycomponent/frontend/shared/ImageUploader.svelte:33:2 'Upload' is not defined\r\n```\n\n### Logs\n\n_No response_\n\n### System Info\n\n```shell\n❯ python3 -V\r\nPython 3.10.12\r\n\r\n❯ pip -V\r\npip 24.3.1 from /home/adrien/.local/lib/python3.10/site-packages/pip (python 3.10)\r\n\r\n❯ node --version\r\nv20.12.2\r\n\r\n❯ npm -version\r\n10.5.0\r\n\r\nGradio Environment Information:\r\n------------------------------\r\nOperating System: Linux\r\ngradio version: 5.4.0\r\ngradio_client version: 1.4.2\r\n\r\n------------------------------------------------\r\ngradio dependencies in your environment:\r\n\r\naiofiles: 23.2.1\r\nanyio: 4.3.0\r\naudioop-lts is not installed.\r\nfastapi: 0.115.4\r\nffmpy: 0.4.0\r\ngradio-client==1.4.2 is not installed.\r\nhttpx: 0.27.0\r\nhuggingface-hub: 0.26.2\r\njinja2: 3.1.3\r\nmarkupsafe: 2.1.5\r\nnumpy: 1.26.4\r\norjson: 3.10.10\r\npackaging: 24.0\r\npandas: 2.2.3\r\npillow: 9.0.1\r\npydantic: 2.9.2\r\npydub: 0.25.1\r\npython-multipart==0.0.12 is not installed.\r\npyyaml: 5.4.1\r\nruff: 0.7.1\r\nsafehttpx: 0.1.1\r\nsemantic-version: 2.10.0\r\nstarlette: 0.41.2\r\ntomlkit==0.12.0 is not installed.\r\ntyper: 0.12.5\r\ntyping-extensions: 4.11.0\r\nurllib3: 1.26.5\r\nuvicorn: 0.32.0\r\nauthlib; extra == 'oauth' is not installed.\r\nitsdangerous; extra == 'oauth' is not installed.\r\n\r\n\r\ngradio_client dependencies in your environment:\r\n\r\nfsspec: 2024.10.0\r\nhttpx: 0.27.0\r\nhuggingface-hub: 0.26.2\r\npackaging: 24.0\r\ntyping-extensions: 4.11.0\r\nwebsockets: 12.0\n```\n\n\n### Severity\n\nBlocking usage of gradio",
    "comments": [
      {
        "user": "pngwn",
        "body": "I have been seeing the same issue. Looking into it atm. "
      },
      {
        "user": "zhangzhengde0225",
        "body": "I'v fixed this issuse.\r\n\r\nYou should create a `tsconfig.json` file the set `verbatimModuleSyntax` is True, and use `npm` to install depences.\r\n\r\nDetails:\r\ncd `frondend`,\r\nvi tsconfig.json, content:\r\n```bash\r\n{\r\n    \"compilerOptions\": {\r\n      \"target\": \"esnext\",\r\n      \"module\": \"esnext\",\r\n      \"verbatimModuleSyntax\": true,\r\n      \"strict\": true,\r\n      \"moduleResolution\": \"node\",\r\n      \"esModuleInterop\": true,\r\n      \"allowSyntheticDefaultImports\": true,\r\n      \"skipLibCheck\": true,\r\n      \"resolveJsonModule\": true,\r\n      \"types\": [\"svelte\"],\r\n      \"baseUrl\": \".\"\r\n    },\r\n    \"include\": [\"src/**/*\", \"*.svelte\"],\r\n    \"exclude\": [\"node_modules\"]\r\n}\r\n```\r\nThe key setting is \"verbatimModuleSyntax\": true,\r\n\r\n\r\n2. run command: `npm install --save-dev typescript svelte-preprocess @tsconfig/svelte\r\n`\r\n\r\n3. try to cd  .. and run `gradio cc dev`"
      },
      {
        "user": "pngwn",
        "body": "Ooooh"
      }
    ]
  },
  {
    "issue_number": 11335,
    "title": "Improvements for the default `load_chat` chatbot UI",
    "author": "vadimkantorov",
    "state": "closed",
    "created_at": "2025-06-04T14:36:56Z",
    "updated_at": "2025-06-05T01:40:51Z",
    "labels": [
      "enhancement",
      "pending clarification"
    ],
    "body": "Now with commoditization and standardization of the models/serving API, Gradio is in great position for being the by-default UI for OpenAI-compatible local servers (e.g. `vllm serve`). Making it more friction-free would be great :) The `.launch(share=True)` feature is particularly useful!\n\nSome ideas:\n- create an optional side-panel to click through messages. regular browser's scrolling is now less useful, since extremely long responses might be generated\n- create an option for auto-wrapping`<think>` contents in `<details>` tag: https://github.com/gradio-app/gradio/issues/11332\n- make it CLI-launchable for most basic scenarios (text-only models or multi-modal models like Qwen) for connecting to OpenAI-compatible server like `vllm serve`: https://github.com/gradio-app/gradio/issues/11334",
    "comments": [
      {
        "user": "abidlabs",
        "body": "> create an optional side-panel to click through messages. regular browser's scrolling is now less useful, since extremely long responses might be generated\n\nNot sure I understand. Can you explain what this UI would look like?"
      },
      {
        "user": "vadimkantorov",
        "body": "A side-panel with the list of messages in the current history (kind of \"table-of-contents\")"
      },
      {
        "user": "abidlabs",
        "body": "Oh ok that feels like quite an opinionated UI. I don't think we'll support this in the core `gr.Chatbot` component, but I think this would be a great case for a custom component! If you'd like to create your own, we've put together a Guide: https://www.gradio.app/guides/five-minute-guide, and we're happy to help.\n\nAlso, it looks like we have dedicated issues for the other suggestions so I'll close this issue"
      }
    ]
  },
  {
    "issue_number": 11332,
    "title": "Option for collapsing `<think>...</think>` inside some `<details>` tag in the `ChatInterface` in the default `load_chat` (to not require extra-coding for this very wide-spread micro-format)",
    "author": "vadimkantorov",
    "state": "open",
    "created_at": "2025-06-04T13:45:21Z",
    "updated_at": "2025-06-05T00:05:14Z",
    "labels": [],
    "body": "It is useful, as with extremely long reasoning outputs, browser scrollbar becomes quite useless\n\nIt would also be useful to have a side panel with the messages list to allow to navigate between LLM model outputs and user inputs",
    "comments": [
      {
        "user": "freddyaboulton",
        "body": "The UI supports this but it's not done by default. You need to put the thinking block in a separate message with `metadata: {'title': \"<your-title>\"}`\n\nSee for example `demo/chatbot_thoughts` or the smolagents UI: \n\n<img width=\"1317\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/75a0c0b9-4e05-47b7-b720-8112353bd654\" />\n\n"
      },
      {
        "user": "vadimkantorov",
        "body": "I think given the wide-spreadness of `<think>` and `</think>` micro-format, it would be very nice to extend the default `load_chat` to provide this option (collapsing contents of think contents) directly without extra coding\n\nIt might also be nice to create a CLI version of `load_chat`:\n- https://github.com/gradio-app/gradio/issues/11334"
      },
      {
        "user": "vadimkantorov",
        "body": "I.e. I propose to extend the OpenAI-talking client in `external.py/load_chat` to optionally also use this technique and do this thinking message extraction as in https://github.com/gradio-app/gradio/blob/477730ef51697a355a09020b235f6cc4a6fbb9dc/demo/chatbot_thoughts/run.py#L30-L39"
      }
    ]
  },
  {
    "issue_number": 11329,
    "title": "`gr.load_chat` to accept optional `textbox=` argument",
    "author": "vadimkantorov",
    "state": "open",
    "created_at": "2025-06-04T13:21:52Z",
    "updated_at": "2025-06-04T20:52:56Z",
    "labels": [
      "enhancement"
    ],
    "body": "### Describe the bug\n\nCurrently\nhttps://github.com/gradio-app/gradio/blob/477730ef51697a355a09020b235f6cc4a6fbb9dc/gradio/external.py#L863-L871\n\npasses `textbox=` argument, making it impossible to override it with `gr.load_chat(..., textbox=...)`\n\nIt can be useful to allow the user to override and provide their own instance for `textbox=`\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\n```python\nimport gradio as gr\n\nhost = 'localhost'\nport = 8080\n\ngr.load_chat(f\"http://{host}:{port}/v1/\", model=\"demo\", token=\"***\", textbox=gr.Textbox(placeholder=\"Ask me a yes or no question\", container=False, scale=7, max_length=None)).launch(share=True)\n```\n\nfails with\n```\n  File \"/mnt/fs/venv_cu126_py312/lib/python3.12/site-packages/gradio/external.py\", line 863, in load_chat\n    return ChatInterface(\n           ^^^^^^^^^^^^^^\nTypeError: gradio.chat_interface.ChatInterface() got multiple values for keyword argument 'textbox'\n```\n\n### Screenshot\n\n_No response_\n\n### Logs\n\n```shell\n\n```\n\n### System Info\n\n```shell\nGradio Environment Information:\n------------------------------\nOperating System: Linux\ngradio version: 5.32.1\ngradio_client version: 1.10.2\n                                                                                                                                                                                                                                          ------------------------------------------------\ngradio dependencies in your environment:\n\naiofiles: 24.1.0\nanyio: 4.9.0\naudioop-lts is not installed.\nfastapi: 0.115.12\nffmpy: 0.6.0\ngradio-client: 1.10.2\ngroovy: 0.1.2\nhttpx: 0.28.1\nhuggingface-hub: 0.31.2\njinja2: 3.1.6\nmarkupsafe: 2.1.5\nnumpy: 2.1.2\norjson: 3.10.18\npackaging: 25.0\npandas: 2.2.3\npillow: 11.0.0\npydantic: 2.11.4\npydub: 0.25.1\npython-multipart: 0.0.20\npyyaml: 6.0.2\nruff: 0.11.12\nsafehttpx: 0.1.6\nsemantic-version: 2.10.0\nstarlette: 0.46.2\ntomlkit: 0.13.2\ntyper: 0.15.4\ntyping-extensions: 4.12.2\nurllib3: 2.4.0\nuvicorn: 0.34.2\nmcp is not installed.\npydantic: 2.11.4\nauthlib is not installed.\nitsdangerous is not installed.\n                                                                                                                                                                                                                                          \ngradio_client dependencies in your environment:\n\nfsspec: 2024.6.1\nhttpx: 0.28.1\nhuggingface-hub: 0.31.2\npackaging: 25.0\ntyping-extensions: 4.12.2\nwebsockets: 15.0.1\n```\n\n### Severity\n\nI can work around it",
    "comments": []
  },
  {
    "issue_number": 11142,
    "title": "Preload first cached example",
    "author": "abidlabs",
    "state": "closed",
    "created_at": "2025-05-05T12:05:12Z",
    "updated_at": "2025-06-04T20:51:44Z",
    "labels": [
      "enhancement"
    ],
    "body": "As a small QoL improvement, we should preload the input and output if a user has enabled cached examples so that they load when the page first loads. For example, we could add a `preload: bool | int` parameter to `gr.Examples`, which is `True` by default, which loads the first cached example (or a user can provide an integer index if they want to load a particular example).",
    "comments": []
  },
  {
    "issue_number": 10062,
    "title": "The testimonials on the gradio.app front page are three years out of date",
    "author": "umarbutler",
    "state": "closed",
    "created_at": "2024-11-28T08:18:22Z",
    "updated_at": "2025-06-04T19:53:52Z",
    "labels": [
      "bug",
      "docs/website"
    ],
    "body": "### Describe the bug\n\nAt the bottom of the front page of the gradio website there are a bunch of testimonials that are tweets. They are three years old, approaching four years. One is in fact four years old. It may be time to update them.\r\n\r\n![image](https://github.com/user-attachments/assets/fb90c39f-17f8-4815-951e-e33fcb1f1df6)\r\n\n\n### Have you searched existing issues?  🔎\n\n- [X] I have searched and found no existing issues\n\n### Reproduction\n\nN/A\n\n### Screenshot\n\n_No response_\n\n### Logs\n\n_No response_\n\n### System Info\n\n```shell\nN/A\n```\n\n\n### Severity\n\nI can work around it",
    "comments": []
  },
  {
    "issue_number": 10121,
    "title": "create_or_modify_pyi not working in some environments.",
    "author": "amol-",
    "state": "closed",
    "created_at": "2024-12-04T18:05:27Z",
    "updated_at": "2025-06-04T19:40:21Z",
    "labels": [
      "bug",
      "good first issue",
      "Priority"
    ],
    "body": "### Describe the bug\r\n\r\nThe latest Conda package (for 5.7 and 5.5) do not seem to include `blocks_events.pyi` anymore.\r\nThis in most cases isn't a major issue because Gradio itself will generate it using `create_or_modify_pyi`.\r\n\r\nThe problem is that the function can fail in confusing ways in some conditions.\r\nFor example if Gradio is installed system wide (IE: by an admin user) and then started by an unprivileged user, the function will fail as it can't write the `.pyi` file.\r\n\r\nIn such case the error is also confusing because you get a `FileNotFoundError: [Errno 2] No such file or directory: '.../python3.11/site-packages/gradio/blocks_events.pyi'` error. Which tells you nothing about why the file doesn't exist.\r\n\r\nThat is because the write operation is wrapped in a context manager suppressing write errors \r\nhttps://github.com/gradio-app/gradio/blob/de42c85661faff84bd02960751b12c4bb722e153/gradio/component_meta.py#L131-L132\r\nAnd thus the write will never crash but the subsequent read will\r\n\r\nSuggested fixes:\r\n* Add `blocks_events.pyi` to conda packages so that Gradio doesn't have to generate it at runtime.\r\n* Remove `with no_raise_exception():` from `create_or_modify_py`. Given that the subsequent `read_text` call in `create_or_modify_pyi` there doesn't seem to be any benefit in using the `with no_raise_exception():` context manager. The function will just crash anyway in the subsequent line of code and will instead emit an uninformative error. If the concern is related to concurrency and race conditions over the file. That can be solved by writing the file to a temporary location and then moving it to its target destination.\r\n\r\n### Have you searched existing issues?  🔎\r\n\r\n- [X] I have searched and found no existing issues\r\n\r\n### Reproduction\r\n\r\n1. Install Gradio as root\r\n2. Delete gradio/block_events.pyi\r\n3. Launch Gradio as another user that can't write to system-packages\r\n\r\n\r\n### Screenshot\r\n\r\n_No response_\r\n\r\n### Logs\r\n\r\n_No response_\r\n\r\n### System Info\r\n\r\n```shell\r\nGradio 5.7.1 installed via Conda on Python 3.11\r\n```\r\n\r\n\r\n### Severity\r\n\r\nI can work around it",
    "comments": [
      {
        "user": "abidlabs",
        "body": "Hi @amol- we do not maintain the conda forge for Gradio, its maintained by volunteers, please reach out to the conda forge community to update the package appropriately: https://conda-forge.org/docs/maintainer/adding_pkgs/"
      },
      {
        "user": "amol-",
        "body": "> Hi @amol- we do not maintain the conda forge for Gradio, its maintained by volunteers, please reach out to the conda forge community to update the package appropriately: https://conda-forge.org/docs/maintainer/adding_pkgs/\r\n\r\nEven if the conda package gets fixed, I think it would make sense to fix the underlying issue with `create_or_modify_pyi` not reporting the real error "
      },
      {
        "user": "abidlabs",
        "body": "@amol- would you like to open a PR with the fix? We're happy to review"
      }
    ]
  },
  {
    "issue_number": 11331,
    "title": "Default `gr.load_chat(...)` with large and small inputs leads to `model is not multimodal` error in `vllm serve`",
    "author": "vadimkantorov",
    "state": "open",
    "created_at": "2025-06-04T13:38:29Z",
    "updated_at": "2025-06-04T19:38:37Z",
    "labels": [
      "bug"
    ],
    "body": "### Describe the bug\n\n1. I copy-paste some giant prompt in gradio input box, it gets represented as some icon with \"pasted text\"\n2. Model responds\n3. I then type in the input box some text directly\n4. The model fails with an error that it is not multimodal\n\nThe problem is likely that gradio wraps giant prompt as `text_encoded`, and small prompt as `text`, causing some issue with encoding them to the OpenAI API (or maybe with their processing on `vllm serve` side making it somehow try decode an image from the request, and thus complaining that Qwen/Qwen3-8B is not multimodal): \n- https://github.com/vllm-project/vllm/issues/19144 - here is the vllm error stack trace\n\nDisabling multimodal with `gr.load_chat(, file_types=[])` makes the `paste_text` disappear, and there are no errors\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\nUse the default `gr.load_chat(...)` and send extremely long prompt (pasted with Ctrl+V), and then extremely short prompt\n\n### Screenshot\n\n_No response_\n\n### Logs\n\n```shell\n\n```\n\n### System Info\n\n```shell\nGradio Environment Information:                                                                                                                                                                                                           ------------------------------                                                                                                                                                                                                            Operating System: Linux\ngradio version: 5.32.1\ngradio_client version: 1.10.2                                                                                                                                                                                                                                                                                                                                                                                                                                                       ------------------------------------------------\ngradio dependencies in your environment:\n\naiofiles: 24.1.0\nanyio: 4.9.0\naudioop-lts is not installed.                                                                                                                                                                                                             fastapi: 0.115.12                                                                                                                                                                                                                         ffmpy: 0.6.0\ngradio-client: 1.10.2\ngroovy: 0.1.2\nhttpx: 0.28.1\nhuggingface-hub: 0.31.2\njinja2: 3.1.6\nmarkupsafe: 2.1.5\nnumpy: 2.1.2\norjson: 3.10.18\npackaging: 25.0\npandas: 2.2.3\npillow: 11.0.0\npydantic: 2.11.4\npydub: 0.25.1\npython-multipart: 0.0.20\npyyaml: 6.0.2\nruff: 0.11.12\nsafehttpx: 0.1.6\nsemantic-version: 2.10.0\nstarlette: 0.46.2\ntomlkit: 0.13.2\ntyper: 0.15.4\ntyping-extensions: 4.12.2\nurllib3: 2.4.0\nuvicorn: 0.34.2\nmcp is not installed.\npydantic: 2.11.4\nauthlib is not installed.\nitsdangerous is not installed.\n\n\ngradio_client dependencies in your environment:\n\nfsspec: 2024.6.1\nhttpx: 0.28.1\nhuggingface-hub: 0.31.2\npackaging: 25.0\ntyping-extensions: 4.12.2\nwebsockets: 15.0.1\n```\n\n### Severity\n\nI can work around it",
    "comments": [
      {
        "user": "abidlabs",
        "body": "cc @aliabid94 "
      }
    ]
  },
  {
    "issue_number": 11336,
    "title": "Default Tab name is `undefined`",
    "author": "dawoodkhan82",
    "state": "closed",
    "created_at": "2025-06-04T15:52:40Z",
    "updated_at": "2025-06-04T19:36:31Z",
    "labels": [
      "bug"
    ],
    "body": "### Describe the bug\n\nWhen no label is provided, the default label shows up as `undefined`\n\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\n```python\nimport gradio as gr\n\ndef greet(name):\n    return name\n\n\nwith gr.Blocks() as demo:\n    with gr.Tab():\n        name = gr.Textbox()\n    with gr.Tab():\n        output = gr.Textbox()\n\nif __name__ == \"__main__\":\n    demo.launch()\n```\n\n\n### Screenshot\n\n_No response_\n\n### Logs\n\n```shell\n\n```\n\n### System Info\n\n```shell\nN/A\n```\n\n### Severity\n\nI can work around it",
    "comments": []
  },
  {
    "issue_number": 10471,
    "title": "Things to deprecate for `gradio==6.0` and `gradio_client==2.0`",
    "author": "abidlabs",
    "state": "open",
    "created_at": "2025-01-30T22:16:14Z",
    "updated_at": "2025-06-04T19:33:44Z",
    "labels": [
      "refactor",
      "tracking"
    ],
    "body": "Starting a list now:\n\nGradio 6.0\n\n- [ ] `type=\"tuples\"` for `gr.Chatbot` / `gr.ChatInterface`\n- [ ] `hf_token` from `load`\n- [ ] Consider removing `ruff` as a core dependency and doing extras-install for custom components\n- [ ] `ImageEditor` crop_size\n- [ ] `DataFrame` row_count and col_count format should be better specified (also `col` vs. `column` --> we should pick one and be consistent in parameter names)\n- [ ] Make `allow_tags=True` the default in `gr.Chatbot`, see https://github.com/gradio-app/gradio/pull/10743\n- [ ] https://github.com/gradio-app/gradio/issues/10822\n- [ ] Move custom `css`, `js`, etc. params from `Blocks`, `Interface` and so on directly to `.launch()`\n- [ ] In `gr.Interface` (and perhaps in `gr.ChatInterface`), the default API name should be the user's function's name, not `predict` or `chat` (useful for MCP tools)\n- [ ] Change default font to IBM-Plex as was intended in 5.0\n- [ ] https://github.com/gradio-app/gradio/pull/11206\n- [ ] Make padding True by default in Markdown (ref [PR](https://github.com/gradio-app/gradio/pull/11236))\n- [ ] Set `api_name=None` in `gr.Interface`\n- [ ] https://github.com/gradio-app/gradio/issues/11297\n- [ ] Make https://github.com/gradio-app/gradio/pull/11287 default in 6.0\n\nClient 2.0\n\n- [ ] Client.deploy_discord\n- [ ] Client.file()\n- [ ] AppError should subclass Exception instead of ValueError\n",
    "comments": []
  },
  {
    "issue_number": 10545,
    "title": "Autoscroll for streaming textbox fails",
    "author": "easyfacelab",
    "state": "closed",
    "created_at": "2025-02-07T20:07:06Z",
    "updated_at": "2025-06-04T15:50:21Z",
    "labels": [
      "bug",
      "Priority"
    ],
    "body": "### Describe the bug\n\nMy multi-tabbed app uses multiple Textboxes, one of them to show app logs.\nAs per the doc, the textbox should always go to the bottom, but that's not true when you switch from one tab to another.\nFrom some reason, I cannot reproduce as easily without these tabs.\nOn Chrome the problem appears after switching multiple times, sometimes after launching several time the script doing a stream in my example. On Firefox, the problem appears on the first switch between the tabs.\nThis looks like a pure js issue, and this is precisely why I'm using Gradio, being not a web dev.\nIs there a design issue in the way I manage the streams in the callbacks? Or could it be a Gradio limitation?\n\nI'm sharing a minimal reproducer. Thanks for any enlightenment.\n\nRelates: #5417, #6085 \n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\n```\nimport subprocess\nimport time\nimport gradio as gr\n\ndef read_external_program():\n    # simple bash loop writing into /tmp/log during 20s\n    cmd = ['/bin/bash', '-c', 'for ((x=0; x<20; x=x+1)); do echo $x |& tee -a /tmp/log; sleep 1; done; exit 2']\n    p = subprocess.Popen(cmd, stdout=subprocess.PIPE, stderr=subprocess.STDOUT, universal_newlines=True)\n    output = \"\"\n    while p.poll() is None:\n        output += p.stdout.readline()\n        yield output, '0'\n    ret = p.wait()\n    yield output, ret\n\ndef read_logs():\n    output = \"\"\n    with open('/tmp/log') as f:\n        while True:\n            for line in f:\n                output += line\n                yield output\n            time.sleep(0.1)\n\nwith gr.Blocks() as demo:\n    with gr.Tab('program'):\n        prog_out = gr.Textbox(label='program output', interactive=False, lines=10, max_lines=10)\n        return_code = gr.Textbox(label='exit code', interactive=False, value='0')\n        start_btn = gr.Button('start')\n        start_btn.click(read_external_program, None, [prog_out, return_code])\n    with gr.Tab('log'):\n        logbox = gr.Textbox(label='log file', interactive=False, lines=35, max_lines=35)\n        refresh_btn = gr.Button('refresh logs')\n        refresh_btn.click(read_logs, None, logbox)\n\ndemo.launch()\n\n```\n\n\n### Screenshot\n\n_No response_\n\n### Logs\n\n```shell\n\n```\n\n### System Info\n\n```shell\nGradio 5.14.0\nUbuntu 24.04 LTS\nChrome 132.0.6834.83\nFirefox 135.0\n```\n\n### Severity\n\nBlocking usage of gradio",
    "comments": []
  },
  {
    "issue_number": 9853,
    "title": "Restore overflow behavior of `gr.Tab`",
    "author": "michaeltremeer",
    "state": "open",
    "created_at": "2024-10-28T10:00:01Z",
    "updated_at": "2025-06-04T14:13:49Z",
    "labels": [
      "enhancement"
    ],
    "body": "- [x] I have searched to see if a similar issue already exists.\r\n\r\n\r\n**Is your feature request related to a problem? Please describe.**  \r\nA [recent update](https://github.com/gradio-app/gradio/pull/9199) to the Tab component means that any tabs that cannot fit in a single row are now forced into a small menu. This results in the tabs being hidden and not easily found for new users of an application, creating a UX issue. The previous behavior allowed for overflow of tabs into a second row, which was much clearer for users.\r\n\r\n**Describe the solution you'd like**  \r\nRestore the ability to choose the overflow behavior - either hiding any additional tabs in the menu (the new behavior), or ensuring all tabs are displayed across multiple rows (the original behavior).\r\n\r\n**Additional context**  \r\nThis issue is preventing me from upgrading multiple applications to gradio v5. Please restore the functionality - there are multiple people who have requested this ([example](https://github.com/gradio-app/gradio/issues/9682#issuecomment-2419983344))\r\n",
    "comments": [
      {
        "user": "rsxdalv",
        "body": "I would say that this is more of a 'regression' rather than 'enhancement'. I have had several users unable to find the tabs that they used before or even notice the three dot based UI.\r\nI am considering going back to gradio v4."
      },
      {
        "user": "Isuxiz",
        "body": "+1\r\nPlease bring multi-line style tabs back, at least provide a param in `gr.Tab` to control."
      },
      {
        "user": "rsxdalv",
        "body": "I made a custom component to achieve this. For anyone thinking about making custom components, I **HIGHLY** recommend forking existing working builds and only using _gradio cc create_ for reference or code searching.\n`requirements.txt`:\n```\ngradio_goodtabs @ https://github.com/rsxdalv/gradio_goodtabs/releases/download/v0.0.3/gradio_goodtabs-0.0.3-py3-none-any.whl\ngradio_goodtab @ https://github.com/rsxdalv/gradio_goodtab/releases/download/v0.0.3/gradio_goodtab-0.0.3-py3-none-any.whl\n```\n\n```python\n\nimport gradio as gr\nfrom gradio_goodtabs import GoodTabs\nfrom gradio_goodtab import GoodTab as Tab\ngr.Tab = Tab\ngr.Tabs = GoodTabs\n\nwith gr.Blocks() as demo:\n    with gr.Column():\n        with GoodTabs():\n            with gr.Tab(\"Tab 1 long long long long long long long long long\"):\n                gr.Textbox(value=\"foo\", interactive=True)\n            with gr.Tab(\"Tab 1 long long long long long long long long long\"):\n                gr.Textbox(value=\"foo\", interactive=True)\n            with gr.Tab(\"Tab 1 long long long long long long long long long\"):\n                gr.Textbox(value=\"foo\", interactive=True)\n            with gr.Tab(\"Tab 1 long long long long long long long long long\"):\n                gr.Textbox(value=\"foo\", interactive=True)\n            with gr.Tab(\"Tab 2\"):\n                gr.Number(value=10, interactive=True)\n\n\nif __name__ == \"__main__\":\n    demo.launch(\n        server_port=7774,\n    )\n```\n\n\n![Image](https://github.com/user-attachments/assets/7dc77bf6-6da4-4552-b191-9b8cfd2e1a57)\n\nVideo demo of this approach working in a full system:\n[![Watch the video](https://img.youtube.com/vi/y21rH00CV7M/sddefault.jpg)](https://youtu.be/y21rH00CV7M)"
      }
    ]
  },
  {
    "issue_number": 11330,
    "title": "Allow passing `gr.load_chat(..., token=None)`,  `gr.load_chat(..., token=\"\")` or `gr.load_chat(...)`  without any meaningful token (for local `vllm serve`-d models, empty token is okay)",
    "author": "vadimkantorov",
    "state": "open",
    "created_at": "2025-06-04T13:27:39Z",
    "updated_at": "2025-06-04T13:35:48Z",
    "labels": [
      "bug"
    ],
    "body": "### Describe the bug\n\nThis is useful when using gradio to connect to a local `vllm serve` instance, so no token passed makes sense.\n\nCurrently with `token=None` or without any `token=` it gives this error:\n```\nTraceback (most recent call last):\n  File \"/mnt/fs/ml/demo.py\", line 6, in <module>\n    gr.load_chat(f\"http://{host}:{port}/v1/\", model=\"demo\", token=None).launch(share=True)\n\n  File \"/mnt/fs/venv_cu126_py312/lib/python3.12/site-packages/gradio/external.py\", line 809, in load_chat\n    client = OpenAI(api_key=token, base_url=base_url)                                                                                                                                                                                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/mnt/fs/venv_cu126_py312/lib/python3.12/site-packages/openai/_client.py\", line 124, in __init__\n    raise OpenAIError(\nopenai.OpenAIError: The api_key client option must be set either by passing api_key to the client or by setting the OPENAI_API_KEY environment variable\n``` \n\n```python\ngr.load_chat(f\"http://{host}:{port}/v1/\", model=\"demo\", token=\"\").launch(share=True)\n```\n\ngives the error:\n```\nThe above exception was the direct cause of the following exception:                                                                                                                                                                                                                                                                                                                                                                                                                Traceback (most recent call last):                                                                                                                                                                                                          File \"/mnt/fs/venv_cu126_py312/lib/python3.12/site-packages/openai/_base_client.py\", line 969, in request                                                                                                                                   response = self._client.send(                                                                                                                                                                                                                        ^^^^^^^^^^^^^^^^^^                                                                                                                                                                                                           File \"/mnt/fs/venv_cu126_py312/lib/python3.12/site-packages/httpx/_client.py\", line 914, in send                                                                                                                                            response = self._send_handling_auth(                                                                                                                                                                                                                 ^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                                                                    File \"/mnt/fs/venv_cu126_py312/lib/python3.12/site-packages/httpx/_client.py\", line 942, in _send_handling_auth                                                                                                                             response = self._send_handling_redirects(                                                                                                                                                                                                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                                                               File \"/mnt/fs/venv_cu126_py312/lib/python3.12/site-packages/httpx/_client.py\", line 979, in _send_handling_redirects                                                                                                                        response = self._send_single_request(request)                                                                                                                                                                                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                                                           File \"/mnt/fs/venv_cu126_py312/lib/python3.12/site-packages/httpx/_client.py\", line 1014, in _send_single_request                                                                                                                           response = transport.handle_request(request)                                                                                                                                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                                                            File \"/mnt/fs/venv_cu126_py312/lib/python3.12/site-packages/httpx/_transports/default.py\", line 249, in handle_request                                                                                                                      with map_httpcore_exceptions():                                                                                                                                                                                                                ^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                                                                          File \"/usr/lib/python3.12/contextlib.py\", line 158, in __exit__                                                                                                                                                                             self.gen.throw(value)                                                                                                                                                                                                                   File \"/mnt/fs/venv_cu126_py312/lib/python3.12/site-packages/httpx/_transports/default.py\", line 118, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.LocalProtocolError: Illegal header value b'Bearer '\n```\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\nPlease see above\n\n### Screenshot\n\n_No response_\n\n### Logs\n\n```shell\n\n```\n\n### System Info\n\n```shell\nGradio Environment Information:                                                                                                                                                                                                           ------------------------------                                                                                                                                                                                                            Operating System: Linux\ngradio version: 5.32.1\ngradio_client version: 1.10.2                                                                                                                                                                                                                                                                                                                                                                                                                                                       ------------------------------------------------\ngradio dependencies in your environment:\n\naiofiles: 24.1.0\nanyio: 4.9.0\naudioop-lts is not installed.                                                                                                                                                                                                             fastapi: 0.115.12                                                                                                                                                                                                                         ffmpy: 0.6.0\ngradio-client: 1.10.2\ngroovy: 0.1.2\nhttpx: 0.28.1\nhuggingface-hub: 0.31.2\njinja2: 3.1.6\nmarkupsafe: 2.1.5\nnumpy: 2.1.2\norjson: 3.10.18\npackaging: 25.0\npandas: 2.2.3\npillow: 11.0.0\npydantic: 2.11.4\npydub: 0.25.1\npython-multipart: 0.0.20\npyyaml: 6.0.2\nruff: 0.11.12\nsafehttpx: 0.1.6\nsemantic-version: 2.10.0\nstarlette: 0.46.2\ntomlkit: 0.13.2\ntyper: 0.15.4\ntyping-extensions: 4.12.2\nurllib3: 2.4.0\nuvicorn: 0.34.2\nmcp is not installed.\npydantic: 2.11.4\nauthlib is not installed.\nitsdangerous is not installed.\n\n\ngradio_client dependencies in your environment:\n\nfsspec: 2024.6.1\nhttpx: 0.28.1\nhuggingface-hub: 0.31.2\npackaging: 25.0\ntyping-extensions: 4.12.2\nwebsockets: 15.0.1\n```\n\n### Severity\n\nI can work around it",
    "comments": []
  },
  {
    "issue_number": 11239,
    "title": "When using Chatinterface with stream_to_gradio getting compare_objects error.",
    "author": "Michelvl92",
    "state": "closed",
    "created_at": "2025-05-22T07:02:34Z",
    "updated_at": "2025-06-04T00:07:53Z",
    "labels": [
      "bug",
      "Priority",
      "Regression"
    ],
    "body": "### Describe the bug\n\nWhen using Chatinterface with stream_to_gradio and a smol agent, getting compare_objects error. So whole interface is working correctly, can ask questions in the chat interfaces, can see that the agent is writing correct results (in the logs) and then it crashes with that error\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\n```\n        def chat_fn(user_message, history):\n            yield from stream_to_gradio(self.agent, user_message, reset_agent_memory=False)\n\n        # manually adjusted theme of gradio\n        theme_adj = gr.themes.Default(text_size=\"lg\",\n            primary_hue=gr.themes.Color(c100=\"#dbeafe\", c200=\"#bfdbfe\", c300=\"#93c5fd\", c400=\"#60a5fa\", c50=\"#eff6ff\",\n                                        c500=\"#3b82f6\", c600=\"#2563eb\", c700=\"#1d4ed8\", c800=\"#002484\", c900=\"#1e3a8a\",\n                                        c950=\"#1d3660\"),\n        ).set(color_accent='*neutral_500', button_primary_background_fill='*primary_800',\n              button_primary_background_fill_dark='*primary_800', button_primary_background_fill_hover='*primary_900',\n              button_primary_background_fill_hover_dark='*primary_900', button_primary_border_color='*primary_800',\n              button_primary_border_color_dark='*primary_800', button_primary_border_color_hover='*primary_900',\n              button_primary_border_color_hover_dark='*primary_900')\n\n        with gr.Blocks(title=self.config.gui.site_name, theme=theme_adj, fill_height=True,\n                       css=\"footer{display:none !important}\") as chat:\n\n            gr.HTML(site_header_html)\n\n            gr.ChatInterface(fn=chat_fn, chatbot=gr.Chatbot(type=\"messages\", show_label=False, height=1000),\n                             textbox=gr.Textbox(placeholder=\"Stel hier je vraag:\"),\n                             show_progress='hidden', css=\"footer{display:none !important}\", type=\"messages\",\n                             examples=self.config.gui.chat_examples, flagging_mode=\"never\",\n                             flagging_options=[\"Like\", \"Inappropriate\"], save_history=True, )\n\n        chat.launch(share=False, server_name=self.config.gui.server_name, favicon_path=favicon_filepath,\n                    ssl_certfile=self.config.gui.ssl_certfile, ssl_keyfile=self.config.gui.ssl_keyfile,\n                    ssl_verify=self.config.gui.ssl_verify, auth=self.config.gui.auth,\n                    allowed_paths=[header_logo_filepath], )\n```\n\n\n### Screenshot\n\n_No response_\n\n### Logs\n\n```shell\ngui-1  | Execution logs:\ngui-1  |\ngui-1  | some results ai agent\ngui-1  |\ngui-1  | Out: None\ngui-1  | [Step 4: Duration 32.10 seconds| Input tokens: 17,250 | Output tokens: 2,385]\ngui-1  | Traceback (most recent call last):\ngui-1  |   File \"/usr/local/lib/python3.10/dist-packages/gradio/queueing.py\", line 715, in process_events\ngui-1  |     response = await route_utils.call_process_api(\ngui-1  |   File \"/usr/local/lib/python3.10/dist-packages/gradio/route_utils.py\", line 322, in call_process_api\ngui-1  |     output = await app.get_blocks().process_api(\ngui-1  |   File \"/usr/local/lib/python3.10/dist-packages/gradio/blocks.py\", line 2214, in process_api\ngui-1  |     data = self.handle_streaming_diffs(\ngui-1  |   File \"/usr/local/lib/python3.10/dist-packages/gradio/blocks.py\", line 2080, in handle_streaming_diffs\ngui-1  |     data[i] = utils.diff(prev_chunk, data[i])\ngui-1  |   File \"/usr/local/lib/python3.10/dist-packages/gradio/utils.py\", line 1308, in diff\ngui-1  |     return compare_objects(old, new)\ngui-1  |   File \"/usr/local/lib/python3.10/dist-packages/gradio/utils.py\", line 1290, in compare_objects\ngui-1  |     edit[1] = [edit[1][-1] - deletes_seen]\ngui-1  | TypeError: unsupported operand type(s) for -: 'str' and 'int'\n```\n\n### System Info\n\n```shell\nSmol Agents = 1.16.1\nopenai = 1.79.0\n\nGradio Environment Information:\n------------------------------\nOperating System: Linux\ngradio version: 5.30.0\ngradio_client version: 1.10.1\n\n------------------------------------------------\ngradio dependencies in your environment:\n\naiofiles: 24.1.0\nanyio: 4.9.0\naudioop-lts is not installed.\nfastapi: 0.115.12\nffmpy: 0.5.0\ngradio-client: 1.10.1\ngroovy: 0.1.2\nhttpx: 0.27.2\nhuggingface-hub: 0.31.4\njinja2: 3.1.6\nmarkupsafe: 3.0.2\nnumpy: 1.26.4\norjson: 3.10.18\npackaging: 25.0\npandas: 2.2.3\npillow: 11.2.1\npydantic: 2.11.4\npydub: 0.25.1\npython-multipart: 0.0.20\npyyaml: 6.0.2\nruff: 0.11.2\nsafehttpx: 0.1.6\nsemantic-version: 2.10.0\nstarlette: 0.46.2\ntomlkit: 0.13.2\ntyper: 0.15.4\ntyping-extensions: 4.13.2\nurllib3: 1.26.20\nuvicorn: 0.34.2\nmcp is not installed.\npydantic: 2.11.4\nauthlib is not installed.\nitsdangerous: 2.0.1\n\ngradio_client dependencies in your environment:\n\nfsspec: 2025.3.0\nhttpx: 0.27.2\nhuggingface-hub: 0.31.4\npackaging: 25.0\ntyping-extensions: 4.13.2\nwebsockets: 15.0.1\n```\n\n### Severity\n\nI cannot work around it, only downgrading gradio version to 5.28.0.",
    "comments": [
      {
        "user": "freddyaboulton",
        "body": "I'll look into this"
      },
      {
        "user": "Michelvl92",
        "body": "error appears starting from version 5.29.0. No error with 5.28.0 or below."
      },
      {
        "user": "freddyaboulton",
        "body": "Hi @Michelvl92 ! Can you please share the minimal agent code + prompt to reproduce the error. I was able to trace down the PR that causes this bug but being able to reproduce the error on my end will help me find the best fix."
      }
    ]
  },
  {
    "issue_number": 11299,
    "title": "VideoSlider Component",
    "author": "elismasilva",
    "state": "open",
    "created_at": "2025-05-29T21:15:41Z",
    "updated_at": "2025-06-03T23:31:34Z",
    "labels": [
      "enhancement",
      "new component"
    ],
    "body": "- [X ] I have searched to see if a similar issue already exists.\n\n\n**Describe the solution you'd like**  \nIs possible we have a VideoSlider component? \nlike this implementation: https://github.com/chenyuntc/video-comparison-slider?tab=readme-ov-file",
    "comments": [
      {
        "user": "FurkanGozukara",
        "body": "We really really need a video slider and i really need it urgently\n\nI am developing a Gradio based video upscaler and people would love this feature\n\n![Image](https://github.com/user-attachments/assets/2e38b174-5009-422f-a8c7-1fc8071b8047)\n\n"
      },
      {
        "user": "abidlabs",
        "body": "We will most likely build a `gr.VideoSlider` component but it'll take some time as we have competing priorities at the moment. In the meantime, fo course, feel free to try building a custom component: https://www.gradio.app/guides/five-minute-guide\n\nIn fact, we are currently running a hackathon (https://huggingface.co/Agents-MCP-Hackathon) where one of the tracks is a custom component track and if you want, you could submit it there. We're also hosting office hours this week on Discord to help folks build custom components.\n\n"
      },
      {
        "user": "elismasilva",
        "body": "I would really like to participate in the hackathon but my time will be very limited these days so even if I can't when I can I can try to see how to create a component. Thanks!"
      }
    ]
  },
  {
    "issue_number": 11319,
    "title": "Custom Component: gradio cc build runs into a build error on huggingface spaces",
    "author": "crcdng",
    "state": "closed",
    "created_at": "2025-06-03T15:57:23Z",
    "updated_at": "2025-06-03T19:50:21Z",
    "labels": [
      "bug",
      "pending clarification"
    ],
    "body": "### Describe the bug\n\nPublishing a custom component to huggingface spaces with `gradio cc build` runs into a build error\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\nFollow instructions on https://www.gradio.app/guides/custom-components-in-five-minutes \n\nFinal step:  \n\nhttps://www.gradio.app/guides/custom-components-in-five-minutes#4-publish\n\n\"Simply run the following command from your component directory:\n\ngradio cc publish\n\"\n\npublish to hugging face spaces - dialog\n\n╭───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮\n│ 📦 Building package in myfirstcomponent                                                                                           │\n│ 🔢 Package will use version 0.0.1 defined in pyproject.toml file. Set --bump-version to automatically bump the version number.    │\n│ ✅ Documentation generated in demo/space.py and README.md. Pass --no-generate-docs to disable auto documentation.                 │\n│                                                                                                                                   │\n│ 🟠 The docs were generated in simple mode. Updating python to a more recent version will result in richer documentation.          │\n│ 🎨 Building frontend                                                                                                              │\n│ ✅ Build succeeded!                                                                                                               │\n│ 👷 Building... (/Users/m/miniconda3/envs/hfagents/bin/python3 -m build /Users/m/root/dev/ai_ml/gradio/myfirstcomponent)           │\n│ ✅ Build succeeded!                                                                                                               │\n│ 🎡 Wheel located in /Users/m/root/dev/ai_ml/gradio/myfirstcomponent/dist                                                          │\n╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯\n(hfagents) m@eve myfirstcomponent % gradio cc publish\n╭───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮\n│ It is recommended to upload your component to pypi so that anyone can install it with pip install.                                │\n│                                                                                                                                   │\n│ A PyPi account is needed. If you do not have an account, register account here: https://pypi.org/account/register/                │\n╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯\n🐍 Upload to pypi? [y/n]: n\n╭───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮\n│ It is recommended you upload a demo of your component to https://huggingface.co/spaces so that anyone can try it from their       │\n│ browser.                                                                                                                          │\n╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯\n🤗 Upload demo? [y/n]: y\n╭───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮\n│ Please provide the path to the demo directory for your custom component.                                                          │\n│                                                                                                                                   │\n│ This directory should contain all the files it needs to run successfully.                                                         │\n│                                                                                                                                   │\n│ Please make sure the gradio app is in an space.py file.                                                                           │\n│                                                                                                                                   │\n│ If you need additional python requirements, add a requirements.txt file to this directory.                                        │\n╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯\n🎢 Please enter the path to the demo directory. Leave blank to use: demo: \n╭───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮\n│ It is recommended that you share your source code so that others can learn from and improve your component.                       │\n╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯\n📚 Would you like to share your source code? [y/n]: y\n📁 Please enter the path to the source directory. Leave blank to use: .: \n\n\nDemo uploaded to https://huggingface.co/spaces/crcdng/gradio_myfirstcomponent !\n\nThe resulting space is here: https://huggingface.co/spaces/crcdng/gradio_myfirstcomponent\n\n### Screenshot\n\n![Image](https://github.com/user-attachments/assets/e65152eb-0e91-4431-8921-28912724072e)\n\n### Logs\n\n```shell\nNOTE including the full stacktrace is not possible because this \"Field can not be longer than 65536 characters\"\n\n\n===== Build Queued at 2025-06-03 15:42:34 / Commit SHA: 9a82f0b =====\n\n--> FROM docker.io/library/python:3.10@sha256:7118d485696a1eb1105ae30e3f55e5685117a9bc0c3ffbe3830a268911e0837d\nDONE 0.0s\n\nDONE 2.7s\n\nDONE 4.0s\n\nDONE 7.9s\n\nDONE 8.2s\n\nDONE 8.8s\n\nDONE 8.8s\n\n--> RUN apt-get update && apt-get install -y fakeroot &&     mv /usr/bin/apt-get /usr/bin/.apt-get &&     echo '#!/usr/bin/env sh\\nfakeroot /usr/bin/.apt-get $@' > /usr/bin/apt-get &&     chmod +x /usr/bin/apt-get && \trm -rf /var/lib/apt/lists/* && \tuseradd -m -u 1000 user\nGet:1 http://deb.debian.org/debian bookworm InRelease [151 kB]\nGet:2 http://deb.debian.org/debian bookworm-updates InRelease [55.4 kB]\nGet:3 http://deb.debian.org/debian-security bookworm-security InRelease [48.0 kB]\nGet:4 http://deb.debian.org/debian bookworm/main amd64 Packages [8793 kB]\nGet:5 http://deb.debian.org/debian bookworm-updates/main amd64 Packages [512 B]\nGet:6 http://deb.debian.org/debian-security bookworm-security/main amd64 Packages [265 kB]\nFetched 9313 kB in 1s (10.2 MB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  libfakeroot\nThe following NEW packages will be installed:\n  fakeroot libfakeroot\n0 upgraded, 2 newly installed, 0 to remove and 3 not upgraded.\nNeed to get 95.2 kB of archives.\nAfter this operation, 360 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian bookworm/main amd64 libfakeroot amd64 1.31-1.2 [28.3 kB]\nGet:2 http://deb.debian.org/debian bookworm/main amd64 fakeroot amd64 1.31-1.2 [66.9 kB]\ndebconf: delaying package configuration, since apt-utils is not installed\nFetched 95.2 kB in 0s (5315 kB/s)\nSelecting previously unselected package libfakeroot:amd64.\n(Reading database ... \n(Reading database ... 5%\n(Reading database ... 10%\n(Reading database ... 15%\n(Reading database ... 20%\n(Reading database ... 25%\n(Reading database ... 30%\n(Reading database ... 35%\n(Reading database ... 40%\n(Reading database ... 45%\n(Reading database ... 50%\n(Reading database ... 55%\n(Reading database ... 60%\n(Reading database ... 65%\n(Reading database ... 70%\n(Reading database ... 75%\n(Reading database ... 80%\n(Reading database ... 85%\n(Reading database ... 90%\n(Reading database ... 95%\n(Reading database ... 100%\n(Reading database ... 23965 files and directories currently installed.)\nPreparing to unpack .../libfakeroot_1.31-1.2_amd64.deb ...\nUnpacking libfakeroot:amd64 (1.31-1.2) ...\nSelecting previously unselected package fakeroot.\nPreparing to unpack .../fakeroot_1.31-1.2_amd64.deb ...\nUnpacking fakeroot (1.31-1.2) ...\nSetting up libfakeroot:amd64 (1.31-1.2) ...\nSetting up fakeroot (1.31-1.2) ...\nupdate-alternatives: using /usr/bin/fakeroot-sysv to provide /usr/bin/fakeroot (fakeroot) in auto mode\nProcessing triggers for libc-bin (2.36-9+deb12u10) ...\nDONE 2.8s\n\n(shortened see NOTE above)\n\n--> RUN pip install --no-cache-dir pip -U && \tpip install --no-cache-dir \tdatasets \t\"huggingface-hub>=0.19\" \"hf_xet>=1.0.0,<2.0.0\" \"hf-transfer>=0.1.4\" \"protobuf<4\" \"click<8.1\" \"pydantic~=1.0\"\nRequirement already satisfied: pip in /usr/local/lib/python3.10/site-packages (23.0.1)\nCollecting pip\n  Downloading pip-25.1.1-py3-none-any.whl (1.8 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.8/1.8 MB 50.2 MB/s eta 0:00:00\nInstalling collected packages: pip\n  Attempting uninstall: pip\n    Found existing installation: pip 23.0.1\n    Uninstalling pip-23.0.1:\n      Successfully uninstalled pip-23.0.1\nSuccessfully installed pip-25.1.1\nCollecting datasets\n  Downloading datasets-3.6.0-py3-none-any.whl.metadata (19 kB)\nCollecting huggingface-hub>=0.19\n  Downloading huggingface_hub-0.32.4-py3-none-any.whl.metadata (14 kB)\nCollecting hf_xet<2.0.0,>=1.0.0\n  Downloading hf_xet-1.1.2-cp37-abi3-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (879 bytes)\nCollecting hf-transfer>=0.1.4\n  Downloading hf_transfer-0.1.9-cp38-abi3-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (1.7 kB)\nCollecting protobuf<4\n  Downloading protobuf-3.20.3-cp310-cp310-manylinux_2_12_x86_64.manylinux2010_x86_64.whl.metadata (679 bytes)\nCollecting click<8.1\n  Downloading click-8.0.4-py3-none-any.whl.metadata (3.2 kB)\nCollecting pydantic~=1.0\n  Downloading pydantic-1.10.22-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (154 kB)\nCollecting typing-extensions>=4.2.0 (from pydantic~=1.0)\n  Downloading typing_extensions-4.14.0-py3-none-any.whl.metadata (3.0 kB)\nCollecting filelock (from datasets)\n  Downloading filelock-3.18.0-py3-none-any.whl.metadata (2.9 kB)\nCollecting numpy>=1.17 (from datasets)\n  Downloading numpy-2.2.6-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (62 kB)\nCollecting pyarrow>=15.0.0 (from datasets)\n  Downloading pyarrow-20.0.0-cp310-cp310-manylinux_2_28_x86_64.whl.metadata (3.3 kB)\nCollecting dill<0.3.9,>=0.3.0 (from datasets)\n  Downloading dill-0.3.8-py3-none-any.whl.metadata (10 kB)\nCollecting pandas (from datasets)\n  Downloading pandas-2.2.3-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (89 kB)\nCollecting requests>=2.32.2 (from datasets)\n  Downloading requests-2.32.3-py3-none-any.whl.metadata (4.6 kB)\nCollecting tqdm>=4.66.3 (from datasets)\n  Downloading tqdm-4.67.1-py3-none-any.whl.metadata (57 kB)\nCollecting xxhash (from datasets)\n  Downloading xxhash-3.5.0-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (12 kB)\nCollecting multiprocess<0.70.17 (from datasets)\n  Downloading multiprocess-0.70.16-py310-none-any.whl.metadata (7.2 kB)\nCollecting fsspec<=2025.3.0,>=2023.1.0 (from fsspec[http]<=2025.3.0,>=2023.1.0->datasets)\n  Downloading fsspec-2025.3.0-py3-none-any.whl.metadata (11 kB)\nCollecting packaging (from datasets)\n  Downloading packaging-25.0-py3-none-any.whl.metadata (3.3 kB)\nCollecting pyyaml>=5.1 (from datasets)\n  Downloading PyYAML-6.0.2-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (2.1 kB)\nCollecting aiohttp!=4.0.0a0,!=4.0.0a1 (from fsspec[http]<=2025.3.0,>=2023.1.0->datasets)\n  Downloading aiohttp-3.12.7-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (7.6 kB)\nCollecting aiohappyeyeballs>=2.5.0 (from aiohttp!=4.0.0a0,!=4.0.0a1->fsspec[http]<=2025.3.0,>=2023.1.0->datasets)\n  Downloading aiohappyeyeballs-2.6.1-py3-none-any.whl.metadata (5.9 kB)\nCollecting aiosignal>=1.1.2 (from aiohttp!=4.0.0a0,!=4.0.0a1->fsspec[http]<=2025.3.0,>=2023.1.0->datasets)\n  Downloading aiosignal-1.3.2-py2.py3-none-any.whl.metadata (3.8 kB)\nCollecting async-timeout<6.0,>=4.0 (from aiohttp!=4.0.0a0,!=4.0.0a1->fsspec[http]<=2025.3.0,>=2023.1.0->datasets)\n  Downloading async_timeout-5.0.1-py3-none-any.whl.metadata (5.1 kB)\nCollecting attrs>=17.3.0 (from aiohttp!=4.0.0a0,!=4.0.0a1->fsspec[http]<=2025.3.0,>=2023.1.0->datasets)\n  Downloading attrs-25.3.0-py3-none-any.whl.metadata (10 kB)\nCollecting frozenlist>=1.1.1 (from aiohttp!=4.0.0a0,!=4.0.0a1->fsspec[http]<=2025.3.0,>=2023.1.0->datasets)\n  Downloading frozenlist-1.6.0-cp310-cp310-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (16 kB)\nCollecting multidict<7.0,>=4.5 (from aiohttp!=4.0.0a0,!=4.0.0a1->fsspec[http]<=2025.3.0,>=2023.1.0->datasets)\n  Downloading multidict-6.4.4-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (5.3 kB)\nCollecting propcache>=0.2.0 (from aiohttp!=4.0.0a0,!=4.0.0a1->fsspec[http]<=2025.3.0,>=2023.1.0->datasets)\n  Downloading propcache-0.3.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (10 kB)\nCollecting yarl<2.0,>=1.17.0 (from aiohttp!=4.0.0a0,!=4.0.0a1->fsspec[http]<=2025.3.0,>=2023.1.0->datasets)\n  Downloading yarl-1.20.0-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (72 kB)\nCollecting idna>=2.0 (from yarl<2.0,>=1.17.0->aiohttp!=4.0.0a0,!=4.0.0a1->fsspec[http]<=2025.3.0,>=2023.1.0->datasets)\n  Downloading idna-3.10-py3-none-any.whl.metadata (10 kB)\nCollecting charset-normalizer<4,>=2 (from requests>=2.32.2->datasets)\n  Downloading charset_normalizer-3.4.2-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (35 kB)\nCollecting urllib3<3,>=1.21.1 (from requests>=2.32.2->datasets)\n  Downloading urllib3-2.4.0-py3-none-any.whl.metadata (6.5 kB)\nCollecting certifi>=2017.4.17 (from requests>=2.32.2->datasets)\n  Downloading certifi-2025.4.26-py3-none-any.whl.metadata (2.5 kB)\nCollecting python-dateutil>=2.8.2 (from pandas->datasets)\n  Downloading python_dateutil-2.9.0.post0-py2.py3-none-any.whl.metadata (8.4 kB)\nCollecting pytz>=2020.1 (from pandas->datasets)\n  Downloading pytz-2025.2-py2.py3-none-any.whl.metadata (22 kB)\nCollecting tzdata>=2022.7 (from pandas->datasets)\n  Downloading tzdata-2025.2-py2.py3-none-any.whl.metadata (1.4 kB)\nCollecting six>=1.5 (from python-dateutil>=2.8.2->pandas->datasets)\n  Downloading six-1.17.0-py2.py3-none-any.whl.metadata (1.7 kB)\nDownloading hf_xet-1.1.2-cp37-abi3-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (5.2 MB)\n   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 5.2/5.2 MB 533.3 MB/s eta 0:00:00\nDownloading protobuf-3.20.3-cp310-cp310-manylinux_2_12_x86_64.manylinux2010_x86_64.whl (1.1 MB)\n   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.1/1.1 MB 325.6 MB/s eta 0:00:00\nDownloading click-8.0.4-py3-none-any.whl (97 kB)\nDownloading pydantic-1.10.22-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.3 MB)\n   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 3.3/3.3 MB 365.2 MB/s eta 0:00:00\nDownloading datasets-3.6.0-py3-none-any.whl (491 kB)\nDownloading dill-0.3.8-py3-none-any.whl (116 kB)\nDownloading fsspec-2025.3.0-py3-none-any.whl (193 kB)\nDownloading multiprocess-0.70.16-py310-none-any.whl (134 kB)\nDownloading huggingface_hub-0.32.4-py3-none-any.whl (512 kB)\nDownloading hf_transfer-0.1.9-cp38-abi3-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.6 MB)\n   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 3.6/3.6 MB 107.6 MB/s eta 0:00:00\nDownloading aiohttp-3.12.7-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (1.6 MB)\n   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.6/1.6 MB 578.9 MB/s eta 0:00:00\nDownloading async_timeout-5.0.1-py3-none-any.whl (6.2 kB)\nDownloading multidict-6.4.4-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (219 kB)\nDownloading yarl-1.20.0-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (333 kB)\nDownloading aiohappyeyeballs-2.6.1-py3-none-any.whl (15 kB)\nDownloading aiosignal-1.3.2-py2.py3-none-any.whl (7.6 kB)\nDownloading attrs-25.3.0-py3-none-any.whl (63 kB)\nDownloading frozenlist-1.6.0-cp310-cp310-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl (287 kB)\nDownloading idna-3.10-py3-none-any.whl (70 kB)\nDownloading numpy-2.2.6-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (16.8 MB)\n   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 16.8/16.8 MB 513.1 MB/s eta 0:00:00\nDownloading packaging-25.0-py3-none-any.whl (66 kB)\nDownloading propcache-0.3.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (206 kB)\nDownloading pyarrow-20.0.0-cp310-cp310-manylinux_2_28_x86_64.whl (42.3 MB)\n   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 42.3/42.3 MB 562.9 MB/s eta 0:00:00\nDownloading PyYAML-6.0.2-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (751 kB)\n   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 751.2/751.2 kB 629.0 MB/s eta 0:00:00\nDownloading requests-2.32.3-py3-none-any.whl (64 kB)\nDownloading charset_normalizer-3.4.2-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (149 kB)\nDownloading urllib3-2.4.0-py3-none-any.whl (128 kB)\nDownloading certifi-2025.4.26-py3-none-any.whl (159 kB)\nDownloading tqdm-4.67.1-py3-none-any.whl (78 kB)\nDownloading typing_extensions-4.14.0-py3-none-any.whl (43 kB)\nDownloading filelock-3.18.0-py3-none-any.whl (16 kB)\nDownloading pandas-2.2.3-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (13.1 MB)\n   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 13.1/13.1 MB 611.3 MB/s eta 0:00:00\nDownloading python_dateutil-2.9.0.post0-py2.py3-none-any.whl (229 kB)\nDownloading pytz-2025.2-py2.py3-none-any.whl (509 kB)\nDownloading six-1.17.0-py2.py3-none-any.whl (11 kB)\nDownloading tzdata-2025.2-py2.py3-none-any.whl (347 kB)\nDownloading xxhash-3.5.0-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (194 kB)\nInstalling collected packages: pytz, xxhash, urllib3, tzdata, typing-extensions, tqdm, six, pyyaml, pyarrow, protobuf, propcache, packaging, numpy, idna, hf_xet, hf-transfer, fsspec, frozenlist, filelock, dill, click, charset-normalizer, certifi, attrs, async-timeout, aiohappyeyeballs, requests, python-dateutil, pydantic, multiprocess, multidict, aiosignal, yarl, pandas, huggingface-hub, aiohttp, datasets\n\nSuccessfully installed aiohappyeyeballs-2.6.1 aiohttp-3.12.7 aiosignal-1.3.2 async-timeout-5.0.1 attrs-25.3.0 certifi-2025.4.26 charset-normalizer-3.4.2 click-8.0.4 datasets-3.6.0 dill-0.3.8 filelock-3.18.0 frozenlist-1.6.0 fsspec-2025.3.0 hf-transfer-0.1.9 hf_xet-1.1.2 huggingface-hub-0.32.4 idna-3.10 multidict-6.4.4 multiprocess-0.70.16 numpy-2.2.6 packaging-25.0 pandas-2.2.3 propcache-0.3.1 protobuf-3.20.3 pyarrow-20.0.0 pydantic-1.10.22 python-dateutil-2.9.0.post0 pytz-2025.2 pyyaml-6.0.2 requests-2.32.3 six-1.17.0 tqdm-4.67.1 typing-extensions-4.14.0 tzdata-2025.2 urllib3-2.4.0 xxhash-3.5.0 yarl-1.20.0\nDONE 15.9s\n\n--> RUN \tapt-get update && \tapt-get install -y curl && \tcurl -fsSL https://deb.nodesource.com/setup_20.x | bash - && \tapt-get install -y nodejs && \trm -rf /var/lib/apt/lists/* && apt-get clean\nGet:1 http://deb.debian.org/debian bookworm InRelease [151 kB]\nGet:2 http://deb.debian.org/debian bookworm-updates InRelease [55.4 kB]\nGet:3 http://deb.debian.org/debian-security bookworm-security InRelease [48.0 kB]\nGet:4 http://deb.debian.org/debian bookworm/main amd64 Packages [8793 kB]\nGet:5 http://deb.debian.org/debian bookworm-updates/main amd64 Packages [512 B]\nGet:6 http://deb.debian.org/debian-security bookworm-security/main amd64 Packages [265 kB]\nFetched 9313 kB in 1s (9458 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\ncurl is already the newest version (7.88.1-10+deb12u12).\n0 upgraded, 0 newly installed, 0 to remove and 3 not upgraded.\n2025-06-03 17:43:49 - Installing pre-requisites\nHit:1 http://deb.debian.org/debian bookworm InRelease\nHit:2 http://deb.debian.org/debian bookworm-updates InRelease\nHit:3 http://deb.debian.org/debian-security bookworm-security InRelease\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nca-certificates is already the newest version (20230311).\ncurl is already the newest version (7.88.1-10+deb12u12).\ngnupg is already the newest version (2.2.40-1.1).\nThe following NEW packages will be installed:\n  apt-transport-https\n0 upgraded, 1 newly installed, 0 to remove and 3 not upgraded.\nNeed to get 25.2 kB of archives.\nAfter this operation, 35.8 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian bookworm/main amd64 apt-transport-https all 2.6.1 [25.2 kB]\ndebconf: delaying package configuration, since apt-utils is not installed\nFetched 25.2 kB in 0s (1746 kB/s)\nSelecting previously unselected package apt-transport-https.\n(Reading database ... \n(Reading database ... 5%\n(Reading database ... 10%\n(Reading database ... 15%\n(Reading database ... 20%\n(Reading database ... 25%\n(Reading database ... 30%\n(Reading database ... 35%\n(Reading database ... 40%\n(Reading database ... 45%\n(Reading database ... 50%\n(Reading database ... 55%\n(Reading database ... 60%\n(Reading database ... 65%\n(Reading database ... 70%\n(Reading database ... 75%\n(Reading database ... 80%\n(Reading database ... 85%\n(Reading database ... 90%\n(Reading database ... 95%\n(Reading database ... 100%\n(Reading database ... 29632 files and directories currently installed.)\nPreparing to unpack .../apt-transport-https_2.6.1_all.deb ...\nUnpacking apt-transport-https (2.6.1) ...\nSetting up apt-transport-https (2.6.1) ...\nHit:1 http://deb.debian.org/debian bookworm InRelease\nHit:2 http://deb.debian.org/debian bookworm-updates InRelease\nHit:3 http://deb.debian.org/debian-security bookworm-security InRelease\nGet:4 https://deb.nodesource.com/node_20.x nodistro InRelease [12.1 kB]\nGet:5 https://deb.nodesource.com/node_20.x nodistro/main amd64 Packages [11.5 kB]\nFetched 23.7 kB in 0s (59.0 kB/s)\nReading package lists...\n2025-06-03 17:43:52 - Repository configured successfully.\n2025-06-03 17:43:52 - To install Node.js, run: apt-get install nodejs -y\n2025-06-03 17:43:52 - You can use N|solid Runtime as a node.js alternative\n2025-06-03 17:43:52 - To install N|solid Runtime, run: apt-get install nsolid -y \n\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following NEW packages will be installed:\n  nodejs\n0 upgraded, 1 newly installed, 0 to remove and 3 not upgraded.\nNeed to get 32.0 MB of archives.\nAfter this operation, 199 MB of additional disk space will be used.\nGet:1 https://deb.nodesource.com/node_20.x nodistro/main amd64 nodejs amd64 20.19.2-1nodesource1 [32.0 MB]\ndebconf: delaying package configuration, since apt-utils is not installed\nFetched 32.0 MB in 0s (113 MB/s)\nSelecting previously unselected package nodejs.\n(Reading database ... \n(Reading database ... 5%\n(Reading database ... 10%\n(Reading database ... 15%\n(Reading database ... 20%\n(Reading database ... 25%\n(Reading database ... 30%\n(Reading database ... 35%\n(Reading database ... 40%\n(Reading database ... 45%\n(Reading database ... 50%\n(Reading database ... 55%\n(Reading database ... 60%\n(Reading database ... 65%\n(Reading database ... 70%\n(Reading database ... 75%\n(Reading database ... 80%\n(Reading database ... 85%\n(Reading database ... 90%\n(Reading database ... 95%\n(Reading database ... 100%\n(Reading database ... 29636 files and directories currently installed.)\nPreparing to unpack .../nodejs_20.19.2-1nodesource1_amd64.deb ...\nUnpacking nodejs (20.19.2-1nodesource1) ...\nSetting up nodejs (20.19.2-1nodesource1) ...\nDONE 9.4s\n\n--> RUN --mount=target=/tmp/requirements.txt,source=requirements.txt     pip install --no-cache-dir -r /tmp/requirements.txt\nERROR: Could not find a version that satisfies the requirement gradio_myfirstcomponent (from versions: none)\nERROR: No matching distribution found for gradio_myfirstcomponent\n\n--> ERROR: process \"/bin/sh -c pip install --no-cache-dir -r /tmp/requirements.txt\" did not complete successfully: exit code: 1\n```\n\n### System Info\n\n```shell\nGradio Environment Information:\n------------------------------\nOperating System: Darwin\ngradio version: 5.32.1\ngradio_client version: 1.10.2\n\n------------------------------------------------\ngradio dependencies in your environment:\n\naiofiles: 24.1.0\nanyio: 4.9.0\naudioop-lts: 0.2.1\nfastapi: 0.115.12\nffmpy: 0.5.0\ngradio-client: 1.10.2\ngroovy: 0.1.2\nhttpx: 0.28.1\nhuggingface-hub: 0.32.3\njinja2: 3.1.6\nmarkupsafe: 3.0.2\nnumpy: 2.2.6\norjson: 3.10.18\npackaging: 25.0\npandas: 2.2.3\npillow: 11.2.1\npydantic: 2.11.5\npydub: 0.25.1\npython-multipart: 0.0.20\npyyaml: 6.0.2\nruff: 0.11.12\nsafehttpx: 0.1.6\nsemantic-version: 2.10.0\nstarlette: 0.46.2\ntomlkit: 0.13.2\ntyper: 0.16.0\ntyping-extensions: 4.13.2\nurllib3: 2.4.0\nuvicorn: 0.34.2\nmcp: 1.9.0\npydantic: 2.11.5\nauthlib is not installed.\nitsdangerous is not installed.\n\n\ngradio_client dependencies in your environment:\n\nfsspec: 2025.5.1\nhttpx: 0.28.1\nhuggingface-hub: 0.32.3\npackaging: 25.0\ntyping-extensions: 4.13.2\nwebsockets: 15.0.1\n```\n\n### Severity\n\nBlocking usage of gradio",
    "comments": [
      {
        "user": "abidlabs",
        "body": "Hi @crcdng it looks like the component `gradio_myfirstcomponent` didn't get published to pypi. Can you confirm whether or not you published to pypi?"
      }
    ]
  },
  {
    "issue_number": 11316,
    "title": "Add the showing of the armature in `gr.Model3D`",
    "author": "MohamedAliRashad",
    "state": "open",
    "created_at": "2025-06-03T05:11:43Z",
    "updated_at": "2025-06-03T17:55:40Z",
    "labels": [
      "enhancement"
    ],
    "body": "- [x] I have searched to see if a similar issue already exists.\n\n\n**Is your feature request related to a problem? Please describe.**  \nYes, I want to show my model rigged after a process i did it on it\n\n**Describe the solution you'd like**  \nBased on my humble knowledge `gr.Model3D` is using babylonjs so something like this would be nice:\nhttps://doc.babylonjs.com/toolsAndResources/inspector/skeletonViewer/\n",
    "comments": []
  },
  {
    "issue_number": 11322,
    "title": "A Space that is `gr.load`-ed doesn't stream and has slow performance",
    "author": "djaffer",
    "state": "open",
    "created_at": "2025-06-03T17:31:12Z",
    "updated_at": "2025-06-03T17:46:27Z",
    "labels": [
      "bug"
    ],
    "body": "### Describe the bug\n\nI have nested gradio, the streaming has a significant lag between directly using the nested gradio vs using the actual gradio.\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\nSlow performance on the gradio which is nesting another gradio.\n\nhttps://geeek-askcyph-chat.hf.space\n\n```\nimport gradio as gr\nimport os\n\n\n\nwith gr.Blocks(fill_height=True,fill_width=True) as demo:\n    loaded_demo = gr.load(model, src=\"spaces\", token=token)\ndemo.launch(show_api=False, show_error=False, quiet=True, debug=False)\n\n```\n\n\n\n\n\n### Screenshot\n\nParent gradio working good. Streaming working\n![Image](https://github.com/user-attachments/assets/bd8a666c-7419-49c0-a1ab-d583fd2cbb59)\n\nChild gradio. Streaming doesn't work and has significant lag.\n![Image](https://github.com/user-attachments/assets/f2ffcf15-0fd3-4f40-9269-ccaea4796675)\n\n\n### Logs\n\n```shell\n\n```\n\n### System Info\n\n```shell\ngradio: 5.32.1\n```\n\n### Severity\n\nI can work around it",
    "comments": []
  },
  {
    "issue_number": 6499,
    "title": "Add event to `gr.AnnotatedImage` that allows getting coordinates",
    "author": "jumutc",
    "state": "open",
    "created_at": "2023-11-20T13:59:24Z",
    "updated_at": "2025-06-03T16:01:09Z",
    "labels": [
      "enhancement",
      "needs designing"
    ],
    "body": "\r\n\r\n- [ x] I have searched to see if a similar issue already exists.\r\n\r\n\r\n**Is your feature request related to a problem? Please describe.**  \r\nNow there is no click event available for `AnnotatedImage` and it is impossible, for instance, to do anything with annotations being displayed on the top of the image. Imagine you would like to re-label them or do just anything else Gradio framework is capable of.\r\n\r\n**Describe the solution you'd like**  \r\n`AnnotatedImage` class and other related frontend files should we adjusted accordingly.\r\n\r\n**Additional context**  \r\nNo additional files or context",
    "comments": [
      {
        "user": "abidlabs",
        "body": "Hi @jumutc the `gr.AnnotatedImage` component supports a `.select()` event which accomplishes what you are describing. Please see https://github.com/gradio-app/gradio/blob/379b6f662ebacc04298da93ef4cd61922c2fdf71/demo/image_selections/run.py for an example"
      },
      {
        "user": "jumutc",
        "body": "@abidlabs there is Image that supports it and for AnnotatedImage nothing close exists. "
      },
      {
        "user": "jumutc",
        "body": "I would like to contribute the PR which solves this issue."
      }
    ]
  },
  {
    "issue_number": 9581,
    "title": "`gr.Audio(sources=\"microphone\")` receives only mono channel audio - I need a multi channel audio record.",
    "author": "hyunsu0803",
    "state": "open",
    "created_at": "2024-10-08T06:35:15Z",
    "updated_at": "2025-06-03T15:34:58Z",
    "labels": [
      "enhancement"
    ],
    "body": "### Describe the bug\r\n\r\nI need to receive a multi-channel audio record but `gr.Audio(sources=\"microphone\") ` seems to receive only a mono channel audio. \r\nI wonder if gradio is only providing the mono recording. I couldn't find any information about this issue. Thank you.\r\n\r\n### Have you searched existing issues?  🔎\r\n\r\n- [X] I have searched and found no existing issues\r\n\r\n### Reproduction\r\n\r\n```\r\nimport gradio as gr\r\nimport numpy as np\r\n\r\ndef transcribe(audio):\r\n    sr, y = audio\r\n    print(sr)\r\n    print(y.shape)    \r\n    \r\n    return None\r\n\r\ndemo = gr.Interface(\r\n    transcribe,\r\n    gr.Audio(sources=\"microphone\", format=\"wav\"),\r\n    \"text\",\r\n)\r\n\r\ndemo.launch()\r\n```\r\n\r\n===============\r\nExample output\r\n44100\r\n(234516, )\r\n\r\n### Screenshot\r\n\r\n_No response_\r\n\r\n### Logs\r\n\r\n_No response_\r\n\r\n### System Info\r\n\r\n```shell\r\nGradio Environment Information:\r\n------------------------------\r\nOperating System: Linux\r\ngradio version: 4.41.0\r\ngradio_client version: 1.3.0\r\n\r\n------------------------------------------------\r\ngradio dependencies in your environment:\r\n\r\naiofiles: 23.2.1\r\nanyio: 4.4.0\r\nfastapi: 0.112.1\r\nffmpy: 0.4.0\r\ngradio-client==1.3.0 is not installed.\r\nhttpx: 0.27.0\r\nhuggingface-hub: 0.20.2\r\nimportlib-resources: 6.4.3\r\njinja2: 3.1.2\r\nmarkupsafe: 2.1.3\r\nmatplotlib: 3.8.0\r\nnumpy: 1.26.3\r\norjson: 3.10.7\r\npackaging: 23.1\r\npandas: 2.1.4\r\npillow: 10.0.1\r\npydantic: 2.8.2\r\npydub: 0.25.1\r\npython-multipart: 0.0.9\r\npyyaml: 6.0.1\r\nruff: 0.6.1\r\nsemantic-version: 2.10.0\r\ntomlkit==0.12.0 is not installed.\r\ntyper: 0.12.4\r\ntyping-extensions: 4.12.2\r\nurllib3: 2.2.2\r\nuvicorn: 0.30.6\r\nauthlib; extra == 'oauth' is not installed.\r\nitsdangerous; extra == 'oauth' is not installed.\r\n\r\n\r\ngradio_client dependencies in your environment:\r\n\r\nfsspec: 2023.12.2\r\nhttpx: 0.27.0\r\nhuggingface-hub: 0.20.2\r\npackaging: 23.1\r\ntyping-extensions: 4.12.2\r\nwebsockets: 12.0\r\n```\r\n\r\n\r\n### Severity\r\n\r\nI can work around it",
    "comments": []
  },
  {
    "issue_number": 11303,
    "title": "Chatbot streaming doesn't work for tool display in async function",
    "author": "mc-marcocheng",
    "state": "closed",
    "created_at": "2025-05-30T16:37:21Z",
    "updated_at": "2025-06-03T14:13:28Z",
    "labels": [
      "bug",
      "pending clarification"
    ],
    "body": "### Describe the bug\n\nThe tools/accordions are not displayed until the async function has completed. This is not the case for synchronous functions.\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\n```python\nimport time\nimport gradio as gr\n\nasync def scheduled_display_async():\n    thinking_id = str(time.time())\n    messages = [\n        gr.ChatMessage(role=\"assistant\", content=\"\", metadata={\"title\": \"1\", \"id\": thinking_id, \"status\": \"pending\"}),\n    ]\n    yield messages\n    for i in range(2, 10):\n        time.sleep(2)\n        print(f\"Async: Sending message {i}\")\n        messages.append(gr.ChatMessage(role=\"assistant\", content=f\"Content {i}\", metadata={\"title\": str(i), \"parent_id\": thinking_id}))\n        yield messages[:i]\n\ndef scheduled_display():\n    thinking_id = str(time.time())\n    messages = [\n        gr.ChatMessage(role=\"assistant\", content=\"\", metadata={\"title\": \"1\", \"id\": thinking_id, \"status\": \"pending\"}),\n    ]\n    yield messages\n    for i in range(2, 10):\n        time.sleep(2)\n        print(f\"Sync: Sending message {i}\")\n        messages.append(gr.ChatMessage(role=\"assistant\", content=f\"Content {i}\", metadata={\"title\": str(i), \"parent_id\": thinking_id}))\n        yield messages[:i]\n\n\nwith gr.Blocks() as demo:\n    chatbot = gr.Chatbot(type=\"messages\")\n    chatbot_2 = gr.Chatbot(type=\"messages\")\n    demo.load(scheduled_display_async, None, chatbot)\n    demo.load(scheduled_display, None, chatbot_2)\n\ndemo.launch()\n```\n\n\n### Screenshot\n\n_No response_\n\n### Logs\n\n```shell\n\n```\n\n### System Info\n\n```shell\nOS: Windows 11 and Ubuntu 22.04\nBrowser: Chrome\nGradio: 5.31.0\n```\n\n### Severity\n\nI can work around it",
    "comments": [
      {
        "user": "freddyaboulton",
        "body": "Hi @mc-marcocheng ! You need to `asyncio.sleep` instead of using `time.sleep` when running an async function."
      },
      {
        "user": "mc-marcocheng",
        "body": "You are right!"
      }
    ]
  },
  {
    "issue_number": 11313,
    "title": "Signup for hackathon - 404 page",
    "author": "1o5am",
    "state": "closed",
    "created_at": "2025-06-02T13:38:09Z",
    "updated_at": "2025-06-03T13:43:12Z",
    "labels": [
      "bug"
    ],
    "body": "### Describe the bug\n\nHey there, looking to sign up for hackathon but hitting 404 page!\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\n```python\nimport gradio as gr\n\n```\n\n\n### Screenshot\n\n<img width=\"1699\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/e7a17b7f-7ceb-47fe-9b54-add6cef3d35d\" />\n\n### Logs\n\n```shell\n\n```\n\n### System Info\n\n```shell\nn/a\n```\n\n### Severity\n\nBlocking usage of gradio",
    "comments": [
      {
        "user": "freddyaboulton",
        "body": "I think this is fixed @1o5am ! Here is the org where you can sign up: https://huggingface.co/Agents-MCP-Hackathon"
      }
    ]
  },
  {
    "issue_number": 11312,
    "title": "Gradio Model3D is not showing the 3d model",
    "author": "MohamedAliRashad",
    "state": "closed",
    "created_at": "2025-06-02T13:05:38Z",
    "updated_at": "2025-06-03T05:08:32Z",
    "labels": [
      "bug"
    ],
    "body": "### Describe the bug\n\nThe 3d models are not showed and the component are giving me blank appear like this:\n\n![Image](https://github.com/user-attachments/assets/43c35c33-e3fe-4614-a659-935ff2dc311b)\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\n```python\nimport gradio as gr\nimport os\n\n\ndef load_mesh(mesh_file_name):\n    return mesh_file_name\n\n\ndemo = gr.Interface(\n    fn=load_mesh,\n    inputs=gr.Model3D(),\n    outputs=gr.Model3D(\n            clear_color=[0.0, 0.0, 0.0, 0.0],  label=\"3D Model\"),\n    examples=[\n        [os.path.join(os.path.dirname(__file__), \"files/Bunny.obj\")],\n        [os.path.join(os.path.dirname(__file__), \"files/Duck.glb\")],\n        [os.path.join(os.path.dirname(__file__), \"files/Fox.gltf\")],\n        [os.path.join(os.path.dirname(__file__), \"files/face.obj\")],\n    ],\n)\n\nif __name__ == \"__main__\":\n    demo.launch()\n```\n\n\n### Screenshot\n\n_No response_\n\n### Logs\n\n```shell\n\n```\n\n### System Info\n\n```shell\nGradio Environment Information:\n------------------------------\nOperating System: Linux\ngradio version: 5.32.0\ngradio_client version: 1.10.2\n\n------------------------------------------------\ngradio dependencies in your environment:\n\naiofiles: 24.1.0\nanyio: 4.9.0\naudioop-lts is not installed.\nfastapi: 0.115.12\nffmpy: 0.5.0\ngradio-client: 1.10.2\ngroovy: 0.1.2\nhttpx: 0.28.1\nhuggingface-hub: 0.32.3\njinja2: 3.1.6\nmarkupsafe: 3.0.2\nnumpy: 1.26.4\norjson: 3.10.18\npackaging: 24.2\npandas: 2.2.3\npillow: 11.2.1\npydantic: 2.11.5\npydub: 0.25.1\npython-multipart: 0.0.20\npyyaml: 6.0.2\nruff: 0.11.12\nsafehttpx: 0.1.6\nsemantic-version: 2.10.0\nstarlette: 0.46.2\ntomlkit: 0.13.2\ntyper: 0.16.0\ntyping-extensions: 4.13.2\nurllib3: 2.4.0\nuvicorn: 0.34.3\nmcp is not installed.\npydantic: 2.11.5\nauthlib is not installed.\nitsdangerous: 2.2.0\n\n\ngradio_client dependencies in your environment:\n\nfsspec: 2025.5.1\nhttpx: 0.28.1\nhuggingface-hub: 0.32.3\npackaging: 24.2\ntyping-extensions: 4.13.2\nwebsockets: 15.0.1\n```\n\n### Severity\n\nBlocking usage of gradio",
    "comments": [
      {
        "user": "MohamedAliRashad",
        "body": "After debugging using chrome console i discovered that it's a webgpu thing if you enabled it using `chrome://flags/#enable-unsafe-webgpu` you will have your 3d models shown"
      }
    ]
  },
  {
    "issue_number": 8277,
    "title": "Can gradio add a vertical scrollbar to the textbox?",
    "author": "yiya1989",
    "state": "open",
    "created_at": "2024-05-13T15:30:50Z",
    "updated_at": "2025-06-03T01:31:43Z",
    "labels": [
      "enhancement",
      "Priority"
    ],
    "body": "- [x] I have searched to see if a similar issue already exists.\r\nhttps://github.com/gradio-app/gradio/issues/6977\r\nBut this issue has been closed\r\n\r\n**Is your feature request related to a problem? Please describe.**  \r\nWhen my text is too lang, it's hard to view all the txt because the Textbox has no vertical scrollbar .\r\n\r\n**Describe the solution you'd like**  \r\nAdd  a vertical scrollbar to the left Textbox.\r\n\r\n**Additional context**  \r\nLike this issue said:  [Add a scrollbar to notebook/default textboxes](https://github.com/oobabooga/text-generation-webui/pull/3403)\r\n\r\n![image](https://github.com/gradio-app/gradio/assets/3204394/6d119d9c-3786-45e2-8fc6-dd5b35f48270)",
    "comments": [
      {
        "user": "abidlabs",
        "body": "Hi @yiya1989 you should already be able to scroll the textbox if it grows too long. The scrollbar is not needed and from a design perspective, we've opted out of adding it by default. If you'd like to add it, I'd suggest using custom css, as was done in the linked PR: https://github.com/oobabooga/text-generation-webui/commit/6afc1a193bb1d68deccd569c89d70ee9bf35246c"
      },
      {
        "user": "yiya1989",
        "body": "> Hi @yiya1989 you should already be able to scroll the textbox if it grows too long. The scrollbar is not needed and from a design perspective, we've opted out of adding it by default. If you'd like to add it, I'd suggest using custom css, as was done in the linked PR: [oobabooga/text-generation-webui@6afc1a1](https://github.com/oobabooga/text-generation-webui/commit/6afc1a193bb1d68deccd569c89d70ee9bf35246c)\r\n\r\n@abidlabs Hello! When the txt is 50 lines and the Textbox limit max 20 lines, it is useful to just scroll the textbox as the default.\r\nBut when the txt lines reach to 500 lines, It's necessary to has a vertical scrollbar. \r\nCan we has a default vertical scrollbar which can control by a switch default False? \r\nJust like current github textbox editor, it also has the  vertical scrollbar."
      },
      {
        "user": "umarbutler",
        "body": "+1"
      }
    ]
  },
  {
    "issue_number": 10836,
    "title": "Suggestions Regarding the Autoscroll Feature in the Chatbot",
    "author": "MeliodasZHAO",
    "state": "closed",
    "created_at": "2025-03-19T13:39:26Z",
    "updated_at": "2025-06-02T19:28:33Z",
    "labels": [
      "bug",
      "Priority",
      "💬 Chatbot"
    ],
    "body": "I've noticed that when the autoscroll parameter is set to True, the chat window automatically scrolls to the bottom. However, if I manually scroll up within the conversation (i.e., not at the very bottom), and then switch away from the chat and return, it doesn't automatically scroll back to the bottom. At the same time, I observed that a new button appears, with the class name \"Scroll-down-button-contanier\". Clicking this button immediately scrolls to the bottom, which is excellent.\n\nHowever, the trigger condition for this button seems too limited. It only appears in the specific scenario I described above. I believe the logic for displaying this button should be more granular and precise. For example, the button should appear whenever the user scrolls upward, or more generally, whenever the chat window is not already at the very bottom. This would make it consistently available when needed.\n\n![Image](https://github.com/user-attachments/assets/ff873159-4a1f-468f-868a-cb9a5ffa727f)",
    "comments": []
  },
  {
    "issue_number": 11309,
    "title": "Incomplete Browser Test Docs",
    "author": "deckar01",
    "state": "closed",
    "created_at": "2025-06-01T02:01:08Z",
    "updated_at": "2025-06-02T19:26:02Z",
    "labels": [
      "bug"
    ],
    "body": "### Describe the bug\n\nThe contributing guide states \"To run browser tests: `pnpm test:browser`\", but that fails even when every other setup instruction has been followed. The `js` readme has a \"functional test\" section with a closer, but still incomplete set of setup instructions. The `steps` of the `.github/workflows/test-functional.yml` have to be ran manually.\n\nComplete steps:\n\n```sh\npip install -r demo/outbreak_forecast/requirements.txt\npip install -r demo/stream_video_out/requirements.txt\npnpm exec playwright install chromium firefox\npnpm exec playwright install-deps chromium firefox\npnpm --filter @gradio/utils --filter @gradio/theme package\n\npnpm test:browser:full\n```\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\n```sh\n# Follow CONTRIBUTING.md in a fresh environment, then\npnpm test:browser:full\n```\n\n\n### Screenshot\n\n_No response_\n\n### Logs\n\n```shell\nMissing `cv2` and `bokeh` python modules.\nMissing js imports for `utils` in `tootils`.\nPlaywright errors saying no tests were collected.\n```\n\n### System Info\n\n```shell\nReplicated on multiple systems and inside the dev container.\n```\n\n### Severity\n\nI can work around it",
    "comments": []
  },
  {
    "issue_number": 11308,
    "title": "PNPM Version",
    "author": "deckar01",
    "state": "closed",
    "created_at": "2025-05-31T22:19:42Z",
    "updated_at": "2025-06-02T19:26:02Z",
    "labels": [
      "bug"
    ],
    "body": "### Describe the bug\n\nThe pnpm version (`latest`/`10`) installed by the dev container node feature is not compatible with the `package.json` engine dependency (`^9`). The contributing docs state `8.1+`, which is also wrong.\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\n```sh\nnpm install -g pnpm@latest\n./scripts/run_frontend.sh\n```\n\n\n### Screenshot\n\n_No response_\n\n### Logs\n\n```shell\nRunning the frontend...\n ERR_PNPM_UNSUPPORTED_ENGINE  Unsupported environment (bad pnpm and/or Node.js version)\n\nYour pnpm version is incompatible with \"/Users/deckar01/src/gradio\".\n\nExpected version: ^9\nGot: 10.11.0\n\nThis is happening because the package's manifest has an engines.pnpm field specified.\nTo fix this issue, install the required pnpm version globally.\n\nTo install the latest version of pnpm, run \"pnpm i -g pnpm\".\nTo check your pnpm version, run \"pnpm -v\".\n```\n\n### System Info\n\n```shell\nReplicated on multiple systems (and in dev container) using `main` branch.\n```\n\n### Severity\n\nI can work around it",
    "comments": []
  },
  {
    "issue_number": 11281,
    "title": "DataFrame Group Flicker",
    "author": "deckar01",
    "state": "closed",
    "created_at": "2025-05-28T16:14:03Z",
    "updated_at": "2025-06-02T19:26:01Z",
    "labels": [
      "bug"
    ],
    "body": "### Describe the bug\n\n`DataFrame` rows inside of `Group` flicker when scrolling.\n\n## Underlying Issue\n\nRegression introduced in #5342.\n\nEven rows use `tr:nth-child(2n)`, but odd rows use `.row-odd`. The virtual table optimization works by pulling hidden table rows out of the DOM, so using the `nth` selector for row coloring was incorrect. In situations where a `tr` is neither `.row-odd` or `:nth-child(2n)`, the `background` property is undefined and the row shows through to the table's parent container. The bug is not visible outside of `Group`, because `--table-even-background-fill` matches `--body-background-fill`. Containers like `Group` have a different background color and will cause the unstyled even rows to flicker while scrolling.\n\n\n\n```css\ntbody > :global(tr:nth-child(even)) {\n    background: var(--table-even-background-fill);\n}\n```\n[afac000/VirtualTable.svelte#L303-305](https://github.com/gradio-app/gradio/commit/afac0006337ce2840cf497cd65691f2f60ee5912#diff-81df84cd7cdc064acd4b95af1bd7c58ab3180ac3637dd47cd0db0eff7c8155a2R303-R305)\n\n```css\n.row_odd {\n    background: var(--table-odd-background-fill);\n}\n```\n\n[afac000/Table.svelte#L958-960](https://github.com/gradio-app/gradio/commit/afac0006337ce2840cf497cd65691f2f60ee5912#diff-6a537b540b0096245eb8d3bf51e1f16146f68f7a5af4c126394f00886f77fdd2R958-R960)\n\n## Fix\n\nReplace `tr:nth-child(even)` with `tr`.\n\nTo avoid these getting out of sync again in the future it might be a good idea to move the even selector back into `Table` (where it was before) so that `tr.row-odd` is an obvious override of `tr`.\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\n```py\nimport gradio as gr\nwith gr.Blocks() as demo:\n    with gr.Group():\n        gr.DataFrame([[x for x in range(4)] for y in range(40)])\ndemo.launch()\n```\n\n\n### Screenshot\n\nhttps://github.com/user-attachments/assets/6037eba7-66cc-4523-86d9-0142f4b6d4ce\n\n### Logs\n\n```shell\n\n```\n\n### System Info\n\n```shell\ngradio version: 5.29.1\n(reproduced on other systems)\n```\n\n### Severity\n\nI can work around it",
    "comments": [
      {
        "user": "deckar01",
        "body": "## Workaround\n\n```py\npatch11281 = \"tr:not(.row-odd) { background: var(--table-even-background-fill); }\"\nwith gr.Blocks(css=patch11281) as demo:\n    ...\n```"
      }
    ]
  },
  {
    "issue_number": 11203,
    "title": "Broken demo spaces on some guides",
    "author": "aliabd",
    "state": "closed",
    "created_at": "2025-05-15T15:57:39Z",
    "updated_at": "2025-06-02T13:13:56Z",
    "labels": [
      "docs/website"
    ],
    "body": "Need to go through all the guides and make sure spaces are working and hosted in the gradio org \n\nMostly an issue with older guides, eg https://www.gradio.app/guides/creating-a-dashboard-from-supabase-data#conclusion",
    "comments": []
  },
  {
    "issue_number": 3728,
    "title": "Gradio Chatbot: Text with image/video/audio embedding in same bubble",
    "author": "ffahmed",
    "state": "closed",
    "created_at": "2023-04-02T00:38:05Z",
    "updated_at": "2025-06-02T07:54:29Z",
    "labels": [
      "pending clarification"
    ],
    "body": "As per discussion https://discord.com/channels/879548962464493619/1083525183089954847/1091793702403453029\r\nrequesting this feature:\r\n\r\nDetails:\r\nI am trying to embed text with audio file. \r\nBasically I want text and audio file should appear in the same chat bubble.\r\n\r\nFor example The following code will just show the audio it in a separate bubble. \r\nI want the audio file to have some text before and after it. is it possible?\r\n\r\ncurrent code is :\r\nstate = state + [(None, (\"images/western_showdown.mp3\",))]\r\ni want something like this \r\nstate = state + [(None, \"here is an audio file\"+(\"images/western_showdown.mp3\",))]\r\n\r\nThanks",
    "comments": [
      {
        "user": "abidlabs",
        "body": "Hi @ffahmed that is not currently possible. Just to understand, why do you need it to be in the same bubble as opposed to consecutive bubbles?"
      },
      {
        "user": "ffahmed",
        "body": "I am working on a bot, where the bot may reply a long paragraph with\npossible links to image, audio, video. A image/video/audio embedding might\nbe right in the middle/end of a sentence and in that way we know this\nvideo/image/audio related to this sentence. instead of users to make the\nlink and go to different page, I want them to be viewed/played right there.\n\nThanks\nFaisal\n\nOn Sat, Apr 1, 2023 at 11:19 PM Abubakar Abid ***@***.***>\nwrote:\n\n> Hi @ffahmed <https://github.com/ffahmed> that is not currently possible.\n> Just to understand, why do you need it to be in the same bubble as opposed\n> to consecutive bubbles?\n>\n> —\n> Reply to this email directly, view it on GitHub\n> <https://github.com/gradio-app/gradio/issues/3728#issuecomment-1493236714>,\n> or unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AD3JHX2QWCBMQS4KFJ5SFJDW7EK6FANCNFSM6AAAAAAWP6LFSY>\n> .\n> You are receiving this because you were mentioned.Message ID:\n> ***@***.***>\n>\n\n\n-- \nFaisal Ahmed, PhD\nVision+Language\n"
      },
      {
        "user": "abidlabs",
        "body": "Hi @ffahmed you can essentially achieve this by sending multiple messages in a row, like this:\r\n\r\n```py\r\nimport gradio as gr\r\n\r\nwith gr.Blocks() as demo:\r\n    gr.Chatbot([\r\n        (\"Show me an image and an audio file\", \"Here is an image\"), \r\n        (None, (\"lion.jpg\",)), \r\n        (None, \"And here is an audio file:\"), \r\n        (None, (\"cantina.wav\",))\r\n    ]).style(height=1000)\r\n\r\ndemo.launch()\r\n```\r\n\r\n<img width=\"932\" alt=\"image\" src=\"https://user-images.githubusercontent.com/1778297/229815458-54757fc8-c9e4-4fe6-b2e6-e51537eed51f.png\">\r\n\r\nAlthough it's not as seamless as sending files embedded in a single message, I think we'll stick to this format for now because (1) we need to process files properly to make sure that files from the local filesystem are not accidentally accessed through Gradio (2) we don't want to provide multiple ways to accomplish this in Gradio"
      }
    ]
  },
  {
    "issue_number": 11310,
    "title": "Remove external dependencies from e2e tests",
    "author": "pngwn",
    "state": "open",
    "created_at": "2025-06-01T08:10:57Z",
    "updated_at": "2025-06-01T08:10:57Z",
    "labels": [
      "testing"
    ],
    "body": "- [x] I have searched to see if a similar issue already exists.\n\nSome of our end to end tests require external python dependencies. This seems unnecessary. It complicates setup, adds additional time to CI (they aren't cached), and introduces an additional failure point for an already flaky process.\n\nSee https://github.com/gradio-app/gradio/pull/11282/files#r2118862321 and #11309. \n\nMore of a note to myself when I'm refactoring them.",
    "comments": []
  },
  {
    "issue_number": 11164,
    "title": "should the `theme.css` href be a relative path from the page url instead of relative to `config.root`?",
    "author": "sharon-wang",
    "state": "open",
    "created_at": "2025-05-08T15:56:24Z",
    "updated_at": "2025-06-01T03:45:43Z",
    "labels": [
      "bug",
      "Priority"
    ],
    "body": "### Describe the bug\n\nThe `href` for the theme.css `link` element is being loaded from the app root instead of relative to the document url. This is in contrast to the other resources in the `head` of the gradio app page. In proxied applications, this can lead to a `404 Not Found`, as the `theme.css` may be loaded from the actual app url that is not accessible on the machine, instead of the proxied url.\n\nI intend to submit a PR for this issue, to load the theme.css relative to the page url instead of from the `config.root`.\n\nThere are [several issues](https://github.com/gradio-app/gradio/issues?q=is:issue%20state:open%20theme.css) mentioning theme.css that sound related, but none of the open issues match this exact description and reproduction steps.\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\n## Example Gradio Proxy Server\n\nThis is a simple proxy server for a Gradio app, built using Flask. It proxies requests to a Gradio app running on a target port and exposes them under a `/proxy` subpath.\n\n### How to run\n\n1. **Create the files specified below (`requirements.txt`, `proxy_server.py`, `gradio_example.py`)**\n\n2. **Create and activate a virtual environment**:\n   ```sh\n   <preferred_python_installation> -m venv .venv\n   source .venv/bin/activate\n   ```\n   _Note: Replace `<preferred_python_installation>` with your installed Python version. I personally used Python 3.12.2._\n\n3. **Install dependencies**:\n   ```sh\n   pip install -r requirements.txt\n   ```\n\n4. **Run the proxy server**:\n   ```sh\n   python proxy_server.py\n   ```\n\n5. Wait for the output `👉 Access the app at <APP_URL>`\n    Sample output:\n    ```sh\n    Starting the target application...\n    * Running on local URL:  http://127.0.0.1:7860\n    * To create a public link, set `share=True` in `launch()`.\n    ✅ Target application is running at http://127.0.0.1:7860\n    ✅ Proxy server starting on port 8000\n    👉 Access the app at http://127.0.0.1:8000/proxy\n    ```\n    - `TARGET_URL` is the URL of the Gradio app -- `✅ Target application is running at <TARGET_URL>`\n    - `APP_URL` is the URL of the proxy server -- `👉 Access the app at <APP_URL>`\n\n6. Open the `<APP_URL>` `http://127.0.0.1:8000/proxy` in your browser.\n\n7. Open the browser's developer tools (usually F12 or right-click and select \"Inspect\").\n\n8. Go to the \"Elements\" tab. Expand the `<head>` section.\n\n9. Look for the `<link>` tag that includes `theme.css` -- you may want to Cmd+F or Ctrl+F to search for `theme.css`.\n\n10. Check the `href` attribute of the `<link>` tag. It should show `<TARGET_URL>/theme.css`, but the expected value is `<APP_URL>/theme.css`.\n    - Expected: `http://127.0.0.1:8000/proxy/theme.css`\n    - Actual: `http://127.0.1:7860/theme.css`\n    - The `theme.css` file is not being served from the proxy server, but from the target Gradio app.\n    - See the screenshot below.\n\n#### `requirements.txt`\n\n```txt\ngradio\nflask\nrequests\n```\n\n#### `proxy_server.py`\n\n```python\nimport requests\nfrom flask import Flask, request, Response, redirect\nimport threading\nimport time\n\napp = Flask(__name__)\n\n##################################################################\n# CONFIGURATION\n##################################################################\n\nTARGET_PORT = 7860\nPROXY_PORT = 8000\nTARGET_HOST = f\"http://127.0.0.1:{TARGET_PORT}\"\nPROXY_SUBPATH = \"/proxy\"\n\n##################################################################\n# TARGET APP HELPERS\n##################################################################\n\n\ndef start_target_app():\n    \"\"\"Start the target app in a separate thread.\"\"\"\n    import gradio_example\n\n\n########################################################################\n# PROXY SERVER ROUTES\n########################################################################\n\n\n@app.route(\"/\")\ndef root():\n    \"\"\"Redirect root to the proxy subpath.\"\"\"\n    return redirect(PROXY_SUBPATH)\n\n\n@app.route(\"/<path:direct_path>\")\ndef handle_direct_requests(direct_path):\n    \"\"\"Redirect direct path requests to the proxy subpath.\"\"\"\n    print(f\"Direct path request: /{direct_path}\")\n    return redirect(f\"{PROXY_SUBPATH}/{direct_path}\")\n\n\n@app.route(f\"{PROXY_SUBPATH}\", defaults={\"path\": \"\"})\n@app.route(f\"{PROXY_SUBPATH}/<path:path>\")\ndef proxy_subpath(path):\n    \"\"\"Proxy requests to the target app.\"\"\"\n    url = f\"{TARGET_HOST}/{path}\"\n    print(f\"Proxying: {PROXY_SUBPATH}/{path} -> {url}\")\n\n    resp = requests.request(\n        method=request.method,\n        url=url,\n        headers={key: value for key, value in request.headers if key != \"Host\"},\n        data=request.get_data(),\n        params=request.args,\n    )\n\n    # Directly return the response from the target app\n    return Response(resp.content, resp.status_code, resp.headers.items())\n\n\n##########################################################################\n# MAIN\n##########################################################################\n\nif __name__ == \"__main__\":\n    print(\"Starting the target application...\")\n    threading.Thread(target=start_target_app, daemon=True).start()\n\n    # Wait for the target app to start\n    start_time = time.time()\n    while time.time() - start_time < 10:\n        try:\n            if requests.get(f\"{TARGET_HOST}/\").status_code == 200:\n                break\n        except requests.RequestException:\n            time.sleep(1)\n\n    print(f\"✅ Target application is running at {TARGET_HOST}\")\n    print(f\"✅ Proxy server starting on port {PROXY_PORT}\")\n    print(f\"👉 Access the app at http://127.0.0.1:{PROXY_PORT}{PROXY_SUBPATH}\")\n\n    app.run(host=\"0.0.0.0\", port=PROXY_PORT)\n```\n\n#### `gradio_example.py`\n\n```python\nimport gradio as gr\n\ndef image_classifier(inp):\n    return {'cat': 0.3, 'dog': 0.7}\n\ndemo = gr.Interface(\n    fn=image_classifier, \n    inputs=\"image\", \n    outputs=\"label\",\n    # theme=\"soft\"\n)\n\ndemo.launch()\n```\n\n\n### Screenshot\n\nSee the highlighted element in the Developer Tools for the `theme.css` `link` element. Note that the href uses the app root instead of the proxied url, which the other resources use.\n\n<img width=\"1149\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/3acdb4a3-8feb-48f2-adf1-622328e17ebc\" />\n\nIn an environment where the client and proxy server are not running on the same machine, the Gradio app appears unstyled due to the missing `theme.css` file:\n\n<img width=\"792\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/57b82078-a407-4d17-a99c-5393f54d83e3\" />\n\nIt is expected to look like:\n\n<img width=\"776\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/51ad6b27-791b-4d3a-8e89-8cbb6de2317d\" />\n\n### Logs\n\n```shell\n\n```\n\n### System Info\n\n```shell\nGradio Environment Information:\n------------------------------\nOperating System: Darwin\ngradio version: 5.29.0\ngradio_client version: 1.10.0\n\n------------------------------------------------\ngradio dependencies in your environment:\n\naiofiles: 24.1.0\nanyio: 4.9.0\naudioop-lts is not installed.\nfastapi: 0.115.12\nffmpy: 0.5.0\ngradio-client: 1.10.0\ngroovy: 0.1.2\nhttpx: 0.28.1\nhuggingface-hub: 0.30.2\njinja2: 3.1.6\nmarkupsafe: 3.0.2\nnumpy: 2.2.5\norjson: 3.10.18\npackaging: 25.0\npandas: 2.2.3\npillow: 11.2.1\npydantic: 2.11.4\npydub: 0.25.1\npython-multipart: 0.0.20\npyyaml: 6.0.2\nruff: 0.11.8\nsafehttpx: 0.1.6\nsemantic-version: 2.10.0\nstarlette: 0.46.2\ntomlkit: 0.13.2\ntyper: 0.15.3\ntyping-extensions: 4.13.2\nurllib3: 2.4.0\nuvicorn: 0.34.2\nmcp is not installed.\npydantic: 2.11.4\nauthlib is not installed.\nitsdangerous: 2.2.0\n\n\ngradio_client dependencies in your environment:\n\nfsspec: 2025.3.2\nhttpx: 0.28.1\nhuggingface-hub: 0.30.2\npackaging: 25.0\ntyping-extensions: 4.13.2\nwebsockets: 15.0.1\n```\n\n### Severity\n\nBlocking usage of gradio",
    "comments": [
      {
        "user": "Sun-ZhenXing",
        "body": "I also encountered this problem, and our server port 80/443 could not be used, so the application could not work at all."
      }
    ]
  },
  {
    "issue_number": 7499,
    "title": "Gradio audio's starting position in the timeline move along with the cursor in textbox. ",
    "author": "kexul",
    "state": "open",
    "created_at": "2024-02-21T06:47:05Z",
    "updated_at": "2025-05-30T15:01:58Z",
    "labels": [
      "bug"
    ],
    "body": "### Describe the bug\n\nWhen I move the cursor in the textbox by pressing left and right arrow key, the starting position of the audio timeline is moved. \n\n### Have you searched existing issues?  🔎\n\n- [X] I have searched and found no existing issues\n\n### Reproduction\n\n```python\r\nimport gradio as gr\r\n\r\nwith gr.Blocks() as app:\r\n    audio = gr.Audio('https://github.com/gradio-app/gradio/raw/main/test/test_files/audio_sample.wav', label='Test')\r\n    text = gr.Textbox()\r\n\r\napp.launch()\r\n```\r\n\n\n### Screenshot\n\n![gradio](https://github.com/gradio-app/gradio/assets/5920217/fc757817-1b71-43ce-961d-d34cb76fe280)\r\n\n\n### Logs\n\n_No response_\n\n### System Info\n\n```shell\nGradio Environment Information:\r\n------------------------------\r\nOperating System: Linux\r\ngradio version: 4.19.1\r\ngradio_client version: 0.10.0\r\n\r\n------------------------------------------------\r\ngradio dependencies in your environment:\r\n\r\naiofiles: 23.2.1\r\naltair: 5.2.0\r\nfastapi: 0.109.2\r\nffmpy: 0.3.2\r\ngradio-client==0.10.0 is not installed.\r\nhttpx: 0.26.0\r\nhuggingface-hub: 0.20.3\r\nimportlib-resources: 6.1.1\r\njinja2: 3.1.3\r\nmarkupsafe: 2.1.5\r\nmatplotlib: 3.8.3\r\nnumpy: 1.26.4\r\norjson: 3.9.14\r\npackaging: 23.2\r\npandas: 2.2.0\r\npillow: 10.2.0\r\npydantic: 2.6.1\r\npydub: 0.25.1\r\npython-multipart: 0.0.9\r\npyyaml: 6.0.1\r\nruff: 0.2.2\r\nsemantic-version: 2.10.0\r\ntomlkit==0.12.0 is not installed.\r\ntyper: 0.9.0\r\ntyping-extensions: 4.9.0\r\nuvicorn: 0.27.1\r\nauthlib; extra == 'oauth' is not installed.\r\nitsdangerous; extra == 'oauth' is not installed.\r\n\r\n\r\ngradio_client dependencies in your environment:\r\n\r\nfsspec: 2024.2.0\r\nhttpx: 0.26.0\r\nhuggingface-hub: 0.20.3\r\npackaging: 23.2\r\ntyping-extensions: 4.9.0\r\nwebsockets: 11.0.3\n```\n\n\n### Severity\n\nI can work around it",
    "comments": [
      {
        "user": "kexul",
        "body": "```python\r\nimport gradio as gr\r\n\r\njs = '''\r\nfunction disablePropagation(){\r\n    var textarea = document.querySelector('textarea[data-testid=\"textbox\"]');\r\n    if (textarea) {\r\n        textarea.addEventListener('keydown', function(event) {\r\n            if (event.key === 'ArrowLeft' || event.key === 'ArrowRight') {\r\n                event.stopPropagation();\r\n            }\r\n        });\r\n    }\r\n}\r\n'''\r\nwith gr.Blocks(js=js) as app:\r\n    audio = gr.Audio('https://github.com/gradio-app/gradio/raw/main/test/test_files/audio_sample.wav', label='Test')\r\n    text = gr.Textbox()\r\n\r\napp.launch()\r\n```\r\n\r\nHere is the solution provided by chatgpt, works very well for my case, hopefully it helps others meet the same problem. "
      },
      {
        "user": "pngwn",
        "body": "Reopening as this is a bug we should fix. "
      },
      {
        "user": "abidlabs",
        "body": "Hi, apologies for the late follow up. We haven't had a chance to look into this issue, but the Gradio codebase has changed quite significantly since this issue was created, particularly with the release of Gradio 5. Could you let us know if this is still an issue in the latest version of Gradio (`pip install --upgrade gradio`)? Thanks!\r\n"
      }
    ]
  },
  {
    "issue_number": 1608,
    "title": "Embedding gradio within a fastapi app",
    "author": "sciai-ai",
    "state": "closed",
    "created_at": "2022-06-19T10:20:50Z",
    "updated_at": "2025-05-30T13:28:13Z",
    "labels": [],
    "body": "I am making a single fastapi app where one route leads to prediction, and a second route which leads to the gradio interface. My understanding is that gradio itself launches a fastapi instance. is it possible to achieve this?",
    "comments": [
      {
        "user": "abidlabs",
        "body": "Good question. Yes, gradio launches a fastapi api under the hood. But you might be able to do what you need just using the gradio app, as the gradio app also exposes a prediction route. Specifically, when you launch the Gradio app, you'll have:\r\n\r\n* The gradio interface running on `/`\r\n* The prediction API at `/api/predict`\r\n\r\nYou can see the docs for the prediction API by clicking on \"View API\" at the bottom of the interface page "
      },
      {
        "user": "sciai-ai",
        "body": "is the other way around also possible. so i can have finer control on the app and routes?"
      },
      {
        "user": "pngwn",
        "body": "~~We don't currently expose the FastAPI interface. While we are very happy with FastAPI, it is an implementation detail and we don't want to bind our API to the FastAPI api which would add a significant maintenance overhead.~~\r\n\r\nWhat are you trying to do that isn't currently possible with Gradio?\r\n\r\nEdit: I'm wrong."
      }
    ]
  },
  {
    "issue_number": 11302,
    "title": "fount",
    "author": "inkling211",
    "state": "closed",
    "created_at": "2025-05-30T09:27:17Z",
    "updated_at": "2025-05-30T10:34:11Z",
    "labels": [],
    "body": "custom fount help pls",
    "comments": [
      {
        "user": "pngwn",
        "body": "Please consult the theming guide: https://www.gradio.app/guides/theming-guide#core-fonts"
      }
    ]
  },
  {
    "issue_number": 11105,
    "title": "Error loading mermaid when several apps are mounted with mount_gradio_app",
    "author": "ThomasCosyn",
    "state": "open",
    "created_at": "2025-04-30T09:26:08Z",
    "updated_at": "2025-05-30T07:06:22Z",
    "labels": [
      "bug"
    ],
    "body": "### Describe the bug\n\nI noticed that the mermaid in an app which is not displayed when loading the page is not properly compiled. It is probably the same root cause as this other issue : https://github.com/gradio-app/gradio/issues/11073\n\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\n```python\nfrom fastapi import FastAPI\nfrom fastapi.responses import FileResponse\nimport gradio as gr\n\n\ndef launch_app1():\n    with gr.Blocks() as app1:\n        gr.Markdown(\"\"\"\n        ```mermaid\n        graph LR\n            A[Square Rect] -- Link text --> B((Circle))\n            A --> C(Round Rect)\n            B --> D{Rhombus}\n            C --> D\n        ```\n        \"\"\")\n    return app1\n\n\ndef launch_app2():\n    with gr.Blocks() as app2:\n        gr.Markdown(\"\"\"\n        ```mermaid\n        graph TD;\n            A-->B;\n            A-->C;\n            B-->D;\n            C-->D;\n        ```\n        \"\"\")\n    return app2\n\n\napp1 = launch_app1()\napp2 = launch_app2()\n\napp = FastAPI()\n\napp.mount(\"/app1\", gr.mount_gradio_app(app, app1, path=\"/app1\"))\napp.mount(\"/app2\", gr.mount_gradio_app(app, app2, path=\"/app2\"))\n\n\n@app.get(\"/\")\ndef main_page():\n    return FileResponse(\"switcher.html\")\n```\n\n```html\n<!DOCTYPE html>\n<html>\n<head>\n    <title>Switcher Gradio Apps</title>\n    <style>\n        button { margin: 10px; padding: 10px; }\n        iframe { width: 100vw; height: 90vh; border: none; }\n    </style>\n</head>\n<body>\n    <button onclick=\"showIframe('app1')\">App 1</button>\n    <button onclick=\"showIframe('app2')\">App 2</button>\n    <button onclick=\"refreshPage()\">Refresh</button>\n    <iframe id=\"app1\" src=\"/app1/\" style=\"display:block\"></iframe>\n    <iframe id=\"app2\" src=\"/app2/\" style=\"display:none\"></iframe>\n    <script>\n        function showIframe(app) {\n            document.getElementById(\"app1\").style.display = (app === 'app1') ? \"block\" : \"none\";\n            document.getElementById(\"app2\").style.display = (app === 'app2') ? \"block\" : \"none\";\n        }\n        \n        function refreshPage() {\n            location.reload();\n        }\n    </script>\n</body>\n</html>\n```\n\n### Screenshot\n\n![Image](https://github.com/user-attachments/assets/1b37e76a-db6a-4913-8c15-06a92ada9770)\n![Image](https://github.com/user-attachments/assets/6ebd41f0-d046-4e88-8ebd-81e9dce26569)\n\n\n### Logs\n\n```shell\n\n```\n\n### System Info\n\n```shell\ngradio 5.23.3\n```\n\n### Severity\n\nI can work around it",
    "comments": [
      {
        "user": "EricoZhao",
        "body": "Tested. gradio<=5.18 app.mount works fine, but when gradio>=5.19 it doesn't work.\n\n```python\ndef load_and_mount_app(app: FastAPI):\n    sub_app = FastAPI()\n\n    gr.mount_gradio_app(sub_app, gradio_app, \"/\")\n\n    app.mount(\"/\", sub_app)\n```"
      },
      {
        "user": "EricoZhao",
        "body": "> Tested. gradio<=5.18 app.mount works fine, but when gradio>=5.19 it doesn't work.\n> ```python\n> def load_and_mount_app(app: FastAPI):\n>     sub_app = FastAPI()\n> \n>     gr.mount_gradio_app(sub_app, gradio_app, \"/\")\n> \n>     app.mount(\"/\", sub_app)\n\n\nFound the problem, gr.mount_gradio_app must contain the root_path, like this:\n```python\n        gr.mount_gradio_app(\n            app=sub_app,\n            blocks=gradio_app,\n            path=\"/\",\n            root_path=\"/\"\n        )\n```\n\nhere is the answer from chatgpt:\n```text\nGradio (as of 5.30) officially supports FastAPI's root_path concept for better deployment support in mount_gradio_app(...). in mount_gradio_app(...) to tell Gradio about root_path:\n\n「You are mounted under the path /apps/change_image_bg, the URL is not prefixed with / but has a subpath!」\n```"
      }
    ]
  },
  {
    "issue_number": 11200,
    "title": "Add support for Streamable HTTP transport in MCP integration",
    "author": "abidlabs",
    "state": "closed",
    "created_at": "2025-05-14T21:33:42Z",
    "updated_at": "2025-05-30T06:52:11Z",
    "labels": [
      "enhancement",
      "Priority"
    ],
    "body": "The Python SDK now supports Streamable HTTP: https://github.com/modelcontextprotocol/python-sdk/releases/tag/v1.8.0, we should automatically enable it in the MCP integration. \n\nh/t @evalstate ",
    "comments": [
      {
        "user": "abidlabs",
        "body": "This is a good reference implementation and includes the ability to store state which could be compatible with Gradio's state/session management: https://github.com/modelcontextprotocol/python-sdk/blob/main/examples/servers/simple-streamablehttp/mcp_simple_streamablehttp/server.py"
      },
      {
        "user": "julien-c",
        "body": "yay! game changer"
      }
    ]
  },
  {
    "issue_number": 11257,
    "title": "i18n doesn't replace keys",
    "author": "Josef-Haupt",
    "state": "closed",
    "created_at": "2025-05-26T13:57:24Z",
    "updated_at": "2025-05-29T19:23:12Z",
    "labels": [
      "bug",
      "Priority"
    ],
    "body": "### Describe the bug\n\nHey Gradio team, we have custom localization in our app, but I wanted to maybe switch to the new gradio builtin i18n.\nI tried the demo [here](https://www.gradio.app/guides/internationalization) but it does not replace the strings correctly.\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\n```python\nimport gradio as gr\n\n# Create an I18n instance with translations for multiple languages\ni18n = gr.I18n(\n    de={\"greeting\": \"Hallo, willkommen in meiner App!\", \"submit\": \"Absenden\", \"input\": \"Eingabe\"},\n    en={\"greeting\": \"Hello, welcome to my app!\", \"submit\": \"Submit\", \"input\": \"Input\"},\n    es={\"greeting\": \"¡Hola, bienvenido a mi aplicación!\", \"submit\": \"Enviar\", \"input\": \"Entrada\"},\n    fr={\"greeting\": \"Bonjour, bienvenue dans mon application!\", \"submit\": \"Soumettre\", \"input\": \"Entrée\"},\n)\n\nwith gr.Blocks() as demo:\n    # Use the i18n method to translate the greeting\n    gr.Markdown(i18n(\"greeting\"))\n    with gr.Row():\n        input_text = gr.Textbox(label=i18n(\"input\"))\n        output_text = gr.Textbox(label=\"Output\")\n\n    submit_btn = gr.Button(i18n(\"submit\"))\n\n# Pass the i18n instance to the launch method\ndemo.launch(i18n=i18n)\n```\n\n\n### Screenshot\n\n![Image](https://github.com/user-attachments/assets/8301441d-16ea-4fb3-b772-2b352cb7f838)\n\n`greeting` should be one of the provided strings and input as well.\n\n### Logs\n\n```shell\n\n```\n\n### System Info\n\n```shell\ngradio==5.31.0\nWindows\nPython 3.11.9\n```\n\n### Severity\n\nI can work around it",
    "comments": [
      {
        "user": "abidlabs",
        "body": "I can repro. cc @hannahblair, do you know what might be happening here?"
      },
      {
        "user": "hannahblair",
        "body": "Hi @Josef-Haupt! I've just started up your demo in a HF space [here](https://huggingface.co/spaces/hmb/i18ntest2). I can see it working as expected 🤔 cc @abidlabs. hmm"
      },
      {
        "user": "abidlabs",
        "body": "Interesting, even on test space, the Markdown isn't translated for me:\n\n<img width=\"1289\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/7975412c-7ff5-4d30-9415-8a181f8166f6\" />\n\nWhen I test locally, I see the same as what @Josef-Haupt is describing. Could it be one of those race conditions we saw earlier?"
      }
    ]
  },
  {
    "issue_number": 11275,
    "title": "gr.HTML() with meta tags creates unwanted whitespace",
    "author": "clossion",
    "state": "closed",
    "created_at": "2025-05-28T12:00:34Z",
    "updated_at": "2025-05-29T19:21:39Z",
    "labels": [
      "bug"
    ],
    "body": "### Describe the bug\n\nI don't know if this can be considered a bug.\n\nWhen using gr.HTML() to add meta tags like:\n\nmeta name=\"google\" content=\"notranslate\"\nmeta http-equiv=\"Content-Language\" content=\"zh-CN\"\nremove \"<>\"to ensure it can be seen.\n\nThese tags create visible whitespace in the interface, even though they should be invisible.\nI will give a demo code and you can run on the Gradio Playground to find it.\nOf course I think the best thing to do now is to explain this on the Gradio Playground, because the bug doesn't matter. However, it can give people the false impression that something is wrong with their code.\n\nAnd these are my advice:\n1. Filter out meta tags in gr.HTML() or provide warning\n2. Add dedicated API for page meta information\n3. Update documentation to clarify this behavior\n\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\n```python\nimport gradio as gr\n\nAPP_TITLE = \"LLM\"\n\ndef create_demo_ui():\n    with gr.Blocks(theme=gr.themes.Soft(), title=APP_TITLE) as demo:\n        \n        gr.HTML(\"\"\"\n        <meta http-equiv=\"Content-Language\" content=\"zh-CN\">\n        \"\"\")\n        \n        gr.HTML(f\"\"\"\n        <div style=\"text-align: center; padding: 15px; margin-bottom: 15px; \n                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); \n                    color: white; font-size: 1.4em; font-weight: bold; \n                    border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);\">\n            {APP_TITLE}\n        </div>\n        \"\"\")\n\n        gr.Textbox(label=\"Test\")\n\n    return demo\n\nif __name__ == \"__main__\":\n    demo = create_demo_ui()\n    demo.launch()\n\n```\n\n\n### Screenshot\n\n![Image](https://github.com/user-attachments/assets/c0ec9607-fc53-466c-939a-d8b272554ca2)\n\n### Logs\n\n```shell\nNo need. Easy to find it.\n```\n\n### System Info\n\n```shell\nNo need.\n```\n\n### Severity\n\nI can work around it",
    "comments": [
      {
        "user": "hannahblair",
        "body": "Hi @clossion! Thanks for raising this. I can see it doesn't make sense for non-visible elements to have the padding, but I would suggest adding `padding=False` to the gr.HTML with the meta tag to handle this 🙂"
      }
    ]
  },
  {
    "issue_number": 11131,
    "title": "[Mobile] Slider label padding",
    "author": "dawoodkhan82",
    "state": "closed",
    "created_at": "2025-05-05T09:00:27Z",
    "updated_at": "2025-05-29T18:45:24Z",
    "labels": [
      "bug"
    ],
    "body": "### Describe the bug\n\nSlider padding for label and input seems squished\n\n![Image](https://github.com/user-attachments/assets/503a31a8-d32b-482d-a7b5-6d994e248180)\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\nhttps://huggingface.co/spaces/KwaiVGI/LivePortrait\n\n\n### Screenshot\n\n_No response_\n\n### Logs\n\n```shell\n\n```\n\n### System Info\n\n```shell\nn/a\n```\n\n### Severity\n\nI can work around it",
    "comments": []
  },
  {
    "issue_number": 11290,
    "title": "Broken link on agents-and-tool-usage pages",
    "author": "thliang01",
    "state": "closed",
    "created_at": "2025-05-29T05:44:04Z",
    "updated_at": "2025-05-29T18:15:12Z",
    "labels": [
      "bug"
    ],
    "body": "### Describe the bug\n\nBecause of this PR (https://github.com/huggingface/transformers/pull/37368)\nThe link \"transformers agent [documentation](https://huggingface.co/docs/transformers/en/agents)\"'' is now broken\nBased on the description in this PR (https://github.com/huggingface/transformers/pull/37368),\nShould we change the link to point to [smolagents](https://huggingface.co/docs/smolagents/index)?\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### System Info\n\n```shell\ngradio=5.31.0\n```\n\n### Severity\n\nI can work around it",
    "comments": [
      {
        "user": "abidlabs",
        "body": "Thanks @thliang01 would you like to open a PR?"
      }
    ]
  },
  {
    "issue_number": 10644,
    "title": "Gradio ChatInterface's API parameter name is not named correctly",
    "author": "taoari",
    "state": "closed",
    "created_at": "2025-02-21T01:19:39Z",
    "updated_at": "2025-05-29T18:14:43Z",
    "labels": [
      "bug",
      "Priority",
      "💬 Chatbot"
    ],
    "body": "### Describe the bug\n\n```python\ndef bot_fn(message, history, chat_model):\n    return f\"Echo: {message}\"\n```\n\nFor version 4.44.1, the name for API is \"chat_model\"\n\n<img width=\"411\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/176186e8-19c4-49d7-b7ec-b7bdd1171b00\" />\n\nBut for version 5.17.0, the name for API is \"param_2\"\n\n<img width=\"443\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/1b887fad-2333-48a0-8dd0-149ecbb57559\" />\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\n```python\nimport gradio as gr\n\n```\n\n\n### Screenshot\n\n_No response_\n\n### Logs\n\n```shell\n\n```\n\n### System Info\n\n```shell\nGradio Environment Information:\n------------------------------\nOperating System: Darwin\ngradio version: 5.17.0\ngradio_client version: 1.7.1\n\n------------------------------------------------\ngradio dependencies in your environment:\n\naiofiles: 23.2.1\nanyio: 4.8.0\naudioop-lts is not installed.\nfastapi: 0.115.8\nffmpy: 0.5.0\ngradio-client==1.7.1 is not installed.\nhttpx: 0.28.1\nhuggingface-hub: 0.28.1\njinja2: 3.1.5\nmarkupsafe: 2.1.5\nnumpy: 1.26.4\norjson: 3.10.15\npackaging: 24.2\npandas: 2.2.3\npillow: 11.1.0\npydantic: 2.10.6\npydub: 0.25.1\npython-multipart: 0.0.20\npyyaml: 6.0.2\nruff: 0.9.7\nsafehttpx: 0.1.6\nsemantic-version: 2.10.0\nstarlette: 0.45.3\ntomlkit: 0.13.2\ntyper: 0.15.1\ntyping-extensions: 4.12.2\nurllib3: 2.3.0\nuvicorn: 0.34.0\nauthlib; extra == 'oauth' is not installed.\nitsdangerous; extra == 'oauth' is not installed.\n\n\ngradio_client dependencies in your environment:\n\nfsspec: 2025.2.0\nhttpx: 0.28.1\nhuggingface-hub: 0.28.1\npackaging: 24.2\ntyping-extensions: 4.12.2\nwebsockets: 14.2\n```\n\n### Severity\n\nI can work around it",
    "comments": []
  },
  {
    "issue_number": 10040,
    "title": "Gradio TQDM wrapper can't handle float values!",
    "author": "mahenning",
    "state": "closed",
    "created_at": "2024-11-26T11:32:37Z",
    "updated_at": "2025-05-29T17:23:15Z",
    "labels": [
      "bug"
    ],
    "body": "### Describe the bug\r\n\r\nThe default tqdm progress bar can handle float values for e.g. `total`, while gradios wrapper can't. This is a problem when using other libraries that call tqdm with floats. In my case it is `faster-whisper`, which implemented a progress bar, where the length of the audio is given as `tqdm(total=audio_len)`. The audio length is in seconds and as float, e.g. 3.5(sec). \r\n\r\nAnother problem is that even when tqdm is called with `tqdm(..., disabled=True)` (which is the default for `faster-whisper`, gradio throws the float error. This should not happen, as the progress bar is disabled. So even when I don't want to use the feature because of incompatibility, I can not easily disable it.\r\n\r\nWorkaround is to just disable the loading bar wrapper in the web view (with `track_tqdm=False`), but this can not be a good solution.\r\n\r\n### Have you searched existing issues?  🔎\r\n\r\n- [X] I have searched and found no existing issues\r\n\r\n### Reproduction\r\n\r\n```python\r\nimport gradio as gr\r\nimport time\r\nfrom tqdm import tqdm\r\nfrom ast import literal_eval\r\n\r\ndef custom_function(number, progress=gr.Progress(track_tqdm=True)):\r\n    number = literal_eval(number) # cast str to int/float\r\n    progress(0, desc=\"Starting\")\r\n    time.sleep(1.5)\r\n    pbar = tqdm(total=number, desc='Numbers..')\r\n    while pbar.n < pbar.total + 1:\r\n        time.sleep(1)\r\n        pbar.update(1)\r\n\r\nwith gr.Blocks() as demo:\r\n    gr.Markdown(\"### Passive Progress Bar Example\")\r\n    number_inp = gr.Textbox(label=\"Enter Number\")\r\n    output_text = gr.Textbox(label=\"Output\")\r\n\r\n    with gr.Row():\r\n        process_button = gr.Button(\"Run Function\")\r\n\r\n    process_button.click(custom_function, inputs=[number_inp], outputs=[output_text])\r\n\r\ndemo.launch(debug=True)\r\n```\r\n\r\nIn the reproducibility code, start the gradio app and insert a number into the Textbox. If the number is an integer (e.g. 3), the program runs normally. If the number is a float (e.g. 3.5), the app crashes after 1.5s. You can set `track_tqdm=False` in `custom_function(number, progress=gr.Progress(track_tqdm=True))` to disable the gradio wrapper. Then, tqdm can also work with floats inserted into the Textbox.\r\nThe error also appears when updating the progress bar with a float, with e.g. `pbar.update(1.2)`. Vanilla tqdm can also handle that.\r\n\r\n\r\n### Screenshot\r\n\r\n_No response_\r\n\r\n### Logs\r\n\r\n```shell\r\nTraceback (most recent call last):\r\n  File \"/ProjectPath/.venv/lib/python3.10/site-packages/gradio/queueing.py\", line 624, in process_events\r\n    response = await route_utils.call_process_api(\r\n  File \"/ProjectPath/.venv/lib/python3.10/site-packages/gradio/route_utils.py\", line 323, in call_process_api\r\n    output = await app.get_blocks().process_api(\r\n  File \"/ProjectPath/.venv/lib/python3.10/site-packages/gradio/blocks.py\", line 2015, in process_api\r\n    result = await self.call_function(\r\n  File \"/ProjectPath/.venv/lib/python3.10/site-packages/gradio/blocks.py\", line 1562, in call_function\r\n    prediction = await anyio.to_thread.run_sync(  # type: ignore\r\n  File \"/ProjectPath/.venv/lib/python3.10/site-packages/anyio/to_thread.py\", line 56, in run_sync\r\n    return await get_async_backend().run_sync_in_worker_thread(\r\n  File \"/ProjectPath/.venv/lib/python3.10/site-packages/anyio/_backends/_asyncio.py\", line 2441, in run_sync_in_worker_thread\r\n    return await future\r\n  File \"/ProjectPath/.venv/lib/python3.10/site-packages/anyio/_backends/_asyncio.py\", line 943, in run\r\n    result = context.run(func, *args)\r\n  File \"/ProjectPath/.venv/lib/python3.10/site-packages/gradio/utils.py\", line 865, in wrapper\r\n    response = f(*args, **kwargs)\r\n  File \"/ProjectPath/.venv/lib/python3.10/site-packages/gradio/utils.py\", line 865, in wrapper\r\n    response = f(*args, **kwargs)\r\n  File \"/ProjectPath/test_script2.py\", line 10, in custom_function\r\n    pbar = tqdm(total=number, desc='Numbers..')\r\n  File \"/ProjectPath/.venv/lib/python3.10/site-packages/gradio/helpers.py\", line 823, in init_tqdm\r\n    self._progress.tqdm(iterable, desc, total, unit, _tqdm=self)\r\n  File \"/ProjectPath/.venv/lib/python3.10/site-packages/gradio/helpers.py\", line 765, in tqdm\r\n    callback(self.iterables)\r\n  File \"/ProjectPath/.venv/lib/python3.10/site-packages/gradio/queueing.py\", line 382, in set_progress\r\n    progress_unit = ProgressUnit(\r\n  File \"/ProjectPath/.venv/lib/python3.10/site-packages/pydantic/main.py\", line 214, in __init__\r\n    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)\r\npydantic_core._pydantic_core.ValidationError: 1 validation error for ProgressUnit\r\nlength\r\n  Input should be a valid integer, got a number with a fractional part [type=int_from_float, input_value=3.5, input_type=float]\r\n    For further information visit https://errors.pydantic.dev/2.10/v/int_from_float\r\n```\r\n\r\n\r\n### System Info\r\n\r\n```shell\r\nPackage                  Version\r\n------------------------ -------------------\r\naiofiles                 23.2.1\r\naiohappyeyeballs         2.4.3\r\naiohttp                  3.11.7\r\naiosignal                1.3.1\r\nalembic                  1.14.0\r\nannotated-types          0.7.0\r\nantlr4-python3-runtime   4.9.3\r\nanyio                    4.6.2.post1\r\nasteroid-filterbanks     0.4.0\r\nasync-timeout            5.0.1\r\nattrs                    24.2.0\r\naudioread                3.0.1\r\nav                       13.1.0\r\ncertifi                  2024.8.30\r\ncffi                     1.17.1\r\ncharset-normalizer       3.4.0\r\nclick                    8.1.7\r\ncoloredlogs              15.0.1\r\ncolorlog                 6.9.0\r\ncontourpy                1.3.1\r\nctranslate2              4.5.0\r\ncycler                   0.12.1\r\ndecorator                5.1.1\r\ndocopt                   0.6.2\r\neinops                   0.8.0\r\nexceptiongroup           1.2.2\r\nfastapi                  0.115.5\r\nfaster-whisper           1.1.0\r\nffmpy                    0.4.0\r\nfilelock                 3.16.1\r\nflatbuffers              24.3.25\r\nfonttools                4.55.0\r\nfrozenlist               1.5.0\r\nfsspec                   2024.10.0\r\ngradio                   5.5.0\r\ngradio_client            1.4.2\r\ngreenlet                 3.1.1\r\nh11                      0.14.0\r\nhttpcore                 1.0.7\r\nhttpx                    0.27.2\r\nhuggingface-hub          0.26.2\r\nhumanfriendly            10.0\r\nHyperPyYAML              1.2.2\r\nidna                     3.10\r\nJinja2                   3.1.4\r\njoblib                   1.4.2\r\njulius                   0.2.7\r\nkiwisolver               1.4.7\r\nlazy_loader              0.4\r\nlibrosa                  0.10.2.post1\r\nlightning                2.4.0\r\nlightning-utilities      0.11.9\r\nllvmlite                 0.43.0\r\nMako                     1.3.6\r\nmarkdown-it-py           3.0.0\r\nMarkupSafe               2.1.5\r\nmatplotlib               3.9.2\r\nmdurl                    0.1.2\r\nmore-itertools           10.5.0\r\nmpmath                   1.3.0\r\nmsgpack                  1.1.0\r\nmultidict                6.1.0\r\nnetworkx                 3.4.2\r\nnumba                    0.60.0\r\nnumpy                    1.26.4\r\nnvidia-cublas-cu12       12.4.5.8\r\nnvidia-cuda-cupti-cu12   12.4.127\r\nnvidia-cuda-nvrtc-cu12   12.4.127\r\nnvidia-cuda-runtime-cu12 12.4.127\r\nnvidia-cudnn-cu12        9.1.0.70\r\nnvidia-cufft-cu12        11.2.1.3\r\nnvidia-curand-cu12       10.3.5.147\r\nnvidia-cusolver-cu12     11.6.1.9\r\nnvidia-cusparse-cu12     12.3.1.170\r\nnvidia-nccl-cu12         2.21.5\r\nnvidia-nvjitlink-cu12    12.4.127\r\nnvidia-nvtx-cu12         12.4.127\r\nomegaconf                2.3.0\r\nonnxruntime              1.20.1\r\nopenai-whisper           20240930\r\noptuna                   4.1.0\r\norjson                   3.10.12\r\npackaging                24.2\r\npandas                   2.2.3\r\npillow                   11.0.0\r\npip                      24.3.1\r\nplatformdirs             4.3.6\r\npooch                    1.8.2\r\nprimePy                  1.3\r\npropcache                0.2.0\r\nprotobuf                 5.28.3\r\npyannote.audio           3.3.2\r\npyannote.core            5.0.0\r\npyannote.database        5.1.0\r\npyannote.metrics         3.2.1\r\npyannote.pipeline        3.0.1\r\npycparser                2.22\r\npydantic                 2.10.1\r\npydantic_core            2.27.1\r\npydub                    0.25.1\r\nPygments                 2.18.0\r\npyparsing                3.2.0\r\npython-dateutil          2.9.0.post0\r\npython-multipart         0.0.12\r\npytorch-lightning        2.4.0\r\npytorch-metric-learning  2.7.0\r\npytz                     2024.2\r\nPyYAML                   6.0.2\r\nregex                    2024.11.6\r\nrequests                 2.32.3\r\nrich                     13.9.4\r\nruamel.yaml              0.18.6\r\nruamel.yaml.clib         0.2.12\r\nruff                     0.8.0\r\nsafehttpx                0.1.1\r\nscikit-learn             1.5.2\r\nscipy                    1.14.1\r\nscraibe                  0.2.1.dev76+46d119b\r\nscraibe-webui            0.1.2.dev84+61b6bed\r\nsemantic-version         2.10.0\r\nsemver                   3.0.2\r\nsentencepiece            0.2.0\r\nsetuptools               75.6.0\r\nshellingham              1.5.4\r\nsix                      1.16.0\r\nsniffio                  1.3.1\r\nsortedcontainers         2.4.0\r\nsoundfile                0.12.1\r\nsoxr                     0.5.0.post1\r\nspeechbrain              1.0.2\r\nSQLAlchemy               2.0.36\r\nstarlette                0.41.3\r\nsympy                    1.13.1\r\ntabulate                 0.9.0\r\ntensorboardX             2.6.2.2\r\nthreadpoolctl            3.5.0\r\ntiktoken                 0.8.0\r\ntokenizers               0.20.3\r\ntomlkit                  0.12.0\r\ntorch                    2.5.1\r\ntorch-audiomentations    0.11.1\r\ntorch_pitch_shift        1.2.5\r\ntorchaudio               2.5.1\r\ntorchmetrics             1.6.0\r\ntqdm                     4.67.1\r\ntriton                   3.1.0\r\ntyper                    0.13.1\r\ntyping_extensions        4.12.2\r\ntzdata                   2024.2\r\nurllib3                  2.2.3\r\nuvicorn                  0.32.1\r\nwebsockets               12.0\r\nyarl                     1.18.0\r\n```\r\n\r\n\r\n### Severity\r\n\r\nI can work around it",
    "comments": []
  },
  {
    "issue_number": 11294,
    "title": "Programmatically expand/collapse a `gr.Sidebar`",
    "author": "ExcellentAmericanEagle",
    "state": "closed",
    "created_at": "2025-05-29T12:18:32Z",
    "updated_at": "2025-05-29T16:48:26Z",
    "labels": [],
    "body": "- [x] I have searched to see if a similar issue already exists.\n\n\n**Is your feature request related to a problem? Please describe.**  \nCurrently there's no way (to my knowledge) to programmatically expand/collapse `gr.Sidebar`.\n\n**Describe the solution you'd like**  \nSome suggestions\n- Add methods `trigger_collapse` or `trigger_expand` can be added (Unfortunately the names `collapse` and `expand` are already used to bind event handlers)\n- Add method `toggle_open`\n- Add method `set_open(next_is_open: bool)`\n- Setting to `open` property (e.g. `sidebar.open = False`) will change expand/collapse state (Like accessor properties)\n\n**Additional context**  \nPerhaps the prop `open` of `gr.Sidebar` could be renamed to `default_open` and the prop `open` will reflect the current *open* status of the sidebar.\n",
    "comments": [
      {
        "user": "abidlabs",
        "body": "This is already supported on `main`! \n\n> Setting to open property (e.g. sidebar.open = False) will change expand/collapse state (Like accessor properties)\n\nSee this issue for an example: https://github.com/gradio-app/gradio/issues/11252"
      },
      {
        "user": "ExcellentAmericanEagle",
        "body": "Good to know, sorry about that :)"
      },
      {
        "user": "ExcellentAmericanEagle",
        "body": "Running against latest `main` - setting `open = False` on an instance of `gr.Sidebar` doesn't seem to work @abidlabs \n\n```py\nimport gradio as gr\n\nwith gr.Blocks() as demo:\n    with gr.Sidebar(open=False) as sidebar:\n        button = gr.Button(\"Click Me\", variant=\"primary\")\n        def on_button_click():\n            print(\"Button clicked!\")\n            sidebar.open = False\n        button.click(on_button_click)\n\ndemo.launch()\n```"
      }
    ]
  },
  {
    "issue_number": 11295,
    "title": "Add `show_label` property to `gr.Sidebar`",
    "author": "ExcellentAmericanEagle",
    "state": "open",
    "created_at": "2025-05-29T13:58:22Z",
    "updated_at": "2025-05-29T16:33:37Z",
    "labels": [
      "enhancement"
    ],
    "body": "- [x] I have searched to see if a similar issue already exists.\n\n\n**Is your feature request related to a problem? Please describe.**  \nCurrently, the `label` passed to `gr.Sidebar` isn't visible by design. As documented:\n\n> label: name of the sidebar. Not displayed to the user.\n\nThis is a weird built in behavior because normally in other gradio components the label is always rendered to the user in some way.\n\n**Describe the solution you'd like**  \nI suggest adding `show_label` property to `gr.Sidebar` that's set to `False` by default (to preserve current behavior). Setting this to `True` will render the label next to the arrow in the sidebar toggle button **only when the sidebar is closed**\n\n```py\nwith gr.Sidebar(label=\"Errors (2)\", open=True, width=300, show_label=True):\n```\n\nCollapsed:\n\n![Image](https://github.com/user-attachments/assets/3fed223e-175c-4e98-b8e8-6c0e4b447cf4)\n\nExpanded:\n\n![Image](https://github.com/user-attachments/assets/1bada141-5966-4882-bfa0-d3c19a1c75dc)\n\n**Additional context**  \nCurrently there can only be a single `gr.Sidebar` instance that takes effect in the system.\nAdding labels to the toggle button is one step ahead for supporting multiple `gr.Sidebar`s.\n",
    "comments": [
      {
        "user": "ExcellentAmericanEagle",
        "body": "I'm working on a PR, unfortunately, the CSS when assigning `position=\"left\"` is kinda wonky for this purpose:\n\n![Image](https://github.com/user-attachments/assets/e1d91cdc-808d-433d-8bd9-58f6b79e2af2)"
      },
      {
        "user": "abidlabs",
        "body": "Cool, I think this is reasonable, although we should make sure that adding the label doesn't cause the collapsed icon to grow too wide so that it \"touches\" components in the main page. cc @dawoodkhan82 "
      }
    ]
  },
  {
    "issue_number": 11293,
    "title": "Add the ability to add a label below `gr.Textbox`",
    "author": "ExcellentAmericanEagle",
    "state": "closed",
    "created_at": "2025-05-29T10:12:43Z",
    "updated_at": "2025-05-29T16:26:10Z",
    "labels": [],
    "body": "- [x] I have searched to see if a similar issue already exists.\n\n**Is your feature request related to a problem? Please describe.**  \nI'm using gradio to build a complex form with many tabs and validation checks. But at the simplest form, I find it useful to attach validation error messages to input boxes.\n\nTo accompany that, I suggest adding the option to add a label below textboxes, that will fit in within the container border.\n\n**Describe the solution you'd like**  \nI suggest adding a new prop to `gr.Textbox` called `label_below` that acts like `label` but is placed just below the `input`. Ideally, I want to be able to pass any component as a prop to be visible below the `input`, but I don't see anything like that in the gradio ecosystem (So I can ideally put `Markdown` or something like that).\n\nIt'd also be nice to have `label_below` prop for `gr.Number` that'd work similarly.\n\n**Additional context**  \nSome example to a use case, combined with a basic `pydantic`'s `BaseModel` with an `AfterValidator`:\n\nNote that the SVG is taken from Lucide.\n\n```python\nfrom typing import Annotated\nfrom pydantic import AfterValidator, BaseModel, ValidationError\nfrom pydantic_core import SchemaValidator\nimport gradio as gr\n\ncss = \"\"\"\n.label-below {\n    color: red;\n    font-size: 16px;\n}\n\n.label-below::before{\n    display: inline-block;\n    width: 16px;\n    height: 16px;\n    -webkit-mask: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='black' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3'/%3E%3Cpath d='M12 9v4'/%3E%3Cpath d='M12 17h.01'/%3E%3C/svg%3E\") no-repeat center/contain;\n    mask: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='black' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3'/%3E%3Cpath d='M12 9v4'/%3E%3Cpath d='M12 17h.01'/%3E%3C/svg%3E\") no-repeat center/contain;\n    background-color: currentColor;\n    margin-inline-end: 4px;\n    content: \"\";\n    vertical-align: middle;\n}\n\"\"\"\n\ndef is_even(value: int) -> int:\n    if value % 2 == 1:\n        raise ValueError(f'{value} is not an even number')\n    return value\n\nclass Model(BaseModel):\n    num: Annotated[int, AfterValidator(is_even)]\n\ndef check_schema(model: BaseModel) -> None:\n    schema_validator = SchemaValidator(schema=model.__pydantic_core_schema__)\n    schema_validator.validate_json(model.model_dump_json())\n\n\nwith gr.Blocks(css=css) as demo:\n    gr.Markdown(\"Hello, Gradio!\")\n\n    model_state = gr.State(Model(num=2))\n\n    def update_selected_number(new_num: str, model: Model):\n        new_model = model.model_copy()\n        new_model.num = int(new_num)\n        return new_model\n    \n    @gr.render(inputs=[model_state])\n    def render_model(model: Model):\n        error_msgs = None\n\n        try:\n            check_schema(model)\n        except ValidationError as e:\n            errors = e.errors(include_context=False,include_input=False, include_url=False)\n\n            relevant_errors = list(filter(lambda x: x.get(\"loc\") == (\"num\",), errors))\n            error_msgs = \",\".join([error.get(\"msg\") for error in relevant_errors])\n\n        num_textbox = gr.Textbox(label=\"Input Text\", placeholder=\"Type something here...\", value=model.num, label_below=error_msgs)\n        num_textbox.blur(update_selected_number, inputs=[num_textbox, model_state], outputs=[model_state])\n\n\ndemo.launch()\n```\n\n![Image](https://github.com/user-attachments/assets/f94393c2-4ba2-4408-b4f7-4b699ba82b06)\n\nA quick demo:\n\nhttps://github.com/user-attachments/assets/603ffb4e-65ec-45c0-9a83-81642dfa6c4f\n\nI can provide a quick PR shortly",
    "comments": [
      {
        "user": "abidlabs",
        "body": "We're going to provide a comprehensive solution for validation at some point (https://github.com/gradio-app/gradio/issues/2718). \n\nIn the meantime, I'd suggest using the `info` parameter in `gr.Textbox`, which supports html/markdown syntax and appears above the component, but beneath the label."
      }
    ]
  },
  {
    "issue_number": 11297,
    "title": "Add `type=\"number\"` to `gr.Textbox` or deprecate `gr.Number`",
    "author": "ExcellentAmericanEagle",
    "state": "open",
    "created_at": "2025-05-29T15:36:05Z",
    "updated_at": "2025-05-29T16:23:37Z",
    "labels": [
      "enhancement",
      "refactor"
    ],
    "body": "- [x] I have searched to see if a similar issue already exists.\n\n\n**Is your feature request related to a problem? Please describe.**  \n`gr.Number` is lagging behind `gr.Textbox`, even thought they serve almost the same purpose. Compared to `gr.Number`, `gr.Textbox` is more robust and feature-packed - having properties like `copy`, `show_copy_button`, `autofocus` etc. \n\nMany features that were (and will be) added to `gr.Textbox` should also have counterparts in `gr.Number`, because it's very logical to make them as similar as possible.\n\n**Describe the solution you'd like**  \nI suggest, instead of maintaining two different, yet similar components - to merge `gr.Number` with `gr.Textbox`. Because its sole purpose to only accept numeric data. \n\nIt can be obtained by making the prop `type` accept `\"number\"` (like HTML `<input>` element) or even better **`\"int\"`** or **`\"float\"`** for precise control.\n\n**Additional context**  \nTo sum up - currently, at its form, `gr.Number` is like a degenerated version of `gr.Textbox`. \nAs a side note, as a web developer it's very confusing `gr.Textbox` (which in my view equivalent to `<input>`) doesn't have `type=\"number\"`. It's very confusing to have a UI component named `Number`.\n\nAlso recently, I made a bug report that `blur` was missing from `gr.Number`  (#11261) - but it wouldn't be a problem if it would be related to `gr.Textbox` (or be based on it). ",
    "comments": [
      {
        "user": "abidlabs",
        "body": "Good idea imo! Probably for 6.0"
      },
      {
        "user": "ExcellentAmericanEagle",
        "body": "> Good idea imo! Probably for 6.0\n\nPerhaps we can add a tag `v6.0` to the issue to keep track? @abidlabs "
      },
      {
        "user": "abidlabs",
        "body": "I've added to this tracking issue for now: https://github.com/gradio-app/gradio/issues/10471. We'll create a milestone when we are closer to releasing 6.0"
      }
    ]
  },
  {
    "issue_number": 11284,
    "title": "TypeError: BlockContext.__init__() got an unexpected keyword argument 'show_api'",
    "author": "Domtaoz",
    "state": "closed",
    "created_at": "2025-05-28T17:49:10Z",
    "updated_at": "2025-05-29T16:02:01Z",
    "labels": [
      "bug",
      "needs repro"
    ],
    "body": "### Describe the bug\n\nI have run in colab notebook with python3.11 \nI tried gardio=4.24.0, 3.9, 4.38.1, 4.44.1 but it's not worked\n\n\niface = gr.Interface(\n    .....\n    show_api=True,  \n)\n\niface.launch(share=True)\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\n```python\nimport gradio as gr\n\n```\n\n\n### Screenshot\n\n_No response_\n\n### Logs\n\n```shell\n\n```\n\n### System Info\n\n```shell\norch==2.0.1\ntorchvision==0.15.2\ntorchaudio==2.0.2\naccelerate==0.25.0\ntorchmetrics==1.2.1\ntqdm==4.66.1\ntransformers==4.36.2\nsentence-transformers==2.2.2\ndiffusers==0.25.0\neinops==0.7.0\nscipy==1.11.1\nopencv-python\ngradio==4.24.0\ngradio_client==0.14.0\nhuggingface_hub==0.19.4\naccelerate==0.21.0 \npydantic==2.10.6\nfastapi==0.112.2\nuvicorn==0.21.1\nstarlette==0.45.3\npeft==0.6.2\nfvcore\ncloudpickle\nomegaconf\npycocotools\nbasicsr\nav\nonnxruntime==1.16.2\n# tensorflow==2.10\n```\n\n### Severity\n\nI can work around it",
    "comments": [
      {
        "user": "abidlabs",
        "body": "Hi @Domtaoz can you please check with the latest version of Gradio and provide a minimal code example that we can use to reproduce the issue above? See: https://stackoverflow.com/help/minimal-reproducible-example"
      },
      {
        "user": "abidlabs",
        "body": "Closing until we have a suitable repro"
      }
    ]
  },
  {
    "issue_number": 11292,
    "title": "fount",
    "author": "inkling211",
    "state": "closed",
    "created_at": "2025-05-29T09:26:53Z",
    "updated_at": "2025-05-29T16:01:47Z",
    "labels": [],
    "body": "add a custom fount option or a tip for it",
    "comments": [
      {
        "user": "abidlabs",
        "body": "No idea what this issue is asking since it doesn't provide details nor does it follow the expected format for an issue. Closing"
      }
    ]
  },
  {
    "issue_number": 5220,
    "title": "Allow passing in properties of components as inputs",
    "author": "abidlabs",
    "state": "open",
    "created_at": "2023-08-14T17:57:47Z",
    "updated_at": "2025-05-29T08:04:50Z",
    "labels": [
      "enhancement",
      "needs designing"
    ],
    "body": "We frequently get asked how to pass in properties of components as inputs (kind of the \"opposite\" of returning a `gr.update()`). For example, see:\r\n\r\n* https://github.com/gradio-app/gradio/issues/3793\r\n* Internal: https://huggingface.slack.com/archives/C02QZLG8GMN/p1692028185129229\r\n\r\nWe don't currently support this and our general answer to is to use the component event trigger + store the state in a `gr.State`, which is then used as the input. However, this approach is quite cumbersome. We should find a way to make this easier.\r\n\r\nIdea 1:\r\n\r\n* When a component is used as an input, we should pass in a custom class whose primary value is the value of the component, but which also has attributes that reflect the attributes of the property. For example:\r\n\r\n```py\r\ndef get_tab_index(tabs):\r\n  return tabs.selected\r\n\r\nwith gr.Blocks() as demo:\r\n  with gr.Tabs() as tab:\r\n  ...\r\n  btn.click(get_tab_index, tabs, number)\r\n```\r\n\r\nHowever, the problem with this is is that it would not be compatible with using Gradio apps via an API.\r\n\r\nIdea 2:\r\n\r\n* You can pass in a component prop as an input. For example:\r\n\r\n```py\r\nwith gr.Blocks() as demo:\r\n  with gr.Tabs() as tab:\r\n  ...\r\n  btn.click(lambda x:x, tabs.selected, number)\r\n```\r\n\r\nWe should be able to make this work with our API (the typing info would be inferred from the upcoming component dataclass in 4.0). ",
    "comments": [
      {
        "user": "freddyaboulton",
        "body": "I like idea 1 and a variant was brought up [here](https://github.com/gradio-app/gradio/issues/4926) but in addition to complicating the api usage, it couples the function definition with the gradio app state. "
      },
      {
        "user": "pngwn",
        "body": "The only issue with this is it may lead to very large payloads that are totally unused most of the time. Unless we can either figure out exactly what is being used when generating the config, or we implement the patching that @aliabid94 mentioned a little while ago in _both_ directions.\r\n\r\n"
      },
      {
        "user": "abidlabs",
        "body": "After #5066, we shouldn't need a very large payload to implement these changes, since every prop will be stored on the backend as well. "
      }
    ]
  },
  {
    "issue_number": 11274,
    "title": "\"Error Could not load this space\" when embedding with web components with auth",
    "author": "sflowing",
    "state": "open",
    "created_at": "2025-05-28T10:45:32Z",
    "updated_at": "2025-05-29T06:15:08Z",
    "labels": [
      "bug"
    ],
    "body": "### Describe the bug\n\n**version:** 5.29.0\n\n`gradio.launch(share=False, auth=(\"user\", \"pwd\"), root_path=\"/a/b\", ...)`\n\nThis means the Gradio app has login authentication enabled. When I access it directly (not embedded in a page), everything works fine. But when embedded in a page, the following bug occurs:\n\nembedding-with-web-components:\n```\n<script\n\ttype=\"module\"\n\tsrc=\"https://gradio.s3-us-west-2.amazonaws.com/5.29.0/gradio.js\"\n></script>\n<gradio-app src=\"my.gradio.url\"></gradio-app>\n```\n\nWhen I'm not logged in, the login page fails to display and directly throws an error:\n\n![Image](https://github.com/user-attachments/assets/b5d09f56-4e36-47c4-a6af-5d33c4edd312)\n\n![Image](https://github.com/user-attachments/assets/1057b415-8071-440c-9545-1a70a53b9481)\n\nThe URL **my.gradio.url/config** returns a 401 unauthorized error. The URL should have been called after a successful login, but in reality, the login page did not display due to the error.\n\n![Image](https://github.com/user-attachments/assets/648557a1-db62-479b-b745-ab6c8d8d961a)\n\nIt seems like the wrong url(**https://gradio.s3-us-west-2.amazonaws.com/assets/index-CHc6r96-.css**) was called. The correct URL should be **https://gradio.s3-us-west-2.amazonaws.com/5.29.0/assets/index-CHc6r96-.css​​​​**, like this one:\n\n![Image](https://github.com/user-attachments/assets/3f593beb-fe53-4588-9950-7bca49addcda)\n\nIs this a bug? How can I make it work properly when embedded in a page?\n\nWaiting for your reply. Thanks in advance.​\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\n```python\nimport gradio as gr\n\n```\n\n\n### A poor solution\n\nembedding-with-web-components:\n```\n<script\n\ttype=\"module\"\n\tsrc=\"https://gradio.s3-us-west-2.amazonaws.com/5.29.0/gradio.js\"\n></script>\n<gradio-app src=\"my.gradio.url\"></gradio-app>\n```\n\nAccess the Gradio app via ​​**my.gradio.url​**, user can log in normally. **After logging in, if user return to the page embedding the Gradio app and refresh it, you can bypass the login page and use it normally**.\n\nHowever, this is a ​​poor solution​​, as it forces users to rely on the original URL (​​my.gradio.url​​), which is not meant to be publicly exposed, instead of using the intended embedded Gradio app website.\n\nWe strongly hope for an alternative solution.\n\n### Severity\n\nBlocking usage of gradio",
    "comments": [
      {
        "user": "sflowing",
        "body": "I've added **some details** with **a poor solution**, which may help address the problem. "
      }
    ]
  },
  {
    "issue_number": 11266,
    "title": "Be able to scroll to a specific output component when you have an event listener with many output components",
    "author": "rdnfn",
    "state": "open",
    "created_at": "2025-05-27T16:37:52Z",
    "updated_at": "2025-05-29T05:08:32Z",
    "labels": [
      "enhancement"
    ],
    "body": "- [x] I have searched to see if a similar issue already exists.\n\n\n**Is your feature request related to a problem? Please describe.**  \nI would like to set a precise scroll location beyond the boolean `scroll_to_output` in event listeners (in particular the `.select` listener of `gr.Dataframe`). Sometimes the output is too vague of a scroll position, leaving the user searching for the right location to look.\n\n**Describe the solution you'd like**  \nIt would be great if it was possible to simply provide a component as the next scroll location (e.g. `scroll_to=textfield`)\n\nWould be awesome to see this implemented! Thanks for considering!",
    "comments": [
      {
        "user": "abidlabs",
        "body": "Just to clarify, you want to scroll to a specific output component when you have an event listener with many output components? Can you give a simple standalone example?"
      },
      {
        "user": "rdnfn",
        "body": "Yes exactly, I want to scroll to a specific output component if there are multiple output components (or ideally I want to scroll to any component, not necessarily just output components). Here is a minimal example of the current functionality: when clicking on any value in the dataframe it scrolls to `text_field_1`. I would like to be able to set it to scroll to `text_field_2`.\n\n```python\nimport gradio as gr\n\nwith gr.Blocks() as demo:\n    with gr.Column():\n        text_field_1 = gr.Textbox(label=\"Text1\", lines=30)\n        table = gr.Dataframe(value=[[0, 1], [2, 3]], label=\"Data Table\")\n        text_field_2 = gr.Textbox(label=\"Text2\", lines=30)\n\n    table.select(\n        fn=lambda x: {\n            text_field_1: gr.Textbox(\"scrolled to\"),\n            text_field_2: gr.Textbox(\"not scrolled to\"),\n        },\n        inputs=table,\n        outputs={text_field_1, text_field_2},\n        scroll_to_output=True, # would like to be able to set scroll_to=text_field_2, even if both are outputs\n    )\n\nif __name__ == \"__main__\":\n    demo.launch()\n```\n\nThanks for your help with this!\n\n"
      }
    ]
  },
  {
    "issue_number": 4291,
    "title": "mount_gradio_app doesn't work when on a subpath",
    "author": "anentropic",
    "state": "closed",
    "created_at": "2023-05-19T22:02:36Z",
    "updated_at": "2025-05-29T02:59:16Z",
    "labels": [
      "bug"
    ],
    "body": "### Describe the bug\r\n\r\nI am mounting my gradio app inside a fastapi app on a subpath, like:\r\n\r\n```python\r\ngr.mount_gradio_app(app, blocks, path=\"/game\")\r\n```\r\n\r\nBut it fails.  The page loads, the interface displays, but the `load` event is never called and subsequent interaction fails. If I look in the logs I see:\r\n\r\n```\r\nINFO:     127.0.0.1:62434 - \"GET /info HTTP/1.1\" 404 Not Found\r\nINFO:     127.0.0.1:62434 - \"GET /theme.css HTTP/1.1\" 200 OK\r\n```\r\n\r\nSo it seems like the `api_info` route defined in the Gradio app has failed to adopt the prefix it was mounted under\r\n\r\nIt's  weird because mounting should automatically prefix the urls of the sub app\r\n\r\nI see the same thing with the example code from here: https://gradio.app/sharing-your-app/#mounting-within-another-fastapi-app ... it appears to work at first because the interface loads up, but it's not interactive and if you check the logs there is a request to `/info` which 404s\r\n\r\nIssue won't be caught by the mount test here, as it only checks that the page loads:\r\nhttps://github.com/gradio-app/gradio/blob/834afdd303c5942e58d612e0a8c02b3854c11a7c/test/test_routes.py#L341\r\n\r\n\r\n### Is there an existing issue for this?\r\n\r\n- [X] I have searched the existing issues\r\n\r\n### Reproduction\r\n\r\n```python\r\nfrom fastapi import FastAPI\r\nimport gradio as gr\r\n\r\nCUSTOM_PATH = \"/gradio\"\r\n\r\napp = FastAPI()\r\n\r\n\r\n@app.get(\"/\")\r\ndef read_main():\r\n    return {\"message\": \"This is your main app\"}\r\n\r\n\r\nio = gr.Interface(lambda x: \"Hello, \" + x + \"!\", \"textbox\", \"textbox\")\r\napp = gr.mount_gradio_app(app, io, path=CUSTOM_PATH)\r\n```\r\n\r\n### Screenshot\r\n\r\n_No response_\r\n\r\n### Logs\r\n\r\n```shell\r\npoetry run uvicorn repro.app:app\r\nINFO:     Started server process [82073]\r\nINFO:     Waiting for application startup.\r\nINFO:     Application startup complete.\r\nINFO:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)\r\nINFO:     127.0.0.1:49849 - \"GET / HTTP/1.1\" 200 OK\r\nINFO:     127.0.0.1:49849 - \"GET /info HTTP/1.1\" 404 Not Found\r\nINFO:     127.0.0.1:49849 - \"GET /theme.css HTTP/1.1\" 200 OK\r\n```\r\n\r\n\r\n### System Info\r\n\r\n```shell\r\ngradio==3.31.0\r\n\r\nPython 3.11.1\r\nmacOS\r\n```\r\n\r\n\r\n### Severity\r\n\r\nblocking all usage of gradio",
    "comments": [
      {
        "user": "abidlabs",
        "body": "@anentropic thanks for raising this issue, I think this must be something that broke recently. Can you see if it works if you use a slightly older version of gradio, such as `3.29.0`? "
      },
      {
        "user": "anentropic",
        "body": "@abidlabs  indeed... 3.29.0 works fine 👍 "
      },
      {
        "user": "abidlabs",
        "body": "Ok we'll get this fixed soon! cc @pngwn "
      }
    ]
  },
  {
    "issue_number": 11213,
    "title": "`progress.tqdm` breaks `range` if ran from `gr.Examples` function",
    "author": "apolinario",
    "state": "closed",
    "created_at": "2025-05-16T05:22:03Z",
    "updated_at": "2025-05-28T22:04:57Z",
    "labels": [
      "bug"
    ],
    "body": "### Describe the bug\n\nIf I have a \n```\nfor i in progress.tqdm(range(interm_steps)):\n```\ninside my `generate` function, when the function is called by a normal trigger (e.g.: `.click`), it works normally\n\nHowever, if my `generate` function is called by a `gr.Examples`, this becomes an infinite loop as `i` becomes a `<gradio.helpers.Progress object at 0x7f76648ef610>` instead of just an integer\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\nhttps://huggingface.co/spaces/multimodalart/bug_report\n\n```python\nimport gradio as gr\n\ndef func(iters, progress=gr.Progress()):\n    print(f\"iters: {iters}, type: {type(iters)}\")\n    for i in progress.tqdm(range(iters), desc=\"Looping\"):\n        print(f\"i: {i}, type: {type(i)}\")\n        if not isinstance(i, int):\n            return f\"BUG! i is {type(i)}\"\n    return \"OK\"\n\nwith gr.Blocks() as demo:\n    gr.Markdown(\"Bug Reproduction: `gr.Progress.tqdm` with `gr.Examples`\\n\")\n    iters_input = gr.Number(value=3, label=\"Iterations\")\n    out = gr.Textbox(label=\"Output\")\n    btn = gr.Button()\n    btn.click(func, [iters_input], out)\n\n    gr.Examples(\n        examples=[[5], [2]],\n        inputs=[iters_input],\n        outputs=[out],\n        fn=func\n    )\ndemo.launch()\n```\n\n### Screenshot\n\n_No response_\n\n### Logs\nOutput if I click `Run` in the repro\n```shell\nOK\n```\n\nOutput if I click one of the `gr.Examples` in the repro\n```shell\nBUG! i is <class 'gradio.helpers.Progress'>\n```\n\n### System Info\n\n```shell\ngradio==5.29.1\n```\n\n### Severity\n\nI can work around it",
    "comments": [
      {
        "user": "abidlabs",
        "body": "I've been looking into this, but will close as it's a duplicate of https://github.com/gradio-app/gradio/issues/6690"
      }
    ]
  },
  {
    "issue_number": 8895,
    "title": "Gradio progress bar fails to display when using custom root_path",
    "author": "nahuaque",
    "state": "closed",
    "created_at": "2024-07-24T14:27:24Z",
    "updated_at": "2025-05-28T22:04:07Z",
    "labels": [
      "bug",
      "cloud"
    ],
    "body": "### Describe the bug\n\nThe Gradio custom progress bar does not display when launching the demo with a custom root_path.  Instead I get only a spinner. \r\n\r\nIn Chrome Developer, I can see that there is an issue with loading one CSS asset, where it's incorrectly using the absolute path, i.e. not prefixed with the custom root path. The other assets all seem to be ok.\r\n\r\nThe bar does however display when the root path is not set.\r\n\r\n\n\n### Have you searched existing issues?  🔎\n\n- [X] I have searched and found no existing issues\n\n### Reproduction\n\n```python\r\nimport gradio as gr\r\nimport time\r\n\r\ndef slowly_reverse(word, progress=gr.Progress()):\r\n    progress(0, desc=\"Starting\")\r\n    time.sleep(1)\r\n    progress(0.05)\r\n    new_string = \"\"\r\n    for letter in progress.tqdm(word, desc=\"Reversing\"):\r\n        time.sleep(0.25)\r\n        new_string = letter + new_string  # type: ignore\r\n    return new_string\r\n\r\ndemo = gr.Interface(slowly_reverse, gr.Text(), gr.Text())\r\n\r\ndemo.launch(root_path=\"/jupyterlab/default/proxy/7860/\", share=False)\r\n```\r\n\n\n### Screenshot\n\n<img width=\"1378\" alt=\"Screenshot 2024-07-24 at 15 19 03\" src=\"https://github.com/user-attachments/assets/36907907-d378-4479-bd8f-eaa82898c23e\">\r\n\n\n### Logs\n\n_No response_\n\n### System Info\n\n```shell\nGradio Environment Information:\r\n------------------------------\r\nOperating System: Linux\r\ngradio version: 4.39.0\r\ngradio_client version: 1.1.1\r\n\r\n------------------------------------------------\r\ngradio dependencies in your environment:\r\n\r\naiofiles: 23.2.1\r\nanyio: 4.3.0\r\nfastapi: 0.111.1\r\nffmpy: 0.3.2\r\ngradio-client==1.1.1 is not installed.\r\nhttpx: 0.27.0\r\nhuggingface-hub: 0.23.0\r\nimportlib-resources: 6.4.0\r\njinja2: 3.1.4\r\nmarkupsafe: 2.1.5\r\nmatplotlib: 3.8.4\r\nnumpy: 1.26.4\r\norjson: 3.10.3\r\npackaging: 23.2\r\npandas: 2.2.2\r\npillow: 10.3.0\r\npydantic: 2.8.2\r\npydub: 0.25.1\r\npython-multipart: 0.0.9\r\npyyaml: 6.0.1\r\nruff: 0.5.1\r\nsemantic-version: 2.10.0\r\ntomlkit==0.12.0 is not installed.\r\ntyper: 0.12.3\r\ntyping-extensions: 4.11.0\r\nurllib3: 2.2.2\r\nuvicorn: 0.29.0\r\nauthlib; extra == 'oauth' is not installed.\r\nitsdangerous; extra == 'oauth' is not installed.\r\n\r\n\r\ngradio_client dependencies in your environment:\r\n\r\nfsspec: 2023.6.0\r\nhttpx: 0.27.0\r\nhuggingface-hub: 0.23.0\r\npackaging: 23.2\r\ntyping-extensions: 4.11.0\r\nwebsockets: 11.0.3\n```\n\n\n### Severity\n\nBlocking usage of gradio",
    "comments": [
      {
        "user": "curoa",
        "body": "Judging from the screenshot, are you using AWS?\r\nIn my case, I'm not using AWS but a rented server, but I had a similar problem.\r\nI fixed it by changing it so that nginx didn't buffer.\r\nI hope this helps you a little.\r\n\r\n## python gradio code\r\n\r\n```python\r\nimport gradio as gr\r\nimport time\r\n\r\ndef greet(progress=gr.Progress()):\r\n    progress(0, desc=\"Starting...\")\r\n    time.sleep(1)\r\n    for i in progress.tqdm(range(40)):\r\n        time.sleep(0.1)\r\n    return \"Complete!\"\r\n\r\nif __name__ == '__main__':\r\n    with gr.Blocks() as demo:\r\n        execute_button = gr.Button(\"Run\")\r\n        output_progress = gr.TextArea(label=\"progress\")\r\n        execute_button.click(greet, outputs=output_progress)\r\n    demo.launch(root_path=\"/my_root_path\")\r\n```\r\n\r\n\r\n## Working nginx config\r\n\r\nThe progress bar is shown correctly.\r\n\r\n```nginx\r\nlocation /my_root_path/ {\r\n\tproxy_pass http://127.0.0.1:7860/;\r\n\tproxy_set_header Host $host;\r\n\tproxy_set_header X-Real-IP $remote_addr;\r\n\tproxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\r\n\tproxy_set_header X-Forwarded-Host $host;\r\n\tproxy_set_header X-Forwarded-Proto $scheme;\r\n\tproxy_buffering off;\r\n\tproxy_cache off;\r\n\tchunked_transfer_encoding on;\r\n}\r\n```\r\n\r\n## Not working nginx config\r\n\r\nThe Text \"Starting\" and progress bar is not shown,\r\nbut the last text \"Complete\" is shown after a few seconds.\r\n\r\n```nginx\r\nlocation /my_root_path/ {\r\n\tproxy_pass http://127.0.0.1:7860/;\r\n\tproxy_set_header Host $host;\r\n\tproxy_set_header X-Real-IP $remote_addr;\r\n\tproxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\r\n\tproxy_set_header X-Forwarded-Host $host;\r\n\tproxy_set_header X-Forwarded-Proto $scheme;\r\n\t#proxy_buffering off;\r\n\t#proxy_cache off;\r\n\t#chunked_transfer_encoding on;\r\n}\r\n```\r\n\r\n"
      },
      {
        "user": "aliabid94",
        "body": "This worked fine for me, using this nginx config:\n```\n    server {\n        listen 18000;\n        server_name localhost;\n\n        location /jupyterlab/default/proxy/7860/ {\n            proxy_pass http://127.0.0.1:7860/;\n            proxy_buffering off;\n            proxy_redirect off;\n            proxy_http_version 1.1;\n            proxy_set_header Upgrade $http_upgrade;\n            proxy_set_header Connection \"upgrade\";\n            proxy_set_header Host $http_host;\n            proxy_set_header X-Forwarded-Host $http_host;\n            proxy_set_header X-Forwarded-Proto $scheme;\n        }\n    }   \n```\n\nand the app provided. Can you try the above config, or share the one you used?\n\n"
      },
      {
        "user": "abidlabs",
        "body": "Closing for lack of followup"
      }
    ]
  },
  {
    "issue_number": 11252,
    "title": "One sidebar event failed to adjust status of the other side bar",
    "author": "JTGRC-public",
    "state": "closed",
    "created_at": "2025-05-23T15:01:25Z",
    "updated_at": "2025-05-28T20:21:14Z",
    "labels": [
      "bug",
      "Priority"
    ],
    "body": "### Describe the bug\n\nI have two sidebars implemented in my code, on the left and the other on the right, both of them collapsed by default when the user login to the site. I can see the two arrows one at the upper left corner and the other at the upper right corner and they are working fine. However, since each of them is pretty wide in my use case, I don't want them to be opened at the same time but when I used the event listener to do automatic close of one sidebar if the other sidebar expands, looks like it is not working. Please let me know if this is a bug or I am making some mistakes.\n\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\n```python\nimport gradio as gr\n\nwith gr.Blocks() as demo:\n\n    with gr.Sidebar(open=False, width=700, position='left') as main_sidebar_left:\n        # Some Gradio components here\n\n    with gr.Sidebar(open=False, width=750, position='right') as main_sidebar_right:\n        # Some Gradio components here\n\n    main_sidebar_left.expand(lambda: gr.Sidebar(open=False, width=750, position='right'), None, main_sidebar_right)\n```\n\n\n### Screenshot\n\n_No response_\n\n### Logs\n\n```shell\n\n```\n\n### System Info\n\n```shell\nI am using Gradio 5.31.0.\n```\n\n### Severity\n\nI can work around it",
    "comments": [
      {
        "user": "abidlabs",
        "body": "I can repro this, cc @dawoodkhan82 \n\n```py\nimport gradio as gr\n\nwith gr.Blocks() as demo:\n\n    with gr.Sidebar(open=False, width=700, position='left') as main_sidebar_left:\n        pass\n\n    with gr.Sidebar(open=False, width=750, position='right') as main_sidebar_right:\n        pass\n\n    main_sidebar_left.expand(lambda: gr.Sidebar(open=False, width=750, position='right'), None, main_sidebar_right)\n\ndemo.launch()\n```\n\nThe event seems to have no effect"
      }
    ]
  },
  {
    "issue_number": 9135,
    "title": "Video streaming=True output displays nothing",
    "author": "zjysteven",
    "state": "closed",
    "created_at": "2024-08-17T00:18:17Z",
    "updated_at": "2025-05-28T18:03:39Z",
    "labels": [
      "bug",
      "Priority"
    ],
    "body": "### Describe the bug\r\n\r\nHi, thanks for this great work. I was trying to use the new video real-time streaming output feature that is enabled by #8906 (currently under the `5.0-dev` branch).\r\n\r\nI first ran the example `demo/stream_video_out/run.py` ([this](https://github.com/gradio-app/gradio/blob/5.0-dev/demo/stream_video_out/run.py)) and it worked like a charm. However when I adapted it to my application, the video block displayed nothing despite reporting no errors (there was a video progress bar shown but with timestamp of `00:00 / Nan:Nan`).\r\n\r\nInterestingly, I confirmed that there were video segments saved and they could be played normally with my local video player. Furthermore, after all video segments were generated, if I run another gradio app that reads and plays the video segments with `gr.Video(streaming=True)`, then it could work smoothly.\r\n\r\nI completely got lost with this weird \"bug\" and would appreciate any thoughts/ideas/guesses on what I was doing wrong. @abidlabs @freddyaboulton\r\n\r\n### Have you searched existing issues?  🔎\r\n\r\n- [X] I have searched and found no existing issues\r\n\r\n### Reproduction\r\n\r\nUnfortunately I don't have a minimal reproducible example because it is an app that involves custom diffusion model and complicated environment setup. But the essence of the code is below.\r\n\r\n```python\r\n# this is content of the main function whose return value is fed to gr.Video(streaming=True)\r\ndef main(video_url, video_file, prompt):\r\n    ...\r\n\r\n    n_chunks = 0\r\n    name = os.path.join(VIDEO_DIR, f\"output_{n_chunks}{'.mp4' if stream_as_mp4 else '.ts'}\")\r\n    segment_file = cv2.VideoWriter(name, video_codec, fps, (width, height)) # type: ignore\r\n\r\n    for i in range(batches):\r\n        output_frames = ... # process each batch of frames\r\n\r\n        for j in range(len(output_frames)):\r\n            video_result[frame_cnt] = postprocess_image(\r\n                output_frames[j].permute(1, 2, 0),\r\n                output_type=\"pt\"\r\n            )\r\n            segment_file.write(\r\n                cv2.cvtColor(\r\n                    np.array(TF.to_pil_image(video_result[frame_cnt].permute(2, 0, 1))),\r\n                    cv2.COLOR_BGR2RGB\r\n                )\r\n            )\r\n            frame_cnt += 1\r\n            \r\n        n_chunks += 1\r\n        segment_file.release()\r\n        yield name\r\n        name = os.path.join(VIDEO_DIR, f\"output_{n_chunks}{'.mp4' if stream_as_mp4 else '.ts'}\")\r\n        segment_file = cv2.VideoWriter(name, video_codec, fps, (width, height)) # type: ignore\r\n\r\n\r\n# this is the definition of the components\r\nwith gr.Blocks() as demo:\r\n    real_time_output = gr.Video(\r\n        label=\"Real-Time Decoding Output\", \r\n        streaming=True, \r\n        autoplay=True, \r\n        elem_id=\"stream_video_output\"\r\n    )\r\n\r\n    submit_btn = gr.Button(\"Run\", scale=1)\r\n        \r\n    submit_btn.click(\r\n        fn=main, \r\n        inputs=[video_url, video_file, prompt_input], \r\n        outputs=[real_time_output]\r\n    )\r\n```\r\n\r\n### Screenshot\r\n\r\nPlease see this video recording where the streamed video output should be displayed in \"Real-Time Decoding Output\" but it just showed empty.\r\n[Screencast from 08-16-2024 08_21_42 PM.webm](https://github.com/user-attachments/assets/ce9a82ea-f4b3-453d-9cbf-3136b83ee0b2)\r\n\r\n\r\n### Logs\r\n\r\n_No response_\r\n\r\n### System Info\r\n\r\n```shell\r\nGradio Environment Information:\r\n------------------------------\r\nOperating System: Linux\r\ngradio version: 4.41.0\r\ngradio_client version: 1.3.0\r\n\r\n------------------------------------------------\r\ngradio dependencies in your environment:\r\n\r\naiofiles: 23.2.1\r\nanyio: 4.4.0\r\nfastapi: 0.111.0\r\nffmpy: 0.3.2\r\ngradio-client==1.3.0 is not installed.\r\nhttpx: 0.27.0\r\nhuggingface-hub: 0.22.2\r\nimportlib-resources: 6.4.0\r\njinja2: 3.1.3\r\nmarkupsafe: 2.1.5\r\nmatplotlib: 3.9.1\r\nnumpy: 1.26.4\r\norjson: 3.10.6\r\npackaging: 24.0\r\npandas: 2.2.2\r\npillow: 10.3.0\r\npydantic: 2.8.2\r\npydub: 0.25.1\r\npython-multipart: 0.0.9\r\npyyaml: 6.0.1\r\nruff: 0.5.1\r\nsemantic-version: 2.10.0\r\ntomlkit==0.12.0 is not installed.\r\ntyper: 0.12.3\r\ntyping-extensions: 4.11.0\r\nurllib3: 2.2.2\r\nuvicorn: 0.30.1\r\nauthlib; extra == 'oauth' is not installed.\r\nitsdangerous; extra == 'oauth' is not installed.\r\n\r\n\r\ngradio_client dependencies in your environment:\r\n\r\nfsspec: 2024.2.0\r\nhttpx: 0.27.0\r\nhuggingface-hub: 0.22.2\r\npackaging: 24.0\r\ntyping-extensions: 4.11.0\r\nwebsockets: 11.0.3\r\n```\r\n\r\n\r\n### Severity\r\n\r\nI can work around it",
    "comments": [
      {
        "user": "freddyaboulton",
        "body": "What video_codec are you using @zjysteven ? If you could share a small realistic-ish repro then we could debug this better!"
      },
      {
        "user": "zjysteven",
        "body": "Thanks for the reply. I have tried several codecs but had no luck in getting the video displayed. It's quite difficult for me to come up with a repro script. I guess I will close for now and reopen if I somehow have it ready."
      },
      {
        "user": "freddyaboulton",
        "body": "Ok @zjysteven - i'll still be looking into it so reach out with any questions!"
      }
    ]
  },
  {
    "issue_number": 9395,
    "title": "the most simple demo code of live audio could not run through",
    "author": "shaojun",
    "state": "closed",
    "created_at": "2024-09-19T10:01:31Z",
    "updated_at": "2025-05-28T17:52:48Z",
    "labels": [
      "bug",
      "Priority"
    ],
    "body": "### Describe the bug\r\n\r\nI basically followed https://www.gradio.app/guides/real-time-speech-recognition to create the demo, but the `transcribe` never get called while the audio recording in web page is working (can see the wave line jumps)\r\n\r\n### Have you searched existing issues?  🔎\r\n\r\n- [X] I have searched and found no existing issues\r\n\r\n### Reproduction\r\n\r\n```python\r\nimport gradio as gr\r\nimport numpy as np\r\n\r\ndef transcribe(stream, new_chunk):\r\n    print(\"here never get hit!!!\")\r\n    sr, y = new_chunk\r\n    \r\n    # Convert to mono if stereo\r\n    if y.ndim > 1:\r\n        y = y.mean(axis=1)\r\n        \r\n    y = y.astype(np.float32)\r\n    y /= np.max(np.abs(y))\r\n\r\n    if stream is not None:\r\n        stream = np.concatenate([stream, y])\r\n    else:\r\n        stream = y\r\n    return stream, \"dummy_data\"\r\n\r\ndemo = gr.Interface(\r\n    transcribe,\r\n    [\"state\", gr.Audio(sources=[\"microphone\"], streaming=True)],\r\n    [\"state\", \"text\"],\r\n    live=True,\r\n)\r\n\r\ndemo.launch()\r\n\r\n\r\n```\r\n\r\n\r\n### Screenshot\r\n\r\n![image](https://github.com/user-attachments/assets/67b1be45-ddb1-4784-9178-f1b7259cd562)\r\n\r\n\r\n### Logs\r\n\r\n_No response_\r\n\r\n### System Info\r\n\r\n```shell\r\nwindows 11, WSL    \r\npip3 list | grep gradio\r\ngradio              4.44.0\r\ngradio_client       1.3.0\r\n```\r\n\r\n\r\n### Severity\r\n\r\nBlocking usage of gradio",
    "comments": [
      {
        "user": "ans-hub",
        "body": "+1"
      },
      {
        "user": "roberto-viviani",
        "body": "You also get an error when trying to run your own \"Reverse audio\" demo in the documentation using this component,\n\nhttps://www.gradio.app/docs/gradio/audio\n\nRunning the demo will generate the error \"cannot unpack non-iterable NoneType object\". This is the same error I am getting when I try to use this component to record audio. "
      },
      {
        "user": "freddyaboulton",
        "body": "Can't repro this on the latest version of gradio (5.31.0) so I will close!"
      }
    ]
  },
  {
    "issue_number": 10878,
    "title": "Audio streaming doesn't work when yielding a single chunk",
    "author": "zinccat",
    "state": "closed",
    "created_at": "2025-03-25T18:15:12Z",
    "updated_at": "2025-05-28T17:43:24Z",
    "labels": [
      "bug",
      "Priority"
    ],
    "body": "### Describe the bug\n\nSeems that audio will not be generated/played then yielding a single chunk for gr.Audio\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\n```python\nimport gradio as gr\nfrom time import sleep\n\ndef keep_repeating(audio_file):\n    for _ in range(1):\n        sleep(0.5)\n        yield audio_file\n\ngr.Interface(keep_repeating,\n             gr.Audio(sources=[\"microphone\"], type=\"filepath\"),\n             gr.Audio(streaming=True, autoplay=True)\n).launch()\n\n```\n\n\n### Screenshot\n\n_No response_\n\n### Logs\n\n```shell\n\n```\n\n### System Info\n\n```shell\nGradio Environment Information:\n------------------------------\nOperating System: Darwin\ngradio version: 5.22.0\ngradio_client version: 1.8.0\n\n------------------------------------------------\ngradio dependencies in your environment:\n\naiofiles: 23.2.1\nanyio: 4.9.0\naudioop-lts is not installed.\nfastapi: 0.115.11\nffmpy: 0.5.0\ngradio-client==1.8.0 is not installed.\ngroovy: 0.1.2\nhttpx: 0.28.1\nhuggingface-hub: 0.29.3\njinja2: 3.1.2\nmarkupsafe: 2.1.3\nnumpy: 1.26.4\norjson: 3.10.15\npackaging: 23.1\npandas: 2.2.3\npillow: 10.0.0\npydantic: 2.10.6\npydub: 0.25.1\npython-multipart: 0.0.20\npyyaml: 6.0.1\nruff: 0.11.2\nsafehttpx: 0.1.6\nsemantic-version: 2.10.0\nstarlette: 0.45.1\ntomlkit: 0.13.2\ntyper: 0.15.2\ntyping-extensions: 4.12.2\nurllib3: 2.0.4\nuvicorn: 0.34.0\nauthlib; extra == 'oauth' is not installed.\nitsdangerous; extra == 'oauth' is not installed.\n\n\ngradio_client dependencies in your environment:\n\nfsspec: 2024.3.1\nhttpx: 0.28.1\nhuggingface-hub: 0.29.3\npackaging: 23.1\ntyping-extensions: 4.12.2\nwebsockets: 15.0.1\n```\n\n### Severity\n\nBlocking usage of gradio",
    "comments": [
      {
        "user": "Anakintano",
        "body": "Hi I’m trying to reproduce issue  locally on Windows (since i dont have Darwin as of now) using Gradio 5.22.0, following the provided code snippet. After recording audio and submitting it, I see an \"Error\" message in the output gr.Audio component (with streaming=True and autoplay=True), instead of the audio playing. The issue mentions that audio doesn’t play when yielding a single chunk, but doesn’t note an error—mine fails with an \"Error\" in the UI.\nCould you clarify if this error aligns with the  issue, or if I might be hitting a different problem? I’m using the exact code from the issue , with Stereo Mix as my input source to route speaker output as the microphone. I’d be happy to share the detailed traceback from my terminal or browser console if needed.\nThanks for your help!\nThanks\n\n"
      },
      {
        "user": "zinccat",
        "body": "I didn't receive the error on my side, though it seems similar. Can you try to change range(1) to a larger number?"
      },
      {
        "user": "Anakintano",
        "body": "Sure \n I did that , it still shows an error , but accidentally when I pressed submit without turning off the record it did try to play something but then it didn't.\n\n"
      }
    ]
  },
  {
    "issue_number": 11138,
    "title": "If gradio error has long text without a space, the close icon gets hidden",
    "author": "aliabid94",
    "state": "closed",
    "created_at": "2025-05-05T09:47:38Z",
    "updated_at": "2025-05-28T17:26:09Z",
    "labels": [
      "bug"
    ],
    "body": "### Describe the bug\n\nIf gradio error has long text without a space, the text doesn't break and the close icon gets hidden \n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\n```python\nimport gradio as gr\n\n\ndef greet(name):\n    raise gr.Error(\"The issue is \" + \"error\" * 50)\n    return \"Hello \" + name + \"!\"\n\n\nwith gr.Blocks() as demo:\n    name = gr.Textbox(label=\"Name\")\n    output = gr.Textbox(label=\"Output Box\")\n    greet_btn = gr.Button(\"Greet\")\n    greet_btn.click(fn=greet, inputs=name, outputs=output, api_name=\"greet\")\n\nif __name__ == \"__main__\":\n    demo.launch()\n```\n\n\n### Screenshot\n\n<img width=\"468\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/8224933e-7638-4527-9e00-94644cdd68ac\" />\n\n### Logs\n\n```shell\n\n```\n\n### System Info\n\n```shell\nmac os, gradio==5.29\n```\n\n### Severity\n\nI can work around it",
    "comments": []
  },
  {
    "issue_number": 11064,
    "title": "Audio loss in streaming video output (Gradio 5.25) - Only first segment has audio",
    "author": "trimonster233",
    "state": "closed",
    "created_at": "2025-04-21T07:09:28Z",
    "updated_at": "2025-05-28T16:38:52Z",
    "labels": [
      "bug",
      "Priority"
    ],
    "body": "### Describe the bug\n\n**Description:**\nWhen using `gr.Video()` with streaming output in Gradio 5.25, videos with audio lose sound after the first segment. The video frames stream correctly but the audio only plays in the initial segment.\n\n**Environment:**\n\n- Gradio version: 5.25.0\n- Python version: 3.11.12\n- Operating System: windows\n\n**Question:**\nIs this a known limitation in Gradio 5.25's streaming implementation, or might there be a workaround to preserve audio throughout the stream?\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\n```python\nimport gradio as gr\nimport os\nimport time\nfrom pathlib import Path\n\nvideo_dir = Path(\"data/video\")\nvideo_files = list(video_dir.glob(\"*.mp4\"))\n\ndef stream_video():\n    for video_file in video_files:\n        print(video_file)\n        video_path = str(video_file)\n        yield video_path\n        time.sleep(0.5)\n\n    yield None\n\nwith gr.Blocks() as demo:\n    with gr.Row():\n        video = gr.Video(label=\"stream output\", height=500, autoplay=True, streaming=True)\n\n    start_btn = gr.Button(\"start\")\n    start_btn.click(fn=stream_video, outputs=video)\n\nif __name__ == \"__main__\":\n    demo.queue().launch()\n```\n\n\n### Severity\n\nI can work around it",
    "comments": [
      {
        "user": "abidlabs",
        "body": "Is this a regression, i.e. does this work with earlier versions of Gradio?"
      },
      {
        "user": "trimonster233",
        "body": "> Is this a regression, i.e. does this work with earlier versions of Gradio?\n\nHi abidlabs,\n\nThanks for your reply. After testing versions 5.21 through the latest release, I’ve confirmed that the issue persists. Additionally, I observed some interesting behavior related to streaming video chunks:\n\n1. **Case 1: Streaming Discrete Chunks (A, B, C)**\n   - When streaming individual segments (e.g., A, then B, then C) as separate inputs, the **video is continuous**, but **only the first segment (A) has audio**. Subsequent segments (B, C) lose audio.\n2. **Case 2: Progressive Streaming (A → AB → ABC)**\n   - When progressively expanding the stream (e.g., A, then A+B, then A+B+C, similar to chatbot streaming), the **audio works correctly**, but the **video repeats the first segment (A)** instead of showing new content.\n\nActually,the documentation doesn't clearly specify the streaming input method. Should this be explicitly stated in the documentation to distinguish it from chatbot-style streaming?\n\nI hope these details help narrow down the root cause. Let me know if further testing or examples would be useful!"
      },
      {
        "user": "santosh-r24",
        "body": "> Is this a regression, i.e. does this work with earlier versions of Gradio?\n\nI have tested this on version 5.1.0, can report that this issue persists here. So, don't think this is a regression "
      }
    ]
  },
  {
    "issue_number": 10796,
    "title": "Unable to implement Sidebar with ChatInterface as the layout distorts while using ChatInterface in Blocks",
    "author": "yvrjsharma",
    "state": "closed",
    "created_at": "2025-03-12T14:40:16Z",
    "updated_at": "2025-05-28T02:25:06Z",
    "labels": [
      "bug",
      "Priority"
    ],
    "body": "### Describe the bug\n\nI wanted to implement `gr.Sidebar()` alongside `gr.ChatInterface()`, but the layout distorts when using ChatInterface within Blocks.\n\nSome examples to explain what is happening:\nWith `gr.Blocks()`:  \n- The layout appears correct when using just `gr.ChatInterface()`:  \n![Image](https://github.com/user-attachments/assets/a7b78b7d-989b-47e1-9e85-c45eb80c55aa)  \n\n- When `ChatInterface` is used within gradio Blocks along with `additional_inputs`, the additional input field positions itself at the top, even before the title and description.  \n![Image](https://github.com/user-attachments/assets/64d5b60f-4f49-4ad0-a8db-e234cc6cfaea)\n\n- When `ChatInterface` is used within gradio Blocks along with `additional_inputs` and Multimodal Textbox, the textbox attaches itself to additional input field on the top. \n![Image](https://github.com/user-attachments/assets/6246203f-a95d-4961-ba1e-9e8a21386563)\n\nLastly with `gr.Sidebar()`:  \n```python\nimport time\nimport gradio as gr\n\ndef echo(message, history, system_prompt, tokens):\n    response = f\"System prompt: {system_prompt}\\n Message: {message}.\"\n    for i in range(min(len(response), int(tokens))):\n        time.sleep(0.05)\n        yield response[: i + 1]\n\nwith gr.Blocks() as demo:\n    with gr.Sidebar():\n        title=gr.Markdown(\"# Gemma 3 12B it\")\n        description=gr.HTML(\"<img src='https://huggingface.co/spaces/huggingface-projects/gemma-3-12b-it/resolve/main/assets/logo.png' id='logo' />\")       \n    additional_inputs=[\n            gr.Textbox(\"You are helpful AI.\", label=\"System Prompt\"),\n            gr.Slider(10, 100),\n        ]\n    chat = gr.ChatInterface(\n        echo,\n        type=\"messages\",\n        additional_inputs=additional_inputs,\n        textbox=gr.MultimodalTextbox(file_types=[\"image\"], file_count=\"multiple\"),\n    )\n\ndemo.launch()\n```\n![Image](https://github.com/user-attachments/assets/49860a74-223c-4451-9802-d77c370ac366)  \n \n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\n```python\nimport gradio as gr\nimport time\n\ndef echo(message, history, system_prompt, tokens):\n    response = f\"System prompt: {system_prompt}\\n Message: {message}.\"\n    for i in range(min(len(response), int(tokens))):\n        time.sleep(0.05)\n        yield response[: i + 1]\n\nwith gr.Blocks() as demo:\n    chat = gr.ChatInterface(\n        echo,\n        title=\"Gemma 3 12B it\",\n        description=\"<img src='https://huggingface.co/spaces/huggingface-projects/gemma-3-12b-it/resolve/main/assets/logo.png' id='logo' />\",\n        type=\"messages\",\n    additional_inputs=[\n            gr.Textbox(\"You are helpful AI.\", label=\"System Prompt\"),\n            gr.Slider(10, 100),\n        ],\n        textbox=gr.MultimodalTextbox(file_types=[\"image\"], file_count=\"multiple\"),\n        )\n\ndemo.launch()\n\n\n```\n\n\n### Screenshot\n\n_No response_\n\n### Logs\n\n```shell\n\n```\n\n### System Info\n\n```shell\nWith gradio 5.20.1\n```\n\n### Severity\n\nI can work around it",
    "comments": [
      {
        "user": "abidlabs",
        "body": "Note to self: confirm that the fix PR for this allows putting additional inputs int he Sidebar"
      },
      {
        "user": "abidlabs",
        "body": "I think this was just an missing indentation. This works for me:\n\n```py\nimport time\nimport gradio as gr\n\ndef echo(message, history, system_prompt, tokens):\n    response = f\"System prompt: {system_prompt}\\n Message: {message}.\"\n    for i in range(min(len(response), int(tokens))):\n        time.sleep(0.05)\n        yield response[: i + 1]\n\nwith gr.Blocks() as demo:\n    with gr.Sidebar():\n        description=gr.HTML(\"<img src='https://huggingface.co/spaces/huggingface-projects/gemma-3-12b-it/resolve/main/assets/logo.png' id='logo' />\")       \n        additional_inputs=[\n            gr.Textbox(\"You are helpful AI.\", label=\"System Prompt\"),\n            gr.Slider(10, 100),\n        ]\n    chat = gr.ChatInterface(\n        echo,\n        type=\"messages\",\n        additional_inputs=additional_inputs,\n        textbox=gr.MultimodalTextbox(file_types=[\"image\"], file_count=\"multiple\"),\n    )\n\ndemo.launch()\n```\n\n<img width=\"1376\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/c0262f20-a00f-4625-a10b-1daba5c3a498\" />\n\nI'll close but let me know if I've misunderstood @yvrjsharma "
      }
    ]
  },
  {
    "issue_number": 11269,
    "title": "ChatInterface function no longer works after translating the page with browser",
    "author": "clossion",
    "state": "open",
    "created_at": "2025-05-27T17:49:53Z",
    "updated_at": "2025-05-27T18:30:33Z",
    "labels": [
      "bug"
    ],
    "body": "### Describe the bug\n\nIt's an interesting issue...when you use Edge's translation in you website.\nWell, let's watch this funny video. Then you can understand anything.\nIt's Streaming Chatbot demo, you can download in Gradio's official website.\nIt took me a few hours to find out if it was a problem with my code, as it was really hard to spot and I hadn't seen this error in other third-party libraries before.\n\nhttps://github.com/user-attachments/assets/734e8ce4-21a8-4e18-8aa0-647fb4724df8\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\n```python\n# This Gradio app creates a chat interface that slowly echoes the user's message.\nimport time\nimport gradio as gr\n\n# Define a function that slowly echoes the user's message.\ndef slow_echo(message, history):\n    for i in range(len(message)):\n        time.sleep(0.05)\n        yield \"You typed: \" + message[: i + 1]\n\n# Create a Gradio ChatInterface with the slow_echo function.\n# The interface allows flagging of messages with specific options and saves the chat history.\ndemo = gr.ChatInterface(\n    slow_echo,\n    type=\"messages\",\n    flagging_mode=\"manual\",\n    flagging_options=[\"Like\", \"Spam\", \"Inappropriate\", \"Other\"],\n    save_history=True,\n)\n\n# Launch the Gradio app.\nif __name__ == \"__main__\":\n    demo.launch(show_error=True)\n\n```\n\n\n### Screenshot\n\n_No response_\n\n### Logs\n\n```shell\n\n```\n\n### System Info\n\n```shell\nNo need\n```\n\n### Severity\n\nI can work around it",
    "comments": [
      {
        "user": "clossion",
        "body": "But, it works well in Gradio's playground, not issues in there."
      },
      {
        "user": "abidlabs",
        "body": "Sorry what exactly is the error? Can you explain?"
      },
      {
        "user": "clossion",
        "body": "> Sorry what exactly is the error? Can you explain?\nIf your native language is not English, then when you open a website, a translate button will appear in the top right corner. Well, if your default setting is automatic translation, or if you have translated the web page. Then, there's a high chance that your local stream will lose information and become locked.\n"
      }
    ]
  },
  {
    "issue_number": 11264,
    "title": "question",
    "author": "inkling211",
    "state": "closed",
    "created_at": "2025-05-27T11:20:37Z",
    "updated_at": "2025-05-27T18:28:39Z",
    "labels": [],
    "body": "i can add custom fount??\n\nand how can i add two images for background (1 image on left 1 image on right)",
    "comments": [
      {
        "user": "abidlabs",
        "body": "For general questions like this (that are not feature requests or bug reports), please ask in [our Discord server](http://discord.gg/feTf9x3ZSB). (I'll close this issue)"
      }
    ]
  },
  {
    "issue_number": 11267,
    "title": "streaming chatbot can't run in the new vision",
    "author": "clossion",
    "state": "closed",
    "created_at": "2025-05-27T17:11:57Z",
    "updated_at": "2025-05-27T17:27:06Z",
    "labels": [
      "bug"
    ],
    "body": "### Describe the bug\n\n![Image](https://github.com/user-attachments/assets/e8e1c837-2d8b-4dee-b3ac-f9419d800d55)\nThis is streaming chatbot demo, it'll block after some--two or three response.\nThis is the code although I think it needn't paste...I pay some hours to find if it's my codes' problem.\nThen, I copy your playground demo, then......\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\n```python\n# This Gradio app creates a chat interface that slowly echoes the user's message.\nimport time\nimport gradio as gr\n\n# Define a function that slowly echoes the user's message.\ndef slow_echo(message, history):\n    for i in range(len(message)):\n        time.sleep(0.05)\n        yield \"You typed: \" + message[: i + 1]\n\n# Create a Gradio ChatInterface with the slow_echo function.\n# The interface allows flagging of messages with specific options and saves the chat history.\ndemo = gr.ChatInterface(\n    slow_echo,\n    type=\"messages\",\n    flagging_mode=\"manual\",\n    flagging_options=[\"Like\", \"Spam\", \"Inappropriate\", \"Other\"],\n    save_history=True,\n)\n\n# Launch the Gradio app.\nif __name__ == \"__main__\":\n    demo.launch(show_error=True)\n\n```\n\n\n### Screenshot\n\n![Image](https://github.com/user-attachments/assets/52a025fe-ad88-46ff-8e06-178c53f67f6b)\n\n### Logs\n\n```shell\nNo need.\n```\n\n### System Info\n\n```shell\nGradio Environment Information:\n------------------------------ \nOperating System: Windows\ngradio version: 5.31.0\ngradio_client version: 1.10.1\n\n------------------------------------------------\ngradio dependencies in your environment:        \n\naiofiles: 24.1.0\nanyio: 4.9.0\naudioop-lts is not installed.\nfastapi: 0.115.12\nffmpy: 0.5.0\ngradio-client: 1.10.1\ngroovy: 0.1.2\nhttpx: 0.28.1\nhuggingface-hub: 0.32.2\njinja2: 3.1.6\nmarkupsafe: 3.0.2\nnumpy: 2.2.6\norjson: 3.10.18\npackaging: 25.0\npandas: 2.2.3\npillow: 11.2.1\npydantic: 2.11.5\npydub: 0.25.1\npython-multipart: 0.0.20\npyyaml: 6.0.2\nruff: 0.11.11\nsafehttpx: 0.1.6\nsemantic-version: 2.10.0\nstarlette: 0.46.2\ntomlkit: 0.13.2\ntyper: 0.16.0\ntyping-extensions: 4.13.2\nurllib3: 2.4.0\nuvicorn: 0.34.2\nmcp is not installed.\npydantic: 2.11.5\nauthlib is not installed.\nitsdangerous is not installed.\n\n\ngradio_client dependencies in your environment:\n\nfsspec: 2024.2.0\nhttpx: 0.28.1\nhuggingface-hub: 0.32.2\npackaging: 25.0\ntyping-extensions: 4.13.2\nwebsockets: 15.0.1\n```\n\n### Severity\n\nBlocking usage of gradio",
    "comments": []
  },
  {
    "issue_number": 11128,
    "title": "Are there any place where we can download latest code examples - demos - coding as a compound to give it into big LLMs?",
    "author": "FurkanGozukara",
    "state": "closed",
    "created_at": "2025-05-03T10:07:11Z",
    "updated_at": "2025-05-27T16:32:04Z",
    "labels": [
      "docs/website"
    ],
    "body": "Currently context size of Gemini is truly is 1m and it may get increased very soon again\n\nHowever its freshness for Gradio is very bad\n\nAre there any place where I can download entire demo codes or documentation as a single file to provide it entirely?\n\nThis would be a total game changer for Gradio coding ",
    "comments": [
      {
        "user": "abidlabs",
        "body": "Use this @FurkanGozukara: https://www.gradio.app/llms.txt\n\n@aliabd should we link this directly from the docs?"
      },
      {
        "user": "FurkanGozukara",
        "body": "> Use this [@FurkanGozukara](https://github.com/FurkanGozukara): https://www.gradio.app/llms.txt\n> \n> [@aliabd](https://github.com/aliabd) should we link this directly from the docs?\n\nso much awesome ty. will share this on my all social media :)"
      },
      {
        "user": "FurkanGozukara",
        "body": "even though I gave Gemini 2.5 entire code which isnt even big, it still makes this error\n\nperhaps docs are not complete @abidlabs ?\n\n`TypeError: Markdown.init() got an unexpected keyword argument 'scale'`\n\n`gr.Markdown(full_display_text, scale=4) # Give text more space`"
      }
    ]
  },
  {
    "issue_number": 10996,
    "title": "A slight issue with the code in the Gradio documentation",
    "author": "Halorv",
    "state": "closed",
    "created_at": "2025-04-10T13:39:40Z",
    "updated_at": "2025-05-27T15:48:56Z",
    "labels": [
      "docs/website"
    ],
    "body": "### Describe the bug\n\nurl: https://www.gradio.app/guides/file-access\nIn the code of the last chapter `Example: Accessing local files`:\n```python\nfrom pathlib import Path\n\nimport gradio as gr\n\ngr.set_static_paths(paths=[Path.cwd().absolute()/\"assets\"]])\n\nwith gr.Blocks() as demo:\n    gr.HTML(\"<img src='/gradio_api/file=assets/logo.png'>\")\n\ndemo.launch()\n```\n`gr.set_static_paths(paths=[Path.cwd().absolute()/\"assets\"]])`\nThere is an extra `]` in this sentence.\nBy the way, this sentence helped me solve the issue with 403 Forbidden\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\n```python\nimport gradio as gr\n\n```\n\n\n### Screenshot\n\n![Image](https://github.com/user-attachments/assets/733b0460-1e7f-4879-a969-38ffc4a60895)\n\n### Logs\n\n```shell\n\n```\n\n### System Info\n\n```shell\ndocument bug\n```\n\n### Severity\n\nI can work around it",
    "comments": [
      {
        "user": "abidlabs",
        "body": "Thanks @Halorv! Would you like to open a PR to fix this? The file is here: https://github.com/gradio-app/gradio/blob/main/guides/04_additional-features/08_file-access.md"
      },
      {
        "user": "aliabd",
        "body": "closed by https://github.com/gradio-app/gradio/pull/11251 "
      }
    ]
  },
  {
    "issue_number": 11261,
    "title": "Add missing `blur` event to `gr.Number`",
    "author": "ExcellentAmericanEagle",
    "state": "closed",
    "created_at": "2025-05-27T08:52:27Z",
    "updated_at": "2025-05-27T12:32:30Z",
    "labels": [
      "bug"
    ],
    "body": "### Describe the bug\n\nThe `gr.Number` component is missing the `blur` event, even thought it was added back in 2022 #2449 alongside `gr.Textbox` which has it.\n\nIn the changes of #2448 I noticed it almost fully added it, but it misses adding \"blur\" documentation to `gr.Number`:\n```python\n# Textbox has it:\n@document(\"change\", \"submit\", \"blur\", \"style\")\n\n# Number doesn't:\n@document(\"change\", \"submit\", \"style\")\n```\n\nIt's also missing from the [latest gr.Number Docs](https://www.gradio.app/docs/gradio/number)\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\n```python\nimport gradio as gr\n\nnumber = gr.Number() \n\n# `blur` isn't a property of of `number`\nnumber.blur()\n```\n\n\n### Screenshot\n\n_No response_\n\n### Logs\n\n```shell\n$ python src/__main__.py \n5.31.0\nTraceback (most recent call last):\n  File \"C:\\Users\\user\\projects\\gradio-sandbox\\src\\__main__.py\", line 19, in <module>\n    number.blur()\n    ^^^^^^^^^^^\nAttributeError: 'Number' object has no attribute 'blur'\n```\n\n### System Info\n\n```shell\nGradio Environment Information:\n------------------------------\nOperating System: Windows\ngradio version: 5.31.0\ngradio_client version: 1.10.1\n\n------------------------------------------------\ngradio dependencies in your environment:\n\naiofiles: 24.1.0\nanyio: 4.9.0\naudioop-lts: 0.2.1\nfastapi: 0.115.12\nffmpy: 0.5.0\ngradio-client: 1.10.1\ngroovy: 0.1.2\nhttpx: 0.28.1\nhuggingface-hub: 0.30.2\njinja2: 3.1.6\nmarkupsafe: 3.0.2\nnumpy: 2.2.5\norjson: 3.10.18\npackaging: 25.0\npandas: 2.2.3\npillow: 11.2.1\npydantic: 2.11.4\npydub: 0.25.1\npython-multipart: 0.0.20\npyyaml: 6.0.2\nruff: 0.11.8\nsafehttpx: 0.1.6\nsemantic-version: 2.10.0\nstarlette: 0.46.2\ntomlkit: 0.13.2\ntyper: 0.15.3\ntyping-extensions: 4.13.2\nurllib3: 2.4.0\nuvicorn: 0.34.2\nmcp is not installed.\npydantic: 2.11.4\nauthlib is not installed.\nitsdangerous is not installed.\n\n\ngradio_client dependencies in your environment:\n\nfsspec: 2025.3.2\nhttpx: 0.28.1\nhuggingface-hub: 0.30.2\npackaging: 25.0\ntyping-extensions: 4.13.2\nwebsockets: 15.0.1\n```\n\n### Severity\n\nBlocking usage of gradio",
    "comments": [
      {
        "user": "ExcellentAmericanEagle",
        "body": "IMO, I think there shouldn't be a special `gr.Number` component just for numeric inputs and instead rely on `gr.Textbox` but pass it `type=\"number\"` (like `<input>` in JS)\n\nCurrently at its form `gr.Number` is like a degenerated version of `gr.Textbox` - it lacks properties `gr.Textbox` has like `text_align`, `copy` event, `show_copy_button`, `autofocus` etc.\n\nI don't see a reason to maintain almost two similar components.\nI suggest making `gr.Number` a subclass of `gr.Textbox` or make it instantiate a `gr.Textbox` behind the scenes"
      },
      {
        "user": "ExcellentAmericanEagle",
        "body": "Made it:\n\n```py\nimport gradio as gr\n\nwith gr.Blocks() as demo:\n    number_state = gr.State(5)\n\n    def update_number_state(new_number: float):\n        return new_number\n    \n    @gr.render(inputs=[number_state])\n    def render_number(number_value):\n        number = gr.Number(value=number_value)\n        number.blur(fn=update_number_state, inputs=[number], outputs=[number_state])\n\n        gr.Markdown(f\"Your number is **{number_value}**\")\n    \ndemo.launch()\n```\n\nWill open a PR shortly"
      }
    ]
  },
  {
    "issue_number": 11253,
    "title": "ChatInterface text streaming not working properly in documentation demos",
    "author": "damianib",
    "state": "open",
    "created_at": "2025-05-24T10:58:20Z",
    "updated_at": "2025-05-27T11:33:31Z",
    "labels": [
      "bug",
      "gradio-lite"
    ],
    "body": "### Describe the bug\n\nHello,\n\nI have noticed that the chatinterface_streaming_echo demo from the documentation (https://www.gradio.app/docs/gradio/chatinterface#demos) does not in fact stream the text correctly. Rather, it waits for the last yield in slow_echo before showing the full result.\n\nThis does not happen when I run the same code locally on my laptop, so that could be an issue with Gradio Playground.\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\n```python\nimport time\nimport gradio as gr\n\ndef slow_echo(message, history):\n    for i in range(len(message)):\n        time.sleep(0.05)\n        yield \"You typed: \" + message[: i + 1]\n\ndemo = gr.ChatInterface(\n    slow_echo,\n    type=\"messages\",\n    flagging_mode=\"manual\",\n    flagging_options=[\"Like\", \"Spam\", \"Inappropriate\", \"Other\"],\n    save_history=True,\n)\n\nif __name__ == \"__main__\":\n    demo.launch()\n```\n\n\n### Screenshot\n\nIncorrect behavior in documentation:\n![Image](https://github.com/user-attachments/assets/e87d6d3a-d710-4630-8f04-8e2525df3b7f)\n\nCorrect behavior locally:\n![Image](https://github.com/user-attachments/assets/266faf66-06a8-4929-ab30-6ee0b2c28515)\n\n### Logs\n\n```shell\n\n```\n\n### System Info\n\n```shell\nDocumentation:\nWindows 11 Pro 24H2\nFirefox 138.0.4 / Chrome 137.0.7151.41\n\nLocal environment:\nPython 3.11.9\naiofiles==24.1.0\nannotated-types==0.7.0\nanyio==4.9.0\nasttokens==3.0.0\ncertifi==2025.4.26\ncharset-normalizer==3.4.2\nclick==8.1.8\ncolorama==0.4.6\ncomm==0.2.2\ndebugpy==1.8.14\ndecorator==5.2.1\nexecuting==2.2.0\nfastapi==0.115.12\nffmpy==0.5.0\nfilelock==3.18.0\nfsspec==2025.5.0\ngradio==5.31.0\ngradio_client==1.10.1\ngroovy==0.1.2\nh11==0.16.0\nhttpcore==1.0.9\nhttpx==0.28.1\nhuggingface-hub==0.32.0\nidna==3.10\nipykernel==6.29.5\nipython==9.2.0\nipython_pygments_lexers==1.1.1\njedi==0.19.2\nJinja2==3.1.6\njupyter_client==8.6.3\njupyter_core==5.7.2\nmarkdown-it-py==3.0.0\nMarkupSafe==3.0.2\nmatplotlib-inline==0.1.7\nmdurl==0.1.2\nnest-asyncio==1.6.0\nnumpy==2.2.6\norjson==3.10.18\npackaging==25.0\npandas==2.2.3\nparso==0.8.4\npillow==11.2.1\nplatformdirs==4.3.8\nprompt_toolkit==3.0.51\npsutil==7.0.0\npure_eval==0.2.3\npydantic==2.11.5\npydantic_core==2.33.2\npydub==0.25.1\nPygments==2.19.1\npython-dateutil==2.9.0.post0\npython-multipart==0.0.20\npytz==2025.2\npywin32==310\nPyYAML==6.0.2\npyzmq==26.4.0\nrequests==2.32.3\nrich==14.0.0\nruff==0.11.11\nsafehttpx==0.1.6\nsemantic-version==2.10.0\nshellingham==1.5.4\nsix==1.17.0\nsniffio==1.3.1\nstack-data==0.6.3\nstarlette==0.46.2\ntomlkit==0.13.2\ntornado==6.5.1\ntqdm==4.67.1\ntraitlets==5.14.3\ntyper==0.15.4\ntyping-inspection==0.4.1\ntyping_extensions==4.13.2\ntzdata==2025.2\nurllib3==2.4.0\nuvicorn==0.34.2\nwcwidth==0.2.13\nwebsockets==15.0.1\n```\n\n### Severity\n\nI can work around it",
    "comments": [
      {
        "user": "abidlabs",
        "body": "Interesting, cc @aliabd @whitphx as this seems to be related to Lite, e.g. [see this](https://www.gradio.app/playground?demo=Hello_World&code=aW1wb3J0IHRpbWUKaW1wb3J0IGdyYWRpbyBhcyBncgoKZGVmIHNsb3dfZWNobyhtZXNzYWdlLCBoaXN0b3J5KToKICAgIGZvciBpIGluIHJhbmdlKGxlbihtZXNzYWdlKSk6CiAgICAgICAgdGltZS5zbGVlcCgwLjA1KQogICAgICAgIHlpZWxkICJZb3UgdHlwZWQ6ICIgKyBtZXNzYWdlWzogaSArIDFdCgpkZW1vID0gZ3IuQ2hhdEludGVyZmFjZSgKICAgIHNsb3dfZWNobywKICAgIHR5cGU9Im1lc3NhZ2VzIiwKICAgIGZsYWdnaW5nX21vZGU9Im1hbnVhbCIsCiAgICBmbGFnZ2luZ19vcHRpb25zPVsiTGlrZSIsICJTcGFtIiwgIkluYXBwcm9wcmlhdGUiLCAiT3RoZXIiXSwKICAgIHNhdmVfaGlzdG9yeT1UcnVlLAopCgppZiBfX25hbWVfXyA9PSAiX19tYWluX18iOgogICAgZGVtby5sYXVuY2goKQ%3D%3D&reqs=)"
      },
      {
        "user": "aliabd",
        "body": "Yeah seems to be an issue with the yield generator in general, like in this [demo](https://www.gradio.app/playground?demo=Iterative_Output&code=aW1wb3J0IGdyYWRpbyBhcyBncgppbXBvcnQgbnVtcHkgYXMgbnAKaW1wb3J0IHRpbWUKCmRlZiBmYWtlX2RpZmZ1c2lvbihzdGVwcyk6CiAgICBybmcgPSBucC5yYW5kb20uZGVmYXVsdF9ybmcoKQogICAgZm9yIGkgaW4gcmFuZ2Uoc3RlcHMpOgogICAgICAgIHRpbWUuc2xlZXAoMSkKICAgICAgICBpbWFnZSA9IHJuZy5yYW5kb20oc2l6ZT0oNjAwLCA2MDAsIDMpKQogICAgICAgIHlpZWxkIGltYWdlCiAgICBpbWFnZSA9IG5wLm9uZXMoKDEwMDAsMTAwMCwzKSwgbnAudWludDgpCiAgICBpbWFnZVs6XSA9IFsyNTUsIDEyNCwgMF0KICAgIHlpZWxkIGltYWdlCgpkZW1vID0gZ3IuSW50ZXJmYWNlKGZha2VfZGlmZnVzaW9uLAogICAgICAgICAgICAgICAgICAgIGlucHV0cz1nci5TbGlkZXIoMSwgMTAsIDMsIHN0ZXA9MSksCiAgICAgICAgICAgICAgICAgICAgb3V0cHV0cz0iaW1hZ2UiKQoKaWYgX19uYW1lX18gPT0gIl9fbWFpbl9fIjoKICAgIGRlbW8ubGF1bmNoKCkK&reqs=bnVtcHk%3D) as well. Will take a look "
      }
    ]
  },
  {
    "issue_number": 10022,
    "title": "file_types filed does not take compound field extensions like *.nii.gz",
    "author": "a-parida12",
    "state": "open",
    "created_at": "2024-11-22T20:32:42Z",
    "updated_at": "2025-05-27T02:08:14Z",
    "labels": [
      "bug",
      "Priority"
    ],
    "body": "- [ ] I have searched to see if a similar issue already exists.\r\n\r\nI am using gradio `gr.File` to upload NifTi files which have the extensions `.nii` or their zipped version `.nii.gz` in version `gradio==5.6.0` I am unable to set `file_types =['.nii.gz']` but `file_types =['.gz']`works.\r\n",
    "comments": [
      {
        "user": "a-parida12",
        "body": "@abidlabs I would like to work on and fix this is issue. is it possible for you to point me to a location in the codebase where I can look for a solution?"
      }
    ]
  },
  {
    "issue_number": 11008,
    "title": "SSR Mode with auth_dependency Causes Unauthorized Error on /config and Fails to Load Interface",
    "author": "mussonero",
    "state": "open",
    "created_at": "2025-04-13T20:20:48Z",
    "updated_at": "2025-05-27T02:07:51Z",
    "labels": [
      "bug",
      "Priority"
    ],
    "body": "### Describe the bug\n\nWhen using gr.mount_gradio_app with auth_dependency and ssr_mode=True, the frontend fails to load the demo interface due to an unauthorized error on /config. This results in a 500 Internal Server Error when trying to access /demo.\n\n``` bashe\nINFO:     Started server process [18836]\nINFO:     Waiting for application startup.\nINFO:     Application startup complete.\nINFO:     Uvicorn running on http://0.0.0.0:8080 (Press CTRL+C to quit)\nINFO:     127.0.0.1:44778 - \"GET /demo/config HTTP/1.1\" 401 Unauthorized\nError: Error: Login credentials are required to access this space.\n    at Client._resolve_config ...\nINFO:     127.0.0.1:44768 - \"GET /demo/ HTTP/1.1\" 500 Internal Server Error\n```\n\nExpected Behavior: When accessing /demo, the app should check for the custom header and render the interface without crashing or producing an internal server error.\n\nActual Behavior: Accessing /demo returns 500, and logs show a 401 error when the frontend tries to fetch /demo/config.\n\nNote:\nThe issue started after Gradio@5.23.2\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\n```python\nfrom fastapi import FastAPI, Request\nimport gradio as gr\nimport uvicorn\n\napp = FastAPI()\n\ndef get_user(request: Request):\n    return request.headers.get(\"user\")\n\ndemo = gr.Interface(lambda s: f\"Hello {s}!\", \"textbox\", \"textbox\")\n\napp = gr.mount_gradio_app(\n    app,\n    demo,\n    path=\"/demo\",\n    auth_dependency=get_user,\n    ssr_mode=True,\n)\n\nif __name__ == '__main__':\n    uvicorn.run(app, host=\"0.0.0.0\", port=8080)\n\n```\n\n\n### Screenshot\n\n_No response_\n\n### Logs\n\n```shell\nNFO:     Started server process [18836]\nINFO:     Waiting for application startup.\nINFO:     Application startup complete.\nINFO:     Uvicorn running on http://0.0.0.0:8080 (Press CTRL+C to quit)\nINFO:     127.0.0.1:44778 - \"GET /demo/config HTTP/1.1\" 401 Unauthorized\nError: Error: Login credentials are required to access this space.\n    at Client._resolve_config ...(......gradio/.venv/lib/python3.12/site-packages/gradio/templates/node/build/server/chunks/2-BWnAEnue.js:44877:15)\nat process.processTicksAndRejections (node:internal/process/task_queues:105:5)\nat async Client.init (......gradio/.venv/lib/python3.12/site-packages/gradio/templates/node/build/server/chunks/2-BWnAEnue.js:44791:5)\nat async Client.connect (......gradio/.venv/lib/python3.12/site-packages/gradio/templates/node/build/server/chunks/2-BWnAEnue.js:44830:5)\nat async load$1 (......gradio/.venv/lib/python3.12/site-packages/gradio/templates/node/build/server/chunks/2-BWnAEnue.js:47922:15)\nat async load_data (......gradio/.venv/lib/python3.12/site-packages/gradio/templates/node/build/server/index.js:1229:18)\nat async ......gradio/.venv/lib/python3.12/site-packages/gradio/templates/node/build/server/index.js:2669:18\nINFO:     127.0.0.1:44768 - \"GET /demo/ HTTP/1.1\" 500 Internal Server Error\n```\n\n### System Info\n\n```shell\nEnvironment:\n\nGradio version: 5.25.0\n\nPython version: 3.12\n\nNode version: v22.14.0\n\nOS: Ubuntu 24.04.2 LTS\n```\n\n### Severity\n\nBlocking usage of gradio",
    "comments": []
  },
  {
    "issue_number": 10438,
    "title": "XML tag support for copy button",
    "author": "ZiyaCu",
    "state": "open",
    "created_at": "2025-01-27T09:21:32Z",
    "updated_at": "2025-05-27T02:07:50Z",
    "labels": [
      "enhancement",
      "Priority"
    ],
    "body": "- [x] I have searched to see if a similar issue already exists.\n\n\n**Is your feature request related to a problem? Please describe.**  \nI want to create or edit an xml with llm but tags are not displayed in gradio. I tried to escape the text with `html.escape(text)` so tags are displayed in gradio but copy button of chatbot copied the escaped text. \n\n**Describe the solution you'd like**  \nAdding `html.escape()` support to chatbot and `html.unescape()` support to copy button of chatbot. Or at least for only copy button. \n\n**Additional context**  \nI tried `sanitize_html=False` but it is not what I wanted. Also it would be good to know if it is possible to change behavior of copy button by overriding some functions. \n",
    "comments": [
      {
        "user": "abidlabs",
        "body": "Hi @ZiyaCu why doesn't `sanitize_html=False` work for you?"
      },
      {
        "user": "ZiyaCu",
        "body": "Hi, because `sanitize_html=False` removes tags and shows only the text inside of the tags.\nExpected display:\n`<hello>Hi</hello>`\nCurrent display:\n`Hi`\n(gradio removes the tag string `\"<hello>\"`) "
      },
      {
        "user": "abidlabs",
        "body": "Related: https://github.com/gradio-app/gradio/issues/10454"
      }
    ]
  },
  {
    "issue_number": 10344,
    "title": "example of adding custom js from Gradio docs is not working ",
    "author": "SlimakSlimak",
    "state": "open",
    "created_at": "2025-01-13T12:43:00Z",
    "updated_at": "2025-05-27T02:07:49Z",
    "labels": [
      "bug",
      "Priority"
    ],
    "body": "### Describe the bug\n\nI am struggling to accomplish something similar to the example from here: https://www.gradio.app/guides/custom-CSS-and-JS (passing some value from python function to execute in js), but apparently even the example from the gradio website is not working. Could you please suggest an example which works and does the same?  \r\nI tried to copy paste the example code and execute it locally (thinking maybe it is an issue with gradio website and not gradio itself) but it also throws a bunch of errors. \n\n### Have you searched existing issues?  🔎\n\n- [X] I have searched and found no existing issues\n\n### Reproduction\n\n```python\r\nimport gradio as gr\r\n\r\nblocks = gr.Blocks()\r\n\r\nwith blocks as demo:\r\n    subject = gr.Textbox(placeholder=\"subject\")\r\n    verb = gr.Radio([\"ate\", \"loved\", \"hated\"])\r\n    object = gr.Textbox(placeholder=\"object\")\r\n\r\n    with gr.Row():\r\n        btn = gr.Button(\"Create sentence.\")\r\n        reverse_btn = gr.Button(\"Reverse sentence.\")\r\n        foo_bar_btn = gr.Button(\"Append foo\")\r\n        reverse_then_to_the_server_btn = gr.Button(\r\n            \"Reverse sentence and send to server.\"\r\n        )\r\n\r\n    def sentence_maker(w1, w2, w3):\r\n        return f\"{w1} {w2} {w3}\"\r\n\r\n    output1 = gr.Textbox(label=\"output 1\")\r\n    output2 = gr.Textbox(label=\"verb\")\r\n    output3 = gr.Textbox(label=\"verb reversed\")\r\n    output4 = gr.Textbox(label=\"front end process and then send to backend\")\r\n\r\n    btn.click(sentence_maker, [subject, verb, object], output1)\r\n    reverse_btn.click(\r\n        None, [subject, verb, object], output2, js=\"(s, v, o) => o + ' ' + v + ' ' + s\"\r\n    )\r\n    verb.change(lambda x: x, verb, output3, js=\"(x) => [...x].reverse().join('')\")\r\n    foo_bar_btn.click(None, [], subject, js=\"(x) => x + ' foo'\")\r\n\r\n    reverse_then_to_the_server_btn.click(\r\n        sentence_maker,\r\n        [subject, verb, object],\r\n        output4,\r\n        js=\"(s, v, o) => [s, v, o].map(x => [...x].reverse().join(''))\",\r\n    )\r\n\r\ndemo.launch()\r\n\r\n```\r\n\n\n### Screenshot\n\n![image](https://github.com/user-attachments/assets/1fbdaa6f-71ea-4d25-97c7-096cdc960859)\r\n![image](https://github.com/user-attachments/assets/5e0f6b16-4fa3-4aea-a37a-f0cca3b294fb)\r\n\n\n### Logs\n\n_No response_\n\n### System Info\n\n```shell\ngradio==5.12.0\n```\n\n\n### Severity\n\nBlocking usage of gradio",
    "comments": [
      {
        "user": "sancelot",
        "body": "You are rights, documentation is not accurate \n\nthe value is not returned to ouput : \n\nthe js function takes input,output as parameters\nso you would need to return outputs for output2\n\n the correct code should be :\n\n```\n  reverse_btn.click(\n        None, [subject, verb, object], output2, js=\"(s, v, o,output2) =>  {return o + ' ' + v + ' ' + s\"}\n    )\n```"
      }
    ]
  },
  {
    "issue_number": 10204,
    "title": "SSR does not work with `auth` enabled",
    "author": "laoshancun",
    "state": "open",
    "created_at": "2024-12-16T02:49:53Z",
    "updated_at": "2025-05-27T02:07:49Z",
    "labels": [
      "bug",
      "Priority",
      "SSR"
    ],
    "body": "### Describe the bug\n\nFailed to start while auth and ssr on\r\n\n\n### Have you searched existing issues?  🔎\n\n- [X] I have searched and found no existing issues\n\n### Reproduction\n\n```python\r\n        import gradio as gr\r\n\r\n        def greet(name):\r\n            return f\"Hello, {name}!\"\r\n\r\n        # Define the username and password for authentication\r\n        auth = ('username', 'password')\r\n\r\n        # Create the Gradio interface\r\n        iface = gr.Interface(fn=greet, inputs=\"text\", outputs=\"text\")\r\n\r\n        # Launch the interface with SSR enabled\r\n        iface.launch(server_name=\"0.0.0.0\", ssr_mode=True, auth=auth)\r\n```\r\n\n\n### Screenshot\n\n_No response_\n\n### Logs\n\n```shell\nError: Error: Login credentials are required to access this space.\r\n    at Client._resolve_config (file:///project/.venv/lib/python3.10/site-packages/gradio/templates/node/build/server/chunks/2-9Q2E4iJ-.js:39575:15)\r\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\r\n    at async Client.init (file:///project/.venv/lib/python3.10/site-packages/gradio/templates/node/build/server/chunks/2-9Q2E4iJ-.js:39491:5)\r\n    at async Client.connect (file:///project/.venv/lib/python3.10/site-packages/gradio/templates/node/build/server/chunks/2-9Q2E4iJ-.js:39530:5)\r\n    at async load$1 (file:///project/.venv/lib/python3.10/site-packages/gradio/templates/node/build/server/chunks/2-9Q2E4iJ-.js:41454:15)\r\n    at async load_data (file:///project/.venv/lib/python3.10/site-packages/gradio/templates/node/build/server/index.js:1178:18)\r\n    at async file:///project/.venv/lib/python3.10/site-packages/gradio/templates/node/build/server/index.js:2618:18\r\n\r\n>           raise ValueError(\r\n                \"When localhost is not accessible, a shareable link must be created. Please set share=True or check your proxy settings to allow access to localhost.\"\r\n            )\r\nE           ValueError: When localhost is not accessible, a shareable link must be created. Please set share=True or check your proxy settings to allow access to localhost.\n```\n\n\n### System Info\n\n```shell\n❯ gradio environment\r\nGradio Environment Information:\r\n------------------------------\r\nOperating System: Darwin\r\ngradio version: 5.8.0\r\ngradio_client version: 1.5.1\r\n\r\n------------------------------------------------\r\ngradio dependencies in your environment:\r\n\r\naiofiles: 23.2.1\r\nanyio: 4.7.0\r\naudioop-lts is not installed.\r\nfastapi: 0.115.6\r\nffmpy: 0.4.0\r\ngradio-client==1.5.1 is not installed.\r\nhttpx: 0.28.1\r\nhuggingface-hub: 0.26.5\r\njinja2: 3.1.4\r\nmarkupsafe: 2.1.5\r\nnumpy: 2.2.0\r\norjson: 3.10.12\r\npackaging: 24.2\r\npandas: 2.2.3\r\npillow: 11.0.0\r\npydantic: 2.9.2\r\npydub: 0.25.1\r\npython-multipart: 0.0.19\r\npyyaml: 6.0.2\r\nruff: 0.8.3\r\nsafehttpx: 0.1.6\r\nsemantic-version: 2.10.0\r\nstarlette: 0.38.6\r\ntomlkit: 0.12.0\r\ntyper: 0.15.1\r\ntyping-extensions: 4.12.2\r\nurllib3: 2.2.3\r\nuvicorn: 0.32.1\r\nauthlib; extra == 'oauth' is not installed.\r\nitsdangerous; extra == 'oauth' is not installed.\r\n\r\n\r\ngradio_client dependencies in your environment:\r\n\r\nfsspec: 2024.10.0\r\nhttpx: 0.28.1\r\nhuggingface-hub: 0.26.5\r\npackaging: 24.2\r\ntyping-extensions: 4.12.2\r\nwebsockets: 14.1\n```\n\n\n### Severity\n\nBlocking usage of gradio",
    "comments": []
  },
  {
    "issue_number": 10044,
    "title": "Gradio gallery parameter rows does not work and no scrollbar appears if too many images",
    "author": "matemato",
    "state": "open",
    "created_at": "2024-11-26T20:04:39Z",
    "updated_at": "2025-05-27T02:07:48Z",
    "labels": [
      "bug",
      "Priority"
    ],
    "body": "### Describe the bug\n\nWhen creating a gradio.Gallery component and passing rows parameter it simply doesn't work. When adding too many images it creates a new row. When a new row is created with height parameter specified and the images in the new row are not visible anymore the scrollbar does not appear / is disabled.\n\n### Have you searched existing issues?  🔎\n\n- [X] I have searched and found no existing issues\n\n### Reproduction\n\n```python\r\nimport gradio as gr\r\n\r\ndef update_history(new_image, history):\r\n    if history is None:\r\n        history = []\r\n    history.insert(0, new_image)\r\n    return history\r\n\r\n\r\nwith gr.Blocks() as demo:\r\n    image = gr.Image()\r\n    button = gr.Button(\"Add to history\")\r\n\r\n    history_gallery = gr.Gallery(\r\n        label=\"History\",\r\n        columns=12,\r\n        rows=1,\r\n        object_fit=\"contain\",\r\n        interactive=False,\r\n        height=200,\r\n    )\r\n\r\n    button.click(\r\n        fn=update_history,\r\n        inputs=[image, history_gallery],\r\n        outputs=[history_gallery],\r\n    )\r\n\r\ndemo.launch()\r\n\r\n```\n\n### Screenshot\n\n![image](https://github.com/user-attachments/assets/168610e0-5332-493a-9fbe-1160250410e2)\r\n\n\n### Logs\n\n_No response_\n\n### System Info\n\n```shell\nTested on gradio==5.6.0 and gradio==4.44.0\n```\n\n\n### Severity\n\nI can work around it",
    "comments": [
      {
        "user": "x-CK-x",
        "body": "@abidlabs is there any update on what a possible fix for this might look like?\r\nand also i should mention that in my example: https://github.com/gradio-app/gradio/issues/10115  I was only using 33 images in the gallery, which to me didn't seem like that many."
      },
      {
        "user": "x-CK-x",
        "body": "@abidlabs I tried this on gradio **v5.12.0** but the problem still persists. Is there any other resource that you could suggest I try or hack into the component?"
      }
    ]
  },
  {
    "issue_number": 10033,
    "title": "The scrollbar cannot be displayed in gr.Gallery.",
    "author": "Kirsty-tong",
    "state": "open",
    "created_at": "2024-11-25T08:01:37Z",
    "updated_at": "2025-05-27T02:07:48Z",
    "labels": [
      "bug",
      "Priority"
    ],
    "body": "### Describe the bug\n\nThe scrollbar cannot be displayed properly in gr.Gallery, and all images cannot be viewed by sliding up or down.\r\nI've tried gradio=5.6.0 and gradio=43.0.\r\n\n\n### Have you searched existing issues?  🔎\n\n- [X] I have searched and found no existing issues\n\n### Reproduction\n\n```python\r\nimport gradio as gr\r\ngallery = gr.Gallery(\r\n        label=\"Generated images\", show_label=False, elem_id=\"gallery\"\r\n    , columns=[3], rows=[2], object_fit=\"contain\", height=300)\r\n```\r\n\n\n### Screenshot\n\n![image](https://github.com/user-attachments/assets/cc964d3b-b7f3-40c3-995c-e1f8748654a0)\r\n\n\n### Logs\n\n_No response_\n\n### System Info\n\n```shell\ngradio=5.6.0 and gradio=43.0\r\ngradio_client=1.4.3\r\nOperating System: Linux\n```\n\n\n### Severity\n\nI can work around it",
    "comments": [
      {
        "user": "askerlee",
        "body": "I've encountered the same problem. Would you like to share how you work around it? Thanks."
      },
      {
        "user": "x-CK-x",
        "body": "@askerlee @Kirsty-tong two other issues have also reported the bug: https://github.com/gradio-app/gradio/issues/10044 and https://github.com/gradio-app/gradio/issues/10115\n\nbut so far from what I've tried & looked around for, no progress have been made in solving the issue."
      },
      {
        "user": "askerlee",
        "body": "@x-CK-x I see. I did find a workaround later (with the help of O1, of course):\n\n```\ncss = '''\n.custom-gallery { \n    height: 800px !important; \n    width: 100%; \n    margin: 10px auto; \n    padding: 0px; \n    overflow-y: auto !important; \n}\n'''\n\nout_gallery = gr.Gallery(label=\"Generated Images\", interactive=False, columns=2, rows=4, height=800,\n                         elem_classes=\"custom-gallery\")\n\n```\nThe \"!important\" did the trick.\n"
      }
    ]
  },
  {
    "issue_number": 1450,
    "title": "Gradio Interface does not run locally without internet connection ",
    "author": "liuyixi520",
    "state": "open",
    "created_at": "2022-06-02T01:27:32Z",
    "updated_at": "2025-05-27T02:06:50Z",
    "labels": [
      "bug",
      "Priority"
    ],
    "body": "### Describe the bug\n\nI am in a offline environment, that can not connect the internet.\r\nI see nothing in my browser when following 'Quick Start' section of the readme.\r\n\r\n1. use conda Create environment with python 3.7:  conda create -n gradio3 python=3.7\r\n2. install gradio:  pip install gradio\r\nRun the example script\r\nIn the browser (Chrome and Edge tested) I see nothing. There errors in the console logs that say:\r\nhttps://fonts.googleapis.com/css?family=Source Sans Pro   net::ERR_NAME_NOT_RESOLVED\r\n\r\ncan anyone give me a hlep to slove this problem, thanks very much. I am in a hurry\n\n### Is there an existing issue for this?\n\n- [X] I have searched the existing issues\n\n### Reproduction\n\nimport gradio as gr\r\n\r\ndef greet(name):\r\n    return \"Hello \" + name + \"!!\"\r\n\r\ngr.Interface(fn=greet, inputs=\"text\", outputs=\"text\").launch(debug=True)\n\n### Screenshot\n\n![2125392789](https://user-images.githubusercontent.com/75514565/171527094-e86315e7-53c8-484a-9999-f12938506e1f.jpg)\n\n### Logs\n\n```shell\nRunning on local URL:  http://127.0.0.1:7860/\r\n\r\nTo create a public link, set `share=True` in `launch()`.\n```\n\n\n### System Info\n\n```shell\nGradio: 3.0.10\r\nPython: 3.7.0\r\nOS: Windows 7\r\nBrowsers: Chrome 70.0.3538.110\n```\n\n\n### Severity\n\nblocking all usage of gradio",
    "comments": [
      {
        "user": "abidlabs",
        "body": "Hmmm it looks like we are loading certain assets from the web for Gradio 3.0. We should fix that @aliabid94 \r\n\r\nIn the meantime, perhaps you can try using an older version of gradio (say `gradio==2.9.4` -- I don't think they require being online)"
      },
      {
        "user": "liuyixi520",
        "body": "> Hmmm it looks like we are loading certain assets from the web for Gradio 3.0. We should fix that @aliabid94\r\n> \r\n> In the meantime, perhaps you can try using an older version of gradio (say `gradio==2.9.4` -- I don't think they require being online)\r\n\r\nthank you very much, my problem has been solved by your advice.\r\nand when you fix this bug in your new version, can you give me a message, so i can use gradio3 in my work"
      },
      {
        "user": "aliabid94",
        "body": "That's strange. Will take a look."
      }
    ]
  },
  {
    "issue_number": 8641,
    "title": "Reload mode should preserve the selected tab",
    "author": "abidlabs",
    "state": "open",
    "created_at": "2024-06-26T22:40:20Z",
    "updated_at": "2025-05-27T02:06:41Z",
    "labels": [
      "enhancement",
      "Priority"
    ],
    "body": "Gradio's reload mode currently preserves some selected values, such as a the selected radio button. However, it doesn't preserve the selected tab, which makes it frustrating to use in applications with multiple tabs, i.e. if you are working on the content for the second tab, then you'll need to keep selecting it to preview your changes. \r\n\r\nReload mode should preserve the selected tab as well.",
    "comments": [
      {
        "user": "pngwn",
        "body": "reload mode disapproves of our tabs, maybe it will start working when we redesign them."
      },
      {
        "user": "huhu415",
        "body": "Yeah, this issue I feel needs to be taken seriously, and it becomes important when I have a lot of tabs.\r\n\r\nThen getting this issue may needs to be looked at in conjunction with #10282"
      },
      {
        "user": "huhu415",
        "body": "I have a practice I'm using that can solve both #8641 and #10282.  This way will not only allow lazy loading of the tab page, but will also keep the page on the current page after refreshing it.\r\n\r\n--------\r\n\r\nWhen you click on `test123`, you can switch between different pages through the top tab bar. Just add many different tabs in `demo_dict`. \r\n<img width=\"1920\" alt=\"截屏2025-01-10 14 39 37\" src=\"https://github.com/user-attachments/assets/f8a83a1d-7966-4295-88cb-bf28409c76fd\" />\r\n\r\ncode this here\r\n```python\r\nfrom fastapi import FastAPI\r\nimport gradio as gr\r\nfrom demo.demo_test import demo_test\r\n\r\n\r\ndemo_dict = {\r\n    \"test123\": demo_test,\r\n}\r\n\r\ndef create_demo(demo_func):\r\n    with gr.Blocks() as blocks:\r\n        LINK_STYLE = 'color: #4a5568; text-decoration: none; '\r\n\r\n        links = [f'<a style=\"{LINK_STYLE}\" href=\"/\">首页</a>'] + [\r\n            f'<a style=\"{LINK_STYLE}\" href=\"/{func.__name__}\">{name}</a>'\r\n            for name, func in demo_dict.items()\r\n        ]\r\n\r\n        html_content = f\"\"\"\r\n        <style>\r\n            .nav-container {{\r\n                background: white;\r\n                position: fixed;\r\n                top: 0;\r\n                left: 0;\r\n                right: 0;\r\n                box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\r\n                z-index: 1000;\r\n                width: fit-content;\r\n                margin: auto;\r\n                border-radius: 5px;\r\n            }}\r\n\r\n            .nav-list {{\r\n                display: flex;\r\n                justify-content: center;\r\n                gap: 5px;\r\n            }}\r\n\r\n            ul a {{\r\n                display: inline-block;\r\n                padding: 5px 6px;\r\n                font-weight: 400;\r\n                white-space: nowrap;  /* 确保文字不换行 */\r\n                transition: all 0.3s ease;\r\n            }}\r\n\r\n            a:hover {{\r\n                background-color: #f0f0f0;\r\n                border-radius: 3px;\r\n            }}\r\n        </style>\r\n        <div class=\"nav-container\">\r\n            <ul class=\"nav-list\" style=\"font-size: small; list-style: none;\">\r\n                {''.join(links)}\r\n            </ul>\r\n        </div>\r\n        \"\"\"\r\n\r\n        gr.HTML(html_content)\r\n        demo_func()\r\n\r\n        return blocks\r\n\r\n\r\napp = FastAPI()\r\n\r\n@app.get(\"/\")\r\ndef route_main():\r\n    return RedirectResponse(url=\"/demo_test\")\r\n\r\nfor demo_name, demo_func in demo_dict.items():\r\n    path = f\"/{demo_func.__name__}\"\r\n    app = gr.mount_gradio_app(app,  create_demo(demo_func), path=path, ssr_mode=True)\r\n```\r\n\r\nmeanwhile demo/demo_test.py like this\r\n```python\r\nimport gradio as gr\r\n\r\ndef demo_test():\r\n    with gr.Blocks() as block:\r\n        gr.Textbox(\"hhhhh\", label=\"Name\")\r\n        gr.Button(\"Submit\")\r\n    return block\r\n\r\n```"
      }
    ]
  },
  {
    "issue_number": 10808,
    "title": "Host port lost on theme.css behind Nginx 20250304",
    "author": "yangyazhou97",
    "state": "open",
    "created_at": "2025-03-14T12:58:13Z",
    "updated_at": "2025-05-27T02:05:28Z",
    "labels": [
      "bug",
      "Priority"
    ],
    "body": "### Describe the bug\n\nWhen configuring the app behind Nginx, the theme.css file accessed in the browser does not include the port number. This results in abnormal UI loading. It's only work when downgrade gradio to 3.50.2. \nGradio version 4* & 5* don't work\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\nGradio app\n\n```import gradio as gr\nimport time\n\ndef test(x):\n    time.sleep(4)\n    return x\n\ngr.Interface(test, \"textbox\", \"textbox\").queue().launch(\n    server_name=\"0.0.0.0\", \n    server_port=27861, \n    root_path=\"/gradio-demo/\"\n)\n```\nNginx config \n\n```user  nginx;\nworker_processes  auto;\n\nerror_log  /var/log/nginx/error.log notice;\npid        /var/run/nginx.pid;\n\nevents {\n    worker_connections  1024;\n}\n\nhttp {\n    include       /etc/nginx/mime.types;\n    default_type  application/octet-stream;\n\n    log_format  main  '$remote_addr - $remote_user [$time_local] \"$request\" '\n                      '$status $body_bytes_sent \"$http_referer\" '\n                      '\"$http_user_agent\" \"$http_x_forwarded_for\"';\n\n    access_log  /var/log/nginx/access.log  main;\n\n    sendfile        on;\n    keepalive_timeout  65;\n\n    map $http_upgrade $connection_upgrade {\n        default upgrade;\n        ''      close;\n    }\n\n    server {\n        listen 9202;\n        server_name _;\n        # 所有gradio相关的请求\n        location /gradio-demo/ {\n\t    proxy_buffering off;\n            proxy_redirect off;\n            proxy_pass https://10.16.233.1:27860/;\n            proxy_http_version 1.1;\n            proxy_set_header Upgrade $http_upgrade;\n            proxy_set_header Connection $connection_upgrade;\n            \n            proxy_set_header Host $http_host;\n            proxy_set_header X-Forwarded-Proto $scheme;\n            proxy_set_header X-Forwarded-Host $host;\n            proxy_set_header X-Real-IP $remote_addr;\n            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n            \n            # 文件上传设置\n            client_max_body_size 50M;\n            proxy_read_timeout 300;\n            proxy_connect_timeout 300;\n            proxy_send_timeout 300;\n        }\n\n    }\n}\n```\n### Screenshot\n\n![Image](https://github.com/user-attachments/assets/6d37569e-f615-40b3-a412-b0509e4316d6)\n\n### Logs\n\n```shell\n\n```\n\n### System Info\n\n```shell\n`nginx 1.20.1\ngradio 5.21.0`\n```\n\n### Severity\n\nI can work around it",
    "comments": []
  },
  {
    "issue_number": 10550,
    "title": "Option to disable autocorrect in input",
    "author": "thewh1teagle",
    "state": "open",
    "created_at": "2025-02-09T02:09:48Z",
    "updated_at": "2025-05-27T02:01:27Z",
    "labels": [
      "enhancement",
      "good first issue"
    ],
    "body": "- [x] I have searched to see if a similar issue already exists.\n\n\n**Is your feature request related to a problem? Please describe.**  \n\nI would like to disable auto correct in input since it shows the red dots on the text\n\n<img src=\"https://github.com/user-attachments/assets/6156e0a1-2e0e-4e83-81fc-7167ebaa5824\" width=500>\n\n**Describe the solution you'd like**  \nAdd option to disable any input html attribute or autocorrect=False\n\n**Additional context**  \n\n\"gradio>=5.15.0\",",
    "comments": [
      {
        "user": "abidlabs",
        "body": "makes sense, @thewh1teagle would you like to open a PR for this?"
      },
      {
        "user": "SachinVel",
        "body": "Hi. I'm new to this repo. Can I work on this issue? Thanks."
      },
      {
        "user": "abidlabs",
        "body": "Upon further reflection, I don't think this should be a part of the core Python API, as there are many minor attributes, like autocorrect=\"off\", autocapitalize=\"off\", spellcheck=\"false\" that we don't really expose and it would get quite cumbersome to expose all of them. I'd suggest using custom css to achieve this: https://www.gradio.app/guides/custom-CSS-and-JS"
      }
    ]
  },
  {
    "issue_number": 6587,
    "title": "Can't scroll up in Gradio app deployed in HF space",
    "author": "SkalskiP",
    "state": "closed",
    "created_at": "2023-11-27T11:16:55Z",
    "updated_at": "2025-05-27T01:58:57Z",
    "labels": [
      "bug",
      "Priority"
    ],
    "body": "### Describe the bug\n\nAfter deploying Gradio app in HF space, you can't scroll up. When I run the Gradio app locally, everything works. The problem only appears in Chrome. When I run in Safari everything works.\n\n### Have you searched existing issues?  🔎\n\n- [X] I have searched and found no existing issues\n\n### Reproduction\n\nThe problem is apparent in this Gradio app: https://huggingface.co/spaces/Roboflow/SoM\n\n### Screenshot\n\nhttps://github.com/gradio-app/gradio/assets/26109316/3ca88f5f-212a-4df7-9d2b-18ab86320407\n\n### Logs\n\n_No response_\n\n### System Info\n\n```shell\n`3.50.2`, but I tied it with `4.x`, and the problem persists.\n```\n\n\n### Severity\n\nBlocking usage of gradio",
    "comments": [
      {
        "user": "SkalskiP",
        "body": "Hi! 👋🏻 The issue still persists. Is there any chance you could help us with this bug? I'd really appreciate your assistance. "
      },
      {
        "user": "freddyaboulton",
        "body": "I think it's some issue with the Dockerfile? Doesn't happen for regular gradio-sdk spaces. @pngwn @hannahblair something is up with the iframe - do you have any idea what? "
      },
      {
        "user": "SkalskiP",
        "body": "Oh, that's interesting. I used the same Dockerfile with my other spaces. :/ "
      }
    ]
  },
  {
    "issue_number": 11258,
    "title": "Make the delete button bigger and sticky on the ChatInterface",
    "author": "lazzyms",
    "state": "closed",
    "created_at": "2025-05-26T16:42:49Z",
    "updated_at": "2025-05-27T01:54:57Z",
    "labels": [],
    "body": "**Benefits:**\r\n*   Improved user experience: A larger, sticky delete button would be easier to find and click, especially on smaller screens or when the chat history is long.\r\n*   Reduced errors: A more prominent delete button could help prevent accidental deletions.\r\n\r\n**Use Cases:**\r\n*   Users who frequently use the ChatInterface and need to delete messages quickly.\r\n*   Users who have difficulty finding the current delete button due to its size or location.\r\n*   Users who want to avoid accidentally deleting messages.",
    "comments": [
      {
        "user": "abidlabs",
        "body": "Hi @lazzyms I'm going to close this in favor of https://github.com/gradio-app/gradio/issues/11153"
      }
    ]
  },
  {
    "issue_number": 11259,
    "title": "Internal Errors in Huggingface Spaces",
    "author": "RyannDaGreat",
    "state": "closed",
    "created_at": "2025-05-27T00:29:18Z",
    "updated_at": "2025-05-27T01:31:49Z",
    "labels": [
      "bug"
    ],
    "body": "### Describe the bug\n\nHi! Thank you for making this space :)\nI'm the author of Go-with-the-Flow, and I'm trying to duplicate a space on huggingface,\nhttps://huggingface.co/spaces/fffiloni/Go-With-The-Flow/discussions/3\n\nHowever it errors while it sets up, not referencing my code anywhrere\nhttps://gist.github.com/SqrtRyan/f1e1f6e5844eb60b4de533db5406d6cf\nThis error happens before I try to submit anything. Interestingly, it seems I can use your instance just fine - but I can't duplicate it. Any idea why?\n\nThe only libraries in this error are the following, none of which are my project:\n```\n/home/user/.pyenv/versions/3.10.17/lib/python3.10/site-packages/starlette/_utils.py\n/home/user/.pyenv/versions/3.10.17/lib/python3.10/site-packages/starlette/middleware/base.py\n/home/user/.pyenv/versions/3.10.17/lib/python3.10/site-packages/anyio/_backends/_asyncio.py\n/home/user/.pyenv/versions/3.10.17/lib/python3.10/site-packages/uvicorn/protocols/http/h11_impl.py\n/home/user/.pyenv/versions/3.10.17/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py\n/home/user/.pyenv/versions/3.10.17/lib/python3.10/site-packages/fastapi/applications.py\n/home/user/.pyenv/versions/3.10.17/lib/python3.10/site-packages/starlette/applications.py\n/home/user/.pyenv/versions/3.10.17/lib/python3.10/site-packages/starlette/middleware/errors.py\n/home/user/.pyenv/versions/3.10.17/lib/python3.10/contextlib.py\n/home/user/.pyenv/versions/3.10.17/lib/python3.10/site-packages/gradio/routes.py\n/home/user/.pyenv/versions/3.10.17/lib/python3.10/site-packages/gradio/route_utils.py\n/home/user/.pyenv/versions/3.10.17/lib/python3.10/site-packages/starlette/middleware/exceptions.py\n/home/user/.pyenv/versions/3.10.17/lib/python3.10/site-packages/starlette/_exception_handler.py\n/home/user/.pyenv/versions/3.10.17/lib/python3.10/site-packages/starlette/routing.py\n/home/user/.pyenv/versions/3.10.17/lib/python3.10/site-packages/fastapi/routing.py\n/home/user/.pyenv/versions/3.10.17/lib/python3.10/site-packages/starlette/concurrency.py\n/home/user/.pyenv/versions/3.10.17/lib/python3.10/site-packages/anyio/to_thread.py\n/home/user/.pyenv/versions/3.10.17/lib/python3.10/site-packages/gradio/blocks.py\n/home/user/.pyenv/versions/3.10.17/lib/python3.10/site-packages/gradio_client/utils.py\n```\n\nWe would like to have this running ASAP - ideally before CVPR starts so we can scale it up and let thousands of people play with the model :)\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\n```python\nimport gradio as gr\n\n```\n\n\n### Screenshot\n\n_No response_\n\n### Logs\n\n```shell\n\n```\n\n### System Info\n\n```shell\nWe are using huggingface\n```\n\n### Severity\n\nBlocking usage of gradio",
    "comments": [
      {
        "user": "abidlabs",
        "body": "Hi @RyannDaGreat the issue happens because `pydantic` had a breaking change and `gradio` depends on `pydantic`. When you duplicate the Space, it tries to install the latest version of all of the dependencies, leading to the breaking change. \n\nYou can fix this by upgrading `gradio` to the latest version, in which we pin `pydantic` appropriately. Alternatively, I've made a duplicate version of the Space, which you can duplicate directly: https://huggingface.co/spaces/abidlabs/Go-With-The-Flow"
      }
    ]
  },
  {
    "issue_number": 11256,
    "title": "the gradio.Radio is facing a bug",
    "author": "votuongquan",
    "state": "closed",
    "created_at": "2025-05-26T09:38:37Z",
    "updated_at": "2025-05-27T01:20:06Z",
    "labels": [
      "bug",
      "needs repro"
    ],
    "body": "### Describe the bug\n\nThe gradio.Radio doesnt show a small button inside the Radio anymore, make it hard to see which fields we are choosing\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\n```python\nimport gradio as gr\ngr.Markdown(\"### 🖥️ Device Selection\")\ndevice_choices = [\"cpu\"]\nif self.cuda_available:\ndevice_choices.append(\"cuda\")\ndevice_radio = gr.Radio(\n    choices=device_choices,\n    label=\"Select Processing Device\",\n    interactive=True,\n)\n```\n\n\n### Screenshot\n\n![Image](https://github.com/user-attachments/assets/ab5fb2eb-1813-4a62-8d00-e960563652b2)\n\n### Logs\n\n```shell\n\n```\n\n### System Info\n\n```shell\nOperating System: Windows\ngradio version: 5.31.0\ngradio_client version: 1.10.1\n```\n\n### Severity\n\nI can work around it",
    "comments": [
      {
        "user": "abidlabs",
        "body": "Hi @votuongquan I can't repro this issue:\n\n<img width=\"1011\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/e0f55a23-59ed-4f88-ba53-eded4db248c8\" />\n\nHere's the code I tried:\n\n```py\nimport gradio as gr\n\nwith gr.Blocks() as demo:\n    gr.Markdown(\"### 🖥️ Device Selection\")\n    device_choices = [\"cpu\"]\n    device_choices.append(\"cuda\")\n    device_radio = gr.Radio(\n        choices=device_choices,\n        label=\"Select Processing Device\",\n        interactive=True,\n    )\n\ndemo.launch()\n```\n\nIf you are still facing this issue in the latest version of `gradio`, please provide a complete repro."
      },
      {
        "user": "votuongquan",
        "body": "I send you the whole repo, please look over it, all my gr.Radio dont show the small black button anymore. Yesterday, it worked normally. When i added new segmentation_ui.py, I found this issue.\n\nhttps://github.com/[votuongquan/Flux-1.1-Pro-Ultra-Finetuning-UI](https://github.com/votuongquan/Flux-1.1-Pro-Ultra-Finetuning-UI)"
      },
      {
        "user": "abidlabs",
        "body": "This link does not work for me, but even if we did, we need a minimal, isolated code snippet that we can run to reproduce the issue above. See: https://stackoverflow.com/help/minimal-reproducible-example\n\nI'll close this issue until we have a suitable repro, thanks."
      }
    ]
  },
  {
    "issue_number": 11125,
    "title": "Nested Gradio Issues Icon Issue and Expanding Additional Inputs Issue",
    "author": "djaffer",
    "state": "closed",
    "created_at": "2025-05-02T21:35:31Z",
    "updated_at": "2025-05-26T14:55:12Z",
    "labels": [
      "bug",
      "pending clarification"
    ],
    "body": "### Describe the bug\n\nIn the latest same issue, the same issue occurs: the icon doesn't load for new chat. Try the link without being logged in. You will see the icon missing. No one tests the integrations before releasing them. @abidlabs\n\nGo on a link for nested and then not be logged in using hf.space\n\n![Image](https://github.com/user-attachments/assets/506559cf-b17f-4c1d-9f19-6da13a7737c3)\n\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.10/site-packages/gradio/queueing.py\", line 625, in process_events\n    response = await route_utils.call_process_api(\n  File \"/usr/local/lib/python3.10/site-packages/gradio/route_utils.py\", line 322, in call_process_api\n    output = await app.get_blocks().process_api(\n  File \"/usr/local/lib/python3.10/site-packages/gradio/blocks.py\", line 2136, in process_api\n    result = await self.call_function(\n  File \"/usr/local/lib/python3.10/site-packages/gradio/blocks.py\", line 1662, in call_function\n    prediction = await anyio.to_thread.run_sync(  # type: ignore\n  File \"/usr/local/lib/python3.10/site-packages/anyio/to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n  File \"/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py\", line 2470, in run_sync_in_worker_thread\n    return await future\n  File \"/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py\", line 967, in run\n    result = context.run(func, *args)\n  File \"/usr/local/lib/python3.10/site-packages/gradio/utils.py\", line 884, in wrapper\n    response = f(*args, **kwargs)\n  File \"/usr/local/lib/python3.10/site-packages/gradio_client/client.py\", line 1158, in _inner\n    predictions = _predict(*data)\n  File \"/usr/local/lib/python3.10/site-packages/gradio_client/client.py\", line 1270, in _predict\n    raise AppError(\ngradio_client.exceptions.AppError: The upstream Gradio app has raised an exception but has not enabled verbose error reporting. To enable, set show_error=True in launch().\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.10/site-packages/gradio/queueing.py\", line 625, in process_events\n    response = await route_utils.call_process_api(\n  File \"/usr/local/lib/python3.10/site-packages/gradio/route_utils.py\", line 322, in call_process_api\n    output = await app.get_blocks().process_api(\n  File \"/usr/local/lib/python3.10/site-packages/gradio/blocks.py\", line 2136, in process_api\n    result = await self.call_function(\n  File \"/usr/local/lib/python3.10/site-packages/gradio/blocks.py\", line 1662, in call_function\n    prediction = await anyio.to_thread.run_sync(  # type: ignore\n  File \"/usr/local/lib/python3.10/site-packages/anyio/to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n  File \"/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py\", line 2470, in run_sync_in_worker_thread\n    return await future\n  File \"/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py\", line 967, in run\n    result = context.run(func, *args)\n  File \"/usr/local/lib/python3.10/site-packages/gradio/utils.py\", line 884, in wrapper\n    response = f(*args, **kwargs)\n  File \"/usr/local/lib/python3.10/site-packages/gradio_client/client.py\", line 1158, in _inner\n    predictions = _predict(*data)\n  File \"/usr/local/lib/python3.10/site-packages/gradio_client/client.py\", line 1270, in _predict\n    raise AppError(\ngradio_client.exceptions.AppError: The upstream Gradio app has raised an exception but has not enabled verbose\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\n```python\nimport gradio as gr\n\n```\n\n\n### Screenshot\n\n![Image](https://github.com/user-attachments/assets/c89915bb-012e-439a-9eba-aff49b9e20d0)\n\n### Logs\n\n```shell\n\n```\n\n### System Info\n\n```shell\nGradio 5.27.1\n```\n\n### Severity\n\nNot blocking usage of gradio",
    "comments": [
      {
        "user": "abidlabs",
        "body": "Hi @djaffer I'm really not sure what this issue is asking. There's no repro or link. Can you please provide a minimal code example that we can use to reproduce the issue? See: https://stackoverflow.com/help/minimal-reproducible-example"
      },
      {
        "user": "abidlabs",
        "body": "Going to close for lack of follow up, can reopen if have more details"
      }
    ]
  },
  {
    "issue_number": 11169,
    "title": "framepack",
    "author": "wolfthekillerx",
    "state": "closed",
    "created_at": "2025-05-11T19:37:44Z",
    "updated_at": "2025-05-26T14:54:54Z",
    "labels": [
      "bug",
      "needs repro",
      "pending clarification"
    ],
    "body": "### Describe the bug\n\nhello after 25/25 generation i have this message  as error : connection errored out. anyone can help me to solve it ? on the local app , and google chrome, anyhelp pls ?\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\n```python\nimport gradio as gr\n\n```\n\n\n### Screenshot\n\n![Image](https://github.com/user-attachments/assets/fd190c34-5226-4b7c-b5a1-560d7298b88a)\n\n### Logs\n\n```shell\n\n```\n\n### System Info\n\n```shell\nyes\n```\n\n### Severity\n\nI can work around it",
    "comments": [
      {
        "user": "freddyaboulton",
        "body": "Can you please share a minimal reproducer @wolfthekillerx ? It's not clear if this is a gradio issue or an issue in the app you're trying to use."
      },
      {
        "user": "abidlabs",
        "body": "Going to close for lack of follow up, can reopen if have more details"
      }
    ]
  },
  {
    "issue_number": 11168,
    "title": "Style leakage in gr.Chatbot when rendering HTML code snippet",
    "author": "L9qmzn",
    "state": "open",
    "created_at": "2025-05-11T13:52:04Z",
    "updated_at": "2025-05-26T13:01:33Z",
    "labels": [
      "bug"
    ],
    "body": "### Describe the bug\n\nWhen displaying an HTML string inside a gr.Chatbot, the styles inside the <style> tag of the HTML are applied to the entire Gradio app, leading to style leakage.\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\n```python\nimport gradio as gr\n\nwith gr.Blocks() as demo:\n    test_html = \"\"\"\n<!DOCTYPE html>\n<html lang=\"zh\">\n<head>\n  <meta charset=\"UTF-8\">\n  <meta name=\"viewport\" content=\"width=device-width,initial-scale=1.0\">\n  <style>\n    :root {}\n    @media(prefers-color-scheme:dark){\n      :root {}\n    }\n    body {\n      background:  #f4f1ec;\n      align-items: center;\n    }\n  </style>\n</head>\n<body>\n</body>\n</html>\"\"\"\n    gr.Chatbot(\n        value=[{\"role\": \"user\", \"content\": test_html}],\n        type='messages'\n    )\n\ndemo.launch()\n```\n\n\n### Screenshot\n\n![Image](https://github.com/user-attachments/assets/b5c397c0-7b5c-4c25-88ce-4e935c24b48f)\n\n### Logs\n\n```shell\n\n```\n\n### System Info\n\n```shell\nGradio Environment Information:\n------------------------------\nOperating System: Windows\ngradio version: 5.23.0\ngradio_client version: 1.8.0\n\n------------------------------------------------\ngradio dependencies in your environment:\n\naiofiles: 23.2.1\nanyio: 4.9.0\naudioop-lts is not installed.\nfastapi: 0.115.5\nffmpy: 0.4.0\ngradio-client==1.8.0 is not installed.\ngroovy: 0.1.2\nhttpx: 0.27.2\nhuggingface-hub: 0.28.1\njinja2: 3.1.4\nmarkupsafe: 2.1.5\nnumpy: 2.1.3\norjson: 3.10.12\npackaging: 24.2\npandas: 2.2.3\npillow: 11.0.0\npydantic: 2.10.6\npydub: 0.25.1\npython-multipart: 0.0.19\npyyaml: 6.0.2\nruff: 0.9.6\nsafehttpx: 0.1.6\nsemantic-version: 2.10.0\nstarlette: 0.41.3\ntomlkit: 0.12.0\ntyper: 0.13.1\ntyping-extensions: 4.12.2\nurllib3: 2.2.3\nuvicorn: 0.32.1\nauthlib; extra == 'oauth' is not installed.\nitsdangerous; extra == 'oauth' is not installed.\n\n\ngradio_client dependencies in your environment:\n\nfsspec: 2024.10.0\nhttpx: 0.27.2\nhuggingface-hub: 0.28.1\npackaging: 24.2\ntyping-extensions: 4.12.2\nwebsockets: 12.0\n```\n\n### Severity\n\nI can work around it",
    "comments": [
      {
        "user": "abidlabs",
        "body": "I can't repro this @L9qmzn:\n\n<img width=\"1126\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/88c9f41d-7c9d-41f4-82c3-f54372a687db\" />\n\nCan you try with the latest version of Gradio? Can you also try in a reproducible environment like Colab notebooks?\n"
      },
      {
        "user": "yvrjsharma",
        "body": "I am not able to repro this either. However, this might be related to an [issue identified in smolagents](https://github.com/huggingface/smolagents/pull/1337#discussion_r2095558298) ui implementation, where the team had to implement manual HTML escaping `(msg.replace(\"<\", r\"\\<\").replace(\">\", r\"\\>\"))` I think to prevent HTML tags from breaking the chatbot display. Tagging @aymeric-roucher @albertvillanova here for vis.\n\n"
      },
      {
        "user": "L9qmzn",
        "body": "@abidlabs @yvrjsharma Hi, sorry for the late reply.\n\nI discovered that the issue was caused by a line I added in the previous message: `\"Explain following code:\"`.  It seems that including any non-empty content triggers the problem.\n\nTo reproduce the issue, please try the following code:\n\n```python\nimport gradio as gr\n\nwith gr.Blocks() as demo:\n    test_html = \"\"\"\nExplain following code: <!DOCTYPE html>\n<html lang=\"zh\">\n<head>\n  <meta charset=\"UTF-8\">\n  <meta name=\"viewport\" content=\"width=device-width,initial-scale=1.0\">\n  <style>\n    :root {\n    }\n    @media(prefers-color-scheme:dark){\n      :root {\n      }\n    }\n    body {\n      background:  #f4f1ec;\n      align-items: center;\n    }\n  </style>\n</head>\n<body>\n</body>\n</html>\"\"\"\n    gr.Chatbot(\n        value=[{\"role\": \"user\", \"content\": test_html}],\n        type='messages'\n    )\n\ndemo.launch()\n```\n\nLet me know if you need any more details or if there's anything else I can help with. Thanks!\n\n"
      }
    ]
  },
  {
    "issue_number": 11248,
    "title": "Implement Last-Event-Id connection restarting for SSE",
    "author": "JasonMorrisTR",
    "state": "open",
    "created_at": "2025-05-22T18:46:14Z",
    "updated_at": "2025-05-26T12:59:25Z",
    "labels": [
      "enhancement",
      "API"
    ],
    "body": "- [X ] I have searched to see if a similar issue already exists.\n\nThere is a related issue at #8368 that asks for a polling alternative to SSE. I think this is a better solution to the same problem.\n\n**Is your feature request related to a problem? Please describe.**  \nI am trying to deploy Gradio apps in an environment where long-lived HTTP connections are terminated after a timeout I can't control. The server-sent events stream from /queue/data? dies gracelessly if the stream lasts longer than the network timeout. \n\n**Describe the solution you'd like**  \nSSE disconnects are supposed to be handled by the browser's EventStream using Last-Event-ID headers on a reconnect request, but the events sent by gradio don't seem include event IDs. I'd the gradio server and the gradio client upgraded to detect and gracefully re-establish broken SSE connections to /queue/data, e.g.\n",
    "comments": [
      {
        "user": "JasonMorrisTR",
        "body": "The [relevent spec](https://html.spec.whatwg.org/multipage/server-sent-events.html#the-last-event-id-header)."
      }
    ]
  },
  {
    "issue_number": 11255,
    "title": "pls add image bg in theme builder like miku theme",
    "author": "inkling211",
    "state": "closed",
    "created_at": "2025-05-26T09:02:54Z",
    "updated_at": "2025-05-26T12:56:44Z",
    "labels": [],
    "body": "miku theme i whana replace miku whit any image can help",
    "comments": [
      {
        "user": "abidlabs",
        "body": "Hi @inkling211 you can do something like this in your theme:\n\n```\n\"body_background_fill\": \"url('https://i.ibb.co/0rfK9Wm/light-miku-faded.webp') #FFFFFF no-repeat right bottom / auto 30svh padding-box fixed\",\n```\n\nThe full code for the miku theme is available at: https://huggingface.co/spaces/NoCrypt/miku/tree/main"
      }
    ]
  },
  {
    "issue_number": 10813,
    "title": "ERROR: Exception in ASGI application after downgrading pydantic to 2.10.6",
    "author": "yumengzhao92",
    "state": "closed",
    "created_at": "2025-03-15T15:27:56Z",
    "updated_at": "2025-05-26T07:24:55Z",
    "labels": [
      "bug"
    ],
    "body": "### Describe the bug\n\nThere were reports of the same error in https://github.com/gradio-app/gradio/issues/10662, and the suggestion is to downgrade pydantic, but even after I downgraded pydantic, I am still seeing the same error. \n\nI am running my code on Kaggle\n\nand the error \n```\nERROR:    Exception in ASGI application\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.10/dist-packages/uvicorn/protocols/http/h11_impl.py\", line 403, in run_asgi\n    result = await app(  # type: ignore[func-returns-value]\n  File \"/usr/local/lib/python3.10/dist-packages/uvicorn/middleware/proxy_headers.py\", line 60, in __call__\n    return await self.app(scope, receive, send)\n  File \"/usr/local/lib/python3.10/dist-packages/fastapi/applications.py\", line 1054, in __call__\n    await super().__call__(scope, receive, send)\n  File \"/usr/local/lib/python3.10/dist-packages/starlette/applications.py\", line 112, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/usr/local/lib/python3.10/dist-packages/starlette/middleware/errors.py\", line 187, in __call__\n    raise exc\n  File \"/usr/local/lib/python3.10/dist-packages/starlette/middleware/errors.py\", line 165, in __call__\n    await self.app(scope, receive, _send)\n  File \"/usr/local/lib/python3.10/dist-packages/gradio/route_utils.py\", line 789, in __call__\n    await self.app(scope, receive, send)\n  File \"/usr/local/lib/python3.10/dist-packages/starlette/middleware/exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/usr/local/lib/python3.10/dist-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/usr/local/lib/python3.10/dist-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/usr/local/lib/python3.10/dist-packages/starlette/routing.py\", line 714, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/usr/local/lib/python3.10/dist-packages/starlette/routing.py\", line 734, in app\n    await route.handle(scope, receive, send)\n  File \"/usr/local/lib/python3.10/dist-packages/starlette/routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"/usr/local/lib/python3.10/dist-packages/starlette/routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/usr/local/lib/python3.10/dist-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/usr/local/lib/python3.10/dist-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/usr/local/lib/python3.10/dist-packages/starlette/routing.py\", line 73, in app\n    response = await f(request)\n  File \"/usr/local/lib/python3.10/dist-packages/fastapi/routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n  File \"/usr/local/lib/python3.10/dist-packages/fastapi/routing.py\", line 214, in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n  File \"/usr/local/lib/python3.10/dist-packages/starlette/concurrency.py\", line 37, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func)\n  File \"/usr/local/lib/python3.10/dist-packages/anyio/to_thread.py\", line 33, in run_sync\n    return await get_asynclib().run_sync_in_worker_thread(\n  File \"/usr/local/lib/python3.10/dist-packages/anyio/_backends/_asyncio.py\", line 877, in run_sync_in_worker_thread\n    return await future\n  File \"/usr/local/lib/python3.10/dist-packages/anyio/_backends/_asyncio.py\", line 807, in run\n    result = context.run(func, *args)\n  File \"/usr/local/lib/python3.10/dist-packages/gradio/routes.py\", line 584, in main\n    gradio_api_info = api_info(request)\n  File \"/usr/local/lib/python3.10/dist-packages/gradio/routes.py\", line 615, in api_info\n    api_info = utils.safe_deepcopy(app.get_blocks().get_api_info())\n  File \"/usr/local/lib/python3.10/dist-packages/gradio/blocks.py\", line 3019, in get_api_info\n    python_type = client_utils.json_schema_to_python_type(info)\n  File \"/usr/local/lib/python3.10/dist-packages/gradio_client/utils.py\", line 931, in json_schema_to_python_type\n    type_ = _json_schema_to_python_type(schema, schema.get(\"$defs\"))\n  File \"/usr/local/lib/python3.10/dist-packages/gradio_client/utils.py\", line 985, in _json_schema_to_python_type\n    des = [\n  File \"/usr/local/lib/python3.10/dist-packages/gradio_client/utils.py\", line 986, in <listcomp>\n    f\"{n}: {_json_schema_to_python_type(v, defs)}{get_desc(v)}\"\n  File \"/usr/local/lib/python3.10/dist-packages/gradio_client/utils.py\", line 993, in _json_schema_to_python_type\n    f\"str, {_json_schema_to_python_type(schema['additionalProperties'], defs)}\"\n  File \"/usr/local/lib/python3.10/dist-packages/gradio_client/utils.py\", line 939, in _json_schema_to_python_type\n    type_ = get_type(schema)\n  File \"/usr/local/lib/python3.10/dist-packages/gradio_client/utils.py\", line 898, in get_type\n    if \"const\" in schema:\nTypeError: argument of type 'bool' is not iterable\n```\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\n ```\n!pip install -Uqq fastai\n!pip uninstall gradio -y\n!pip uninstall pydantic -y\n!pip cache purge\n!pip install pydantic==2.10.6\n!pip install gradio\nimport gradio as gr\n\nfrom fastai.learner import load_learner\n\nlearn = load_learner('export.pkl')\n\nlabels = learn.dls.vocab\ndef predict(img):\n    img = PILImage.create(img)\n    pred,pred_idx,probs = learn.predict(img)\n    result {labels[i]: float(probs[i].item()) for i in range(len(labels))}\n\ngr.Interface(\n    fn=predict,\n    inputs=gr.Image(),\n    outputs=gr.Label()\n).launch(share=True)\n```\n\n\n### Screenshot\n\n_No response_\n\n### Logs\n\n```shell\n\n```\n\n### System Info\n\n```shell\nGradio Environment Information:\n------------------------------\nOperating System: Linux\ngradio version: 5.21.0\ngradio_client version: 1.7.2\n\n------------------------------------------------\ngradio dependencies in your environment:\n\naiofiles: 22.1.0\nanyio: 3.7.1\naudioop-lts is not installed.\nfastapi: 0.115.11\nffmpy: 0.5.0\ngradio-client==1.7.2 is not installed.\ngroovy: 0.1.2\nhttpx: 0.28.1\nhuggingface-hub: 0.29.0\njinja2: 3.1.4\nmarkupsafe: 2.1.5\nnumpy: 1.26.4\norjson: 3.10.12\npackaging: 24.2\npandas: 2.2.3\npillow: 11.0.0\npydantic: 2.10.6\npydub: 0.25.1\npython-multipart: 0.0.20\npyyaml: 6.0.2\nruff: 0.11.0\nsafehttpx: 0.1.6\nsemantic-version: 2.10.0\nstarlette: 0.46.1\ntomlkit: 0.13.2\ntyper: 0.15.1\ntyping-extensions: 4.12.2\nurllib3: 2.3.0\nuvicorn: 0.34.0\nauthlib; extra == 'oauth' is not installed.\nitsdangerous; extra == 'oauth' is not installed.\n\n\ngradio_client dependencies in your environment:\n\nfsspec: 2024.12.0\nhttpx: 0.28.1\nhuggingface-hub: 0.29.0\npackaging: 24.2\ntyping-extensions: 4.12.2\nwebsockets: 14.1\n```\n\n### Severity\n\nBlocking usage of gradio",
    "comments": [
      {
        "user": "abidlabs",
        "body": "cc @freddyaboulton as you've looked at related issues"
      },
      {
        "user": "dylan-rodriquez",
        "body": "I had this issue, downgrading to pydantic 2.8.2 solved the problem."
      },
      {
        "user": "abidlabs",
        "body": "Upgrading to `gradio==5.23.2` should also fix the issue as we now pin pydantic. "
      }
    ]
  },
  {
    "issue_number": 11233,
    "title": "Custom meta tags not fully respected in Telegram",
    "author": "rybakov-ks",
    "state": "open",
    "created_at": "2025-05-21T09:32:11Z",
    "updated_at": "2025-05-24T17:09:38Z",
    "labels": [
      "bug"
    ],
    "body": "### Describe the bug\n\n**Bug Description**\nWhen using the head parameter in gr.Blocks() to customize meta tags (PR #10968), the custom tags work for X and Facebook, but Telegram still shows Gradio's default meta tags instead of the custom ones.\n\n**Expected Behavior**\nAll meta tags specified in the head parameter should completely replace Gradio's default meta tags across all platforms (including Telegram).\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\n```python\nimport gradio as gr\n\ndef build_gradio_interface() -> gr.Blocks:\n  custom_head = \"\"\"\n  <!-- HTML Meta Tags -->\n  <title>Sample App</title>\n  <meta name=\"description\" content=\"An open-source web application showcasing various features and capabilities.\">\n  \n  <!-- Facebook Meta Tags -->\n  <meta property=\"og:url\" content=\"https://example.com\">\n  <meta property=\"og:type\" content=\"website\">\n  <meta property=\"og:title\" content=\"Sample App\">\n  <meta property=\"og:description\" content=\"An open-source web application showcasing various features and capabilities.\">\n  <meta property=\"og:image\" content=\"https://example.com/sample-image.jpg\">\n  \n  <!-- Twitter Meta Tags -->\n  <meta name=\"twitter:card\" content=\"summary_large_image\">\n  <meta name=\"twitter:creator\" content=\"@example_user\">\n  <meta name=\"twitter:title\" content=\"Sample App\">\n  <meta name=\"twitter:description\" content=\"An open-source web application showcasing various features and capabilities.\">\n  <meta name=\"twitter:image\" content=\"https://example.com/sample-image.jpg\">\n  <meta property=\"twitter:domain\" content=\"example.com\">\n  <meta property=\"twitter:url\" content=\"https://example.com\">\n  \n  <!-- Meta Tags Generated via https://www.opengraph.xyz/ -->\n  \"\"\"\n  \n  with gr.Blocks(\n    title=\"My App\",\n    head=custom_head,\n  ) as demo:\n    gr.HTML(\"<h1>My App</h1>\")\n\n  return demo\n\ndemo = build_gradio_interface()\ndemo.launch()\n\n```\n\n\n### Screenshot\n\n![Image](https://github.com/user-attachments/assets/8e22520c-bdb6-4d12-b08a-d658327bb432)\n\n![Image](https://github.com/user-attachments/assets/02dcaf97-0f26-4199-81ec-ca084aa01445)\n\n### Logs\n\n```shell\n\n```\n\n### System Info\n\n```shell\nGradio Environment Information:\n------------------------------\nOperating System: Linux\ngradio version: 5.30.0\ngradio_client version: 1.10.1\n\n------------------------------------------------\ngradio dependencies in your environment:\n\naiofiles: 23.2.1\nanyio: 4.9.0\naudioop-lts is not installed.\nfastapi: 0.115.12\nffmpy: 0.5.0\ngradio-client: 1.10.1\ngroovy: 0.1.2\nhttpx: 0.28.1\nhuggingface-hub: 0.30.2\njinja2: 3.1.6\nmarkupsafe: 2.1.5\nnumpy: 1.26.4\norjson: 3.10.16\npackaging: 24.2\npandas: 2.2.3\npillow: 10.2.0\npydantic: 2.11.3\npydub: 0.25.1\npython-multipart: 0.0.20\npyyaml: 6.0.2\nruff: 0.11.5\nsafehttpx: 0.1.6\nsemantic-version: 2.10.0\nstarlette: 0.46.2\ntomlkit: 0.13.2\ntyper: 0.15.2\ntyping-extensions: 4.12.2\nurllib3: 2.4.0\nuvicorn: 0.34.1\nmcp is not installed.\npydantic: 2.11.3\nauthlib is not installed.\nitsdangerous is not installed.\n\n\ngradio_client dependencies in your environment:\n\nfsspec: 2024.10.0\nhttpx: 0.28.1\nhuggingface-hub: 0.30.2\npackaging: 24.2\ntyping-extensions: 4.12.2\nwebsockets: 15.0.1\n```\n\n### Severity\n\nI can work around it",
    "comments": [
      {
        "user": "dawoodkhan82",
        "body": "@rybakov-ks Hmm telegram uses normal `og:image` tags. Maybe it takes a bit longer to crawl this info. \n\nFrom a quick search online, can you try the suggestion below and let me know if you still see an issue?\n\n> You can use Telegram's [@webpagebot](https://telegram.me/webpagebot) to update the link preview of your site. Just start the chat and send it the link to your website."
      },
      {
        "user": "rybakov-ks",
        "body": "@dawoodkhan82 Thanks for the suggestion! Unfortunately, using @webpagebot didn't help - Telegram continues to display default meta tags .\n\nTelegram screenshot - shows it's still pulling default og: tags:\n![Image](https://github.com/user-attachments/assets/b802ddbf-fbb6-44ec-95ec-cd970db6a9c7)\n\nSame issue in VK.com - this social network also ignores the overridden tags.\n![Image](https://github.com/user-attachments/assets/702bb8f8-1bdd-45db-9e79-3dd2534c29d9)\n"
      },
      {
        "user": "Oncorporation",
        "body": "I am also not getting the desired result. After looking at the code update.. were you adding the meta tags to the system?\n\nIt seems like NOT having meta tags in the system by default would be preferred. My custom meta tags are being ignored in favor of generic meta og tags.\n\nAm I misunderstanding this?\n\n![Image](https://github.com/user-attachments/assets/df85633a-b436-4f31-a9dd-bded8f3f0040)"
      }
    ]
  },
  {
    "issue_number": 10885,
    "title": "Add column-specific filtering capabilities",
    "author": "hannahblair",
    "state": "open",
    "created_at": "2025-03-26T15:42:15Z",
    "updated_at": "2025-05-24T09:19:10Z",
    "labels": [
      "💾 Dataframe"
    ],
    "body": "**Describe the solution you'd like**  \n\nEnhance the dataframe with filtering options for each column, allowing users to quickly filter data based on specific criteria. ",
    "comments": [
      {
        "user": "tiago-gsantos",
        "body": "Hi @hannahblair !\nCould you please clarify the types of filters you'd like to support for each column and if you want advanced filtering with boolean combinations across multiple columns or just one filter per column?\nAlso, should filters be more visual (like Notion for example, with dropdowns), or expression-based (like Excel or Pandas, where users type conditions)?\nLastly, if you already have any ideas or preference in mind for how this could be implemented, I’d be happy to align with that!"
      },
      {
        "user": "Rafalex04",
        "body": "Hi @hannahblair !\nI'm also interested in this issue and planning to work on it with @tiago-gsantos, as we've discussed.\n\nWe'll start by implementing the most basic filters and, if everything goes well, gradually move on to more complex ones, assuming that works for you.\n\nIf you have any tips, suggestions, or concerns, please let us know!"
      }
    ]
  },
  {
    "issue_number": 11122,
    "title": "ChatInterface renders both default and custom Textbox components",
    "author": "mussonero",
    "state": "closed",
    "created_at": "2025-05-02T04:31:05Z",
    "updated_at": "2025-05-23T07:46:58Z",
    "labels": [
      "bug",
      "Priority"
    ],
    "body": "### Describe the bug\n\nWhen passing a custom Textbox component to gr.ChatInterface, both the default internal Textbox and the custom one are rendered. This leads to duplicated input fields, which is not expected behavior.\n\nExpected Behavior:\nOnly the custom Textbox should be rendered.\n\n\nThis may be a regression; the behavior was not observed in earlier versions **[gradio 5.23.2].**\n\n**Note:**\nthe same behavior when passing a custom components gr.Chatbot(),\n\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\n```python\nimport gradio as gr\n\npython_code = \"\"\"\ndef fib(n):\n    if n <= 0:\n        return 0\n    elif n == 1:\n        return 1\n    else:\n        return fib(n-1) + fib(n-2)\n\"\"\"\n\njs_code = \"\"\"\nfunction fib(n) {\n    if (n <= 0) return 0;\n    if (n === 1) return 1;\n    return fib(n - 1) + fib(n - 2);\n}\n\"\"\"\n\ndef chat(message, history):\n    if \"python\" in message.lower():\n        return \"Type Python or JavaScript to see the code.\", gr.Code(language=\"python\", value=python_code)\n    elif \"javascript\" in message.lower():\n        return \"Type Python or JavaScript to see the code.\", gr.Code(language=\"javascript\", value=js_code)\n    else:\n        return \"Please ask about Python or JavaScript.\", None\n\nwith gr.Blocks() as demo:\n    code = gr.Code(render=False)\n    input_message = gr.Textbox(\n        placeholder=\"Type here your question...\",\n        submit_btn=True,\n        autofocus=True\n     )\n    with gr.Row():\n        with gr.Column():\n            gr.Markdown(\"<center><h1>Write Python or JavaScript</h1></center>\")\n            gr.ChatInterface(\n                chat,\n                examples=[\"Python\", \"JavaScript\"],\n                additional_outputs=[code],\n                type=\"messages\",\n                textbox=input_message\n            )\n        with gr.Column():\n            gr.Markdown(\"<center><h1>Code Artifacts</h1></center>\")\n            code.render()\n\ndemo.launch()\n\n```\n\n\n### Screenshot\n\n![Image](https://github.com/user-attachments/assets/0fc3f780-1fa5-4d35-99e7-348777762b67)\n\n### Logs\n\n```shell\n\n```\n\n### System Info\n\n```shell\nGradio version: 5.29.0\n\nPython version: 3.12\n\nOS: Linux\n```\n\n### Severity\n\nBlocking usage of gradio",
    "comments": [
      {
        "user": "abidlabs",
        "body": "Strange, this seems to happen when the `gr.ChatInterface` is inside a `gr.Row`. Here's a simpler repro:\n\n```py\nimport gradio as gr\n\ndef chat(message, history):\n    return message\n\nwith gr.Blocks() as demo:\n    input_message = gr.Textbox(\n        placeholder=\"Type here your question...\",\n        submit_btn=True,\n        autofocus=True\n     )\n    with gr.Row():\n        gr.ChatInterface(\n            chat,\n            examples=[\"Python\", \"JavaScript\"],\n            type=\"messages\",\n            textbox=input_message\n        )\n\ndemo.launch()\n```"
      },
      {
        "user": "mussonero",
        "body": "I think the issue is here:\nhttps://github.com/gradio-app/gradio/blob/479fc28f804c674e3705763be199dacb0f5dca79/gradio/chat_interface.py#L251\n\n```python\nif isinstance(textbox, (Textbox, MultimodalTextbox)):\n       textbox.unrender()\nif isinstance(chatbot, Chatbot):\n       chatbot.unrender()\n```"
      },
      {
        "user": "abidlabs",
        "body": "Yes indeed but I don't see the error looking at those lines. Those lines should have unrendered the previous textbox and only included it inside `gr.ChatInterface`"
      }
    ]
  },
  {
    "issue_number": 9895,
    "title": "Too many arguments provided for the endpoint - JavaScript-Warning in browser console",
    "author": "machnicole",
    "state": "closed",
    "created_at": "2024-11-04T14:07:01Z",
    "updated_at": "2025-05-22T21:52:20Z",
    "labels": [
      "bug"
    ],
    "body": "### Describe the bug\r\n\r\nWhen launching a gradio application with `gradio.Chatbot` or `gradio.ChatInterface`, there is a JavaScript-Warning in the browser console every time a message is submitted:\r\n\r\n`Too many arguments provided for the endpoint.`\r\n\r\nYou can also see these warnings in the chatbot-boxes in the official [gradio documentation](https://www.gradio.app/guides/creating-a-chatbot-fast) or in the [gradio playground](https://www.gradio.app/playground?demo=Blank&code=aW1wb3J0IHRpbWUKaW1wb3J0IGdyYWRpbyBhcyBncgoKZGVmIHNsb3dfZWNobyhtZXNzYWdlLCBoaXN0b3J5KToKICAgIGZvciBpIGluIHJhbmdlKGxlbihtZXNzYWdlKSk6CiAgICAgICAgdGltZS5zbGVlcCgwLjA1KQogICAgICAgIHlpZWxkICJZb3UgdHlwZWQ6ICIgKyBtZXNzYWdlWzogaSArIDFdCgpkZW1vID0gZ3IuQ2hhdEludGVyZmFjZShzbG93X2VjaG8sIHR5cGU9Im1lc3NhZ2VzIikKCmlmIF9fbmFtZV9fID09ICJfX21haW5fXyI6CiAgICBkZW1vLmxhdW5jaCgpCg%3D%3D&reqs=).\r\n\r\nMy analysis so far:\r\n\r\nApparently, `endpoint_info` is undefined [here](https://github.com/gradio-app/gradio/blob/a1582a6dca494618c734208cade87acfdac91004/client/js/src/helpers/api_info.ts#L414). Therefore, the length of parameters can never correspond with those parameters that one tries to send.\r\nI also don't really understand about which endpoints all of this is, after all.\r\nAlso, I don't know what this \"/info\"-endpoint is that is referenced [here](https://github.com/gradio-app/gradio/blob/a1582a6dca494618c734208cade87acfdac91004/client/js/src/helpers/api_info.ts#L391).\r\nRegardless of the length of this parameter, the function in which it is located will always be terminated early, or the input data will be returned unchanged.\r\nHowever, the 'fix' that is now causing the warnings was likely introduced by [this commit](https://github.com/gradio-app/gradio/commit/5050b36221e75a18d8a5d4f74a725e70768a4c4a) / #8820.\r\n\r\nThere are no practical problems due to this warning in our chat applications. However, we don't really want to deploy anything that causes warnings.\r\nIs there a way to prevent this warning?\r\n\r\n\r\n### Have you searched existing issues?  🔎\r\n\r\n- [X] I have searched and found no existing issues\r\n\r\n### Reproduction\r\n\r\n```python\r\nimport random\r\nimport gradio as gr\r\n\r\n\r\ndef random_response(message, history):\r\n    return random.choice([\"Yes\", \"No\"])\r\n\r\ngr.ChatInterface(random_response, type=\"messages\").launch()\r\n```\r\n\r\n\r\n### Screenshot\r\n\r\n![image](https://github.com/user-attachments/assets/afd11f39-d64d-4196-92ec-a97da91e1251)\r\n\r\n\r\n### Logs\r\n\r\n```shell\r\napi_info.ts:422 Too many arguments provided for the endpoint.\r\nns @ api_info.ts:422\r\nRs @ submit.ts:72\r\nqe @ Blocks.svelte:344\r\nbe @ Blocks.svelte:301\r\nSl @ Blocks.svelte:294\r\nawait in Sl\r\nAt @ Blocks.svelte:218\r\n(anonymous) @ Blocks.svelte:644\r\nrequestAnimationFrame\r\n(anonymous) @ Blocks.svelte:643\r\n(anonymous) @ Blocks.svelte:642\r\ndispatch @ utils.ts:265\r\nV @ Index.svelte:93\r\n(anonymous) @ svelte.js:1966\r\n(anonymous) @ svelte.js:1965\r\nwe @ Textbox.svelte:123\r\napi_info.ts:422 Too many arguments provided for the endpoint.\r\nns @ api_info.ts:422\r\nRs @ submit.ts:72\r\nqe @ Blocks.svelte:344\r\nbe @ Blocks.svelte:301\r\nSl @ Blocks.svelte:294\r\nawait in Sl\r\n(anonymous) @ Blocks.svelte:212\r\nPromise.then\r\n(anonymous) @ Blocks.svelte:211\r\nn @ index.js:56\r\nV @ init.ts:360\r\nrequestAnimationFrame\r\nR @ init.ts:370\r\nCl @ Blocks.svelte:115\r\nZs @ Blocks.svelte:388\r\nqe @ Blocks.svelte:371\r\nawait in qe\r\nbe @ Blocks.svelte:301\r\nSl @ Blocks.svelte:294\r\nawait in Sl\r\nAt @ Blocks.svelte:218\r\n(anonymous) @ Blocks.svelte:644\r\nrequestAnimationFrame\r\n(anonymous) @ Blocks.svelte:643\r\n(anonymous) @ Blocks.svelte:642\r\ndispatch @ utils.ts:265\r\nV @ Index.svelte:93\r\n(anonymous) @ svelte.js:1966\r\n(anonymous) @ svelte.js:1965\r\nwe @ Textbox.svelte:123\r\nShow 1 more frame\r\nShow less\r\napi_info.ts:422 Too many arguments provided for the endpoint.\r\nns @ api_info.ts:422\r\nRs @ submit.ts:72\r\nqe @ Blocks.svelte:344\r\nbe @ Blocks.svelte:301\r\nSl @ Blocks.svelte:294\r\nawait in Sl\r\n(anonymous) @ Blocks.svelte:212\r\nPromise.then\r\n(anonymous) @ Blocks.svelte:211\r\nn @ index.js:56\r\nV @ init.ts:360\r\nrequestAnimationFrame\r\nR @ init.ts:370\r\n(anonymous) @ Blocks.svelte:607\r\n(anonymous) @ RenderComponent.svelte:37\r\n(anonymous) @ svelte.js:3273\r\nQ @ Index.svelte:67\r\ng @ Index.svelte:62\r\n(anonymous) @ svelte.js:3273\r\n(anonymous) @ Textbox.svelte:78\r\nflush @ svelte.js:2141\r\nPromise.then\r\nschedule_update @ svelte.js:2062\r\nmake_dirty @ svelte.js:3216\r\n(anonymous) @ svelte.js:3274\r\n(anonymous) @ Blocks.svelte:65\r\nn @ index.js:56\r\ni @ index.js:69\r\nV @ init.ts:337\r\nrequestAnimationFrame\r\nR @ init.ts:370\r\nCl @ Blocks.svelte:115\r\nZs @ Blocks.svelte:388\r\nqe @ Blocks.svelte:371\r\nawait in qe\r\nbe @ Blocks.svelte:301\r\nSl @ Blocks.svelte:294\r\nawait in Sl\r\nAt @ Blocks.svelte:218\r\n(anonymous) @ Blocks.svelte:644\r\nrequestAnimationFrame\r\n(anonymous) @ Blocks.svelte:643\r\n(anonymous) @ Blocks.svelte:642\r\ndispatch @ utils.ts:265\r\nV @ Index.svelte:93\r\n(anonymous) @ svelte.js:1966\r\n(anonymous) @ svelte.js:1965\r\nwe @ Textbox.svelte:123\r\nShow 3 more frames\r\nShow less\r\n```\r\n\r\n\r\n### System Info\r\n\r\n```shell\r\nGradio Environment Information:\r\n------------------------------\r\nOperating System: Darwin\r\ngradio version: 5.4.0\r\ngradio_client version: 1.4.2\r\n\r\n------------------------------------------------\r\ngradio dependencies in your environment:\r\n\r\naiofiles: 23.2.1\r\nanyio: 4.6.2.post1\r\naudioop-lts is not installed.\r\nfastapi: 0.115.4\r\nffmpy: 0.4.0\r\ngradio-client==1.4.2 is not installed.\r\nhttpx: 0.27.2\r\nhuggingface-hub: 0.26.2\r\njinja2: 3.1.4\r\nmarkupsafe: 2.1.5\r\nnumpy: 2.1.3\r\norjson: 3.10.11\r\npackaging: 24.1\r\npandas: 2.2.3\r\npillow: 11.0.0\r\npydantic: 2.9.2\r\npydub: 0.25.1\r\npython-multipart==0.0.12 is not installed.\r\npyyaml: 6.0.2\r\nruff: 0.7.2\r\nsafehttpx: 0.1.1\r\nsemantic-version: 2.10.0\r\nstarlette: 0.41.2\r\ntomlkit==0.12.0 is not installed.\r\ntyper: 0.12.5\r\ntyping-extensions: 4.12.2\r\nurllib3: 2.2.3\r\nuvicorn: 0.32.0\r\nauthlib; extra == 'oauth' is not installed.\r\nitsdangerous; extra == 'oauth' is not installed.\r\n\r\n\r\ngradio_client dependencies in your environment:\r\n\r\nfsspec: 2024.10.0\r\nhttpx: 0.27.2\r\nhuggingface-hub: 0.26.2\r\npackaging: 24.1\r\ntyping-extensions: 4.12.2\r\nwebsockets: 12.0\r\n```\r\n\r\n\r\n### Severity\r\n\r\nI can work around it",
    "comments": [
      {
        "user": "ROBERT-MCDOWELL",
        "body": "same here with simple checkbox and JSON objects"
      },
      {
        "user": "dnl6959",
        "body": "Me too, same error in edge. But it's effecting the loading indicator also in edge. Firefox seems to be working fine thought. "
      },
      {
        "user": "MaxKruse",
        "body": "same issue here. chrome only. cache, resets, incognito etc do not help.\n\nEDIT:\n\nTurns out a failed updating on the side of UBlock Origin can cause this. reinstalling the extension and forcing it to be off fixed it.\n\nEDIT2: Nevermind, it worked for about 5 seconds."
      }
    ]
  },
  {
    "issue_number": 11245,
    "title": "How to get the gr.textbox's value?",
    "author": "yangming915",
    "state": "closed",
    "created_at": "2025-05-22T13:07:00Z",
    "updated_at": "2025-05-22T20:12:18Z",
    "labels": [
      "bug"
    ],
    "body": "### Describe the bug\n\nin the version 5.29.1,I can update the textbox's value with event function then I can use the new textbox's value,like that: textbox.change(lambda x:x,textbox,textbox) then v=textbox.value.\nBut in new version 5.30.0,the textbox.value will never update with the way above.It's a new feature or a bug?\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\n```python\nimport gradio as gr\nwith gr.Blocks() as app:\n    t1=gr.Textbox(interactive=True)\n    t1.change(lambda x:x,inputs=t1,outputs=t1)\n    def __get_text__():\n        return t1.value\n    def __ret_text__(x):\n        return x\n    t2=gr.Textbox()\n    btn1=gr.Button(\"ret_text\")\n    btn1.click(__ret_text__,inputs=t1,outputs=t2)\n\n    btn2=gr.Button(\"get_text_value\")\n    btn2.click(__get_text__,outputs=t2)\n\napp.launch()\n```\n\n\n### Screenshot\n\n_No response_\n\n### Logs\n\n```shell\n\n```\n\n### System Info\n\n```shell\nwin10 amd64\n```\n\n### Severity\n\nI can work around it",
    "comments": [
      {
        "user": "freddyaboulton",
        "body": "Hi @yangming915 ! I am not sure what changed but accessing the textbox value in that way is not supported. You can pass the textbox as input to your event to have the latest value passed to your function. \n\n"
      }
    ]
  },
  {
    "issue_number": 11242,
    "title": "The prop `show_indices` of `gr.JSON` doesn't work - indicies in lists are still shown",
    "author": "ExcellentAmericanEagle",
    "state": "closed",
    "created_at": "2025-05-22T10:43:10Z",
    "updated_at": "2025-05-22T18:55:15Z",
    "labels": [
      "bug"
    ],
    "body": "### Describe the bug\n\nThe `gr.JSON` component has a prop `show_indices`, which according to the docs affects:\n\n> Whether to show numerical indices when displaying the elements of a list within the JSON object.\n\nIt's set to `False` by default - but indices are still shown in lists\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\n```python\nimport gradio as gr\n\ndemo = gr.Interface(\n    inputs=[\n        gr.JSON(label=\"JSON\", value=[1, 2, 3]),\n        gr.JSON(label=\"JSON\", show_indices=False, value=[1, 2, 3]),\n        gr.JSON(\n            label=\"JSON\", show_indices=False, value={\"a\": [1, 2, 3], \"b\": {\"c\": [4, 5]}}\n        ),\n    ],\n    outputs=[],\n    fn=lambda x: x\n)\n\ndemo.launch()\n```\n\n\n### Screenshot\n\n![Image](https://github.com/user-attachments/assets/70115283-da84-4589-949a-2803a4882c58)\n\n### Logs\n\n```shell\n\n```\n\n### System Info\n\n```shell\nGradio Environment Information:\n------------------------------\nOperating System: Windows\ngradio version: 5.29.0\ngradio_client version: 1.10.0\n\n------------------------------------------------\ngradio dependencies in your environment:\n\naiofiles: 24.1.0\nanyio: 4.9.0\naudioop-lts: 0.2.1\nfastapi: 0.115.12\nffmpy: 0.5.0\ngradio-client: 1.10.0\ngroovy: 0.1.2\nhttpx: 0.28.1\nhuggingface-hub: 0.31.2\njinja2: 3.1.6\nmarkupsafe: 3.0.2\nnumpy: 2.2.5\norjson: 3.10.18\npackaging: 25.0\npandas: 2.2.3\npillow: 11.2.1\npydantic: 2.11.4\npydub: 0.25.1\npython-multipart: 0.0.20\npyyaml: 6.0.2\nruff: 0.11.9\nsafehttpx: 0.1.6\nsemantic-version: 2.10.0\nstarlette: 0.46.2\ntomlkit: 0.13.2\ntyper: 0.15.3\ntyping-extensions: 4.13.2\nurllib3: 2.4.0\nuvicorn: 0.34.2\nmcp is not installed.\npydantic: 2.11.4\nauthlib is not installed.\nitsdangerous is not installed.\n\n\ngradio_client dependencies in your environment:\n\nfsspec: 2025.3.2\nhttpx: 0.28.1\nhuggingface-hub: 0.31.2\npackaging: 25.0\ntyping-extensions: 4.13.2\nwebsockets: 15.0.1\n```\n\n### Severity\n\nI can work around it",
    "comments": []
  },
  {
    "issue_number": 11234,
    "title": "Markdown and HTML Components have different indentation",
    "author": "mitanshu7",
    "state": "closed",
    "created_at": "2025-05-21T11:40:18Z",
    "updated_at": "2025-05-22T18:05:30Z",
    "labels": [
      "bug"
    ],
    "body": "### Describe the bug\n\nIs this intended behavior?\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\n```python\nimport gradio as gr\n\nwith gr.Blocks() as demo:\n    gr.HTML('<h1>HTML heading 1</h1>')\n    gr.Markdown('# Markdown heading 1')\n\n    gr.HTML('<h2>HTML heading 2</h2>')\n    gr.Markdown('## Markdown heading 2')\n\n    gr.HTML('<h3>HTML heading 3</h3>')    \n    gr.Markdown('### Markdown heading 3')\n\n    gr.HTML('HTML Normal text')\n    gr.Markdown('Markdown Normal text')\n\ndemo.launch()\n```\n\n\n### Screenshot\n\n![Image](https://github.com/user-attachments/assets/79516bd6-b9bd-413e-9280-166769a2ee23)\n\n### Logs\n\n```shell\n\n```\n\n### System Info\n\n```shell\nGradio Environment Information:\n------------------------------\nOperating System: Linux\ngradio version: 5.30.0\ngradio_client version: 1.10.1\n\n------------------------------------------------\ngradio dependencies in your environment:\n\naiofiles: 24.1.0\nanyio: 4.9.0\naudioop-lts: 0.2.1\nfastapi: 0.115.12\nffmpy: 0.5.0\ngradio-client: 1.10.1\ngroovy: 0.1.2\nhttpx: 0.28.1\nhuggingface-hub: 0.31.4\njinja2: 3.1.6\nmarkupsafe: 3.0.2\nnumpy: 2.2.6\norjson: 3.10.18\npackaging: 25.0\npandas: 2.2.3\npillow: 11.2.1\npydantic: 2.11.4\npydub: 0.25.1\npython-multipart: 0.0.20\npyyaml: 6.0.2\nruff: 0.11.10\nsafehttpx: 0.1.6\nsemantic-version: 2.10.0\nstarlette: 0.46.2\ntomlkit: 0.13.2\ntyper: 0.15.4\ntyping-extensions: 4.13.2\nurllib3: 2.4.0\nuvicorn: 0.34.2\nmcp is not installed.\npydantic: 2.11.4\nauthlib is not installed.\nitsdangerous is not installed.\n\n\ngradio_client dependencies in your environment:\n\nfsspec: 2025.5.0\nhttpx: 0.28.1\nhuggingface-hub: 0.31.4\npackaging: 25.0\ntyping-extensions: 4.13.2\nwebsockets: 15.0.1\n```\n\n### Severity\n\nI can work around it",
    "comments": []
  },
  {
    "issue_number": 8368,
    "title": "Long-running tasks require open connection, looking for polling solution",
    "author": "mberco-quandl",
    "state": "open",
    "created_at": "2024-05-23T14:48:29Z",
    "updated_at": "2025-05-22T17:26:11Z",
    "labels": [
      "enhancement"
    ],
    "body": "- [ YES] I have searched to see if a similar issue already exists.\r\n\r\n\r\n**Is your feature request related to a problem? Please describe.**  \r\nI have an API that is responsible for returning payloads to inform the caller about a long running task.  I need a way to defer that polling for a result is being done on the client side (javascript) something like:\r\n[client] -> /done_yet/:task_id -> gradio-app -> /done_yet/:task_id -> API (can report on long-running task)\r\n\r\n**Describe the solution you'd like**  \r\nthe API would return a payload indicating status, and pass this info to the FE that can continue to wait until certain criteria are met. Since the payload is arbitrary, I'll need a way to define when the client should stop. What's the best way to accomplish handling some polling, as websockets aren't an option at the moment.\r\n\r\nAs far as I can tell Gradio uses exclusively websockets, including with the `every` parameter which would otherwise seem like a natural choice for polling.\r\n\r\n**Additional context**  \r\nThis issue arises because of networking policies that forbid websockets being open indefinitely.\r\n",
    "comments": [
      {
        "user": "abidlabs",
        "body": "Hi @mberco-quandl we'll need more information to understand this feature request. How are you currently using Gradio (via the UI or programmatically?). Can you provide a representative Gradio app to help us understand your use case?\r\n\r\nFYI, as of Gradio 4.0, Gradio uses SSE instead of websockets exclusively."
      },
      {
        "user": "mberco-quandl",
        "body": "Thank you very much for responding. Below is a FE I am working on for users to upload files which get processed by an API maintained by another team. This API employs a producer-consumer framework (user uploads input to first endpoint and the API responds with a task-id, then the user then polls a queue at a separate endpoint for status, then gathers the result once status is complete). Side note, this also illustrates the difficulty in instantiating a gr.File() object as an output as discussed in [this thread](https://github.com/gradio-app/gradio/issues/8098#issuecomment-2127338314).\r\n\r\n\r\n```python\r\nwith gr.Blocks(\r\n    title=\"A UI to Submit Tasks to a Producer-Consumer API That Performs Classification Using AI\",\r\n    delete_cache=(\r\n        CACHE_CLEAR_FREQUENCY_SECONDS,\r\n        CACHE_CLEAR_FILE_AGE_SECONDS,\r\n    ),\r\n) as interface:\r\n    with gr.Row():\r\n        with gr.Column():\r\n            user_api_key_input = gr.Text(\r\n                label=\"Insert your API key here:\",\r\n                value=\"\",\r\n                visible=True,\r\n                type=\"password\",\r\n            )\r\n            potential_matches_selection_input = gr.Dropdown(\r\n                choices=[str(num) for num in range(1, 6)],\r\n                value=\"1\",\r\n                label=\"Number of Potential Matches Returned Per Input Row\",\r\n                visible=True,\r\n            )\r\n            csv_upload = gr.File(\r\n                file_count=\"single\",\r\n                file_types=[\"csv\"],\r\n                label=\"Upload utf-8 encoded csv file here:\",\r\n            )\r\n            csv_as_json = gr.Text(\r\n                label=\"json representation of csv upload\",\r\n                info=\"hidden from user\",\r\n                interactive=False,\r\n                visible=False,\r\n            )\r\n            submit_button = gr.Button(value=\"Submit Request\")\r\n\r\n        with gr.Column():\r\n            task_id_text = gr.Text(\r\n                label=\"Task ID of latest submitted task\",\r\n                info=\"hidden from user\",\r\n                interactive=False,\r\n                visible=False,\r\n            )\r\n            output_status = gr.Text(\r\n                label=\"Output text: \",\r\n                interactive=False,\r\n                value=\"\",\r\n                show_copy_button=True,\r\n                visible=False,\r\n            )\r\n            output_csv = gr.File(\r\n                label=\"Output file (csv):\",\r\n                file_count=\"single\",\r\n                file_types=[\"csv\"],\r\n                visible=True, \r\n            )\r\n            output_json = gr.JSON(label=\"Output JSON: \")\r\n            output_dataframe = gr.DataFrame(\r\n                type=\"pandas\",\r\n                label=\"Output Table: \",\r\n                visible=True,\r\n                interactive=False,\r\n            )\r\n            output_tempfile_path = gr.Text(\r\n                visible=False, interactive=False, value=\"\", info=\"hidden from user\"\r\n            )\r\n\r\n    def convert_csv_to_json_then_delete(csv_upload):\r\n        data = []\r\n        with open(csv_upload, \"r\", encoding=\"utf-8-sig\") as file:\r\n            reader = csv.reader(file)\r\n            headers = next(reader)\r\n            for row in reader:\r\n                row_data = {}\r\n                for j, value in enumerate(row):\r\n                    row_data[headers[j]] = value\r\n                data.append(row_data)\r\n        os.remove(csv_upload)\r\n        return json.dumps(data)\r\n\r\n    def submit_api_call_receive_task_id(\r\n        csv_as_json,\r\n        potential_matches_selection_input,\r\n        user_api_key_input,\r\n    ):\r\n        headers = {\r\n            \"Content-Type\": \"application/json\",\r\n            \"X-Api-Token\": user_api_key_input,\r\n        }\r\n        data = {\r\n            \"input_data\": json.loads(csv_as_json),\r\n            \"num_records\": potential_matches_selection_input,\r\n        }\r\n        response = requests.post(\r\n            SKILL_API_ROUTE, headers=headers, json=data, verify=False\r\n        )\r\n        return json.loads(response.text)[\"task_id\"], gr.Button(\r\n            value=\"Request processing (flashing orange)...\", interactive=False\r\n        )\r\n\r\n    def query_for_task_status(\r\n        task_id_text,\r\n        csv_as_json,\r\n        user_api_key_input,\r\n    ):\r\n        if not task_id_text:\r\n            return \"\", None, \"\"\r\n        headers = {\"X-Api-Token\": user_api_key_input}\r\n        response = requests.get(\r\n            SKILL_TASK_STATUS_ROUTE + task_id_text,\r\n            headers=headers,\r\n            verify=False,\r\n        )\r\n        task = json.loads(response.text)\r\n        if not task[\"ready\"]:\r\n            return \"\", None, None\r\n        if task[\"successful\"]:\r\n            text_response = task[\"response\"][\"output_data\"]\r\n            df_output = pd.DataFrame(text_response)\r\n            df_input = pd.DataFrame(json.loads(csv_as_json))\r\n            df_output = pd.merge(df_output, df_input, on=\"uuid\", how=\"left\")\r\n            return text_response, df_output, text_response\r\n        return \"The task failed. Please contact support.\", None, None\r\n\r\n    def create_tempfile_and_gradio_file(output_dataframe):\r\n        output_name = f\"{SKILL}_{dt.datetime.now().strftime('%Y-%m-%d_%H:%M:%S')}.csv\"  # specify TZ?\r\n        output_dataframe.to_csv(output_name)\r\n        return output_name, output_name\r\n\r\n    def delete_tempfile(filepath):\r\n        os.remove(filepath)\r\n        return \"\"\r\n\r\n    def stop_trigger_sequence_and_update_button():\r\n        return gr.Button(\r\n            value=\"Processing complete. Please refresh page to submit another request.\",\r\n            interactive=False,\r\n        )\r\n\r\n    csv_upload.upload(\r\n        convert_csv_to_json_then_delete, inputs=csv_upload, outputs=csv_as_json\r\n    )\r\n\r\n    trigger_sequence = submit_button.click(\r\n        submit_api_call_receive_task_id,\r\n        inputs=[\r\n            csv_as_json,\r\n            potential_matches_selection_input,\r\n            user_api_key_input,\r\n        ],\r\n        outputs=[task_id_text, submit_button],\r\n    ).then(\r\n        query_for_task_status,\r\n        inputs=[\r\n            task_id_text,\r\n            csv_as_json,\r\n            user_api_key_input,\r\n        ],\r\n        outputs=[output_status, output_dataframe, output_json],\r\n        every=QUERY_FREQUENCY_SECONDS,\r\n    )\r\n\r\n    output_status.change(\r\n        stop_trigger_sequence_and_update_button,\r\n        outputs=submit_button,\r\n        cancels=trigger_sequence,\r\n    ).then(\r\n        create_tempfile_and_gradio_file,\r\n        inputs=output_dataframe,\r\n        outputs=[output_csv, output_tempfile_path],\r\n    ).then(\r\n        delete_tempfile, inputs=output_tempfile_path, outputs=output_tempfile_path\r\n    )\r\n   "
      },
      {
        "user": "bleakprestiger",
        "body": "Is this feature implemented ?"
      }
    ]
  },
  {
    "issue_number": 11199,
    "title": "MCP server missing some parameters",
    "author": "abidlabs",
    "state": "closed",
    "created_at": "2025-05-14T21:32:19Z",
    "updated_at": "2025-05-22T16:40:22Z",
    "labels": [
      "bug",
      "Priority"
    ],
    "body": "### Describe the bug\n\nAs reported by @gary149, in https://huggingface.co/spaces/Lightricks/ltx-video-distilled, the MCP server only lists 12 of the 14 parameters, leading to this error:\n\n![Image](https://github.com/user-attachments/assets/5a03d9fc-3d9a-4819-bffc-fc937cce532b)\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\nhttps://huggingface.co/spaces/Lightricks/ltx-video-distilled\n\n### Screenshot\n\n_No response_\n\n### Logs\n\n```shell\n\n```\n\n### System Info\n\n```shell\nSee https://huggingface.co/spaces/Lightricks/ltx-video-distilled\n```\n\n### Severity\n\nBlocking usage of gradio",
    "comments": [
      {
        "user": "abidlabs",
        "body": "Ah it's because of `gr.State`"
      }
    ]
  },
  {
    "issue_number": 9134,
    "title": "Scrollbar in gradio chatbot not automatically moving to the bottom after update",
    "author": "alvelvis",
    "state": "closed",
    "created_at": "2024-08-17T00:03:11Z",
    "updated_at": "2025-05-22T16:04:39Z",
    "labels": [
      "bug",
      "Regression"
    ],
    "body": "### Describe the bug\r\n\r\nI was using version 4.37.1, where the chatbot scrollbar would automatically go to the bottom whenever there's new interaction.\r\n\r\nBut then I looked for the bugfix you did here #8865, so I updated to 4.39.0, and now the scroll bar won't move to the bottom of the chatbot automatically anymore. I tried the latest release as well. Code for reproduction below.\r\n\r\n### Have you searched existing issues?  🔎\r\n\r\n- [X] I have searched and found no existing issues\r\n\r\n### Reproduction\r\n\r\n```python\r\nimport gradio as gr\r\nwith gr.Blocks() as demo:\r\n    chatbot = gr.Chatbot(\r\n                    value=[[None, f\"Olá\"]],\r\n                    show_label=False,\r\n                    avatar_images=[None, \"https://st5.depositphotos.com/72897924/62255/v/450/depositphotos_622556394-stock-illustration-robot-web-icon-vector-illustration.jpg\"],\r\n                    likeable=True,\r\n                    )\r\n                \r\n    chatbot.like(lambda x: x, inputs=[chatbot], outputs=None)\r\n    query_input = gr.Textbox(label=\"Pergunta\", placeholder=\"Digite aqui sua pergunta e então pressione Enter\", elem_id=\"query_input\")\r\n\r\n    on_submit = lambda y, x: x + [[\"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\", \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\"]]\r\n\r\n    submit = {'fn': on_submit, 'inputs':[query_input, chatbot], 'outputs':[chatbot]}\r\n    query_input.submit(**submit)\r\n\r\n    gr.Examples(examples=[\r\n        [\"a\"],\r\n        [\"b\"],\r\n        [\"c\"],\r\n        [\"d\"]], \r\n    **submit, run_on_click=True, label=\"Exemplos\")\r\n\r\n    submit_btn = gr.Button('Try')\r\n    submit_btn.click(**submit)\r\n\r\ndemo.launch()\r\n```\r\n\r\n\r\n### Screenshot\r\n\r\n_No response_\r\n\r\n### Logs\r\n\r\n_No response_\r\n\r\n### System Info\r\n\r\n```shell\r\nGradio Environment Information:\r\n------------------------------\r\nOperating System: Linux\r\ngradio version: 4.39.0\r\ngradio_client version: 1.1.1\r\n\r\n------------------------------------------------\r\ngradio dependencies in your environment:\r\n\r\naiofiles: 23.2.1\r\nanyio: 4.4.0\r\nfastapi: 0.111.0\r\nffmpy: 0.3.2\r\ngradio-client==1.1.1 is not installed.\r\nhttpx: 0.27.0\r\nhuggingface-hub: 0.23.4\r\nimportlib-resources: 6.4.0\r\njinja2: 3.1.4\r\nmarkupsafe: 2.1.5\r\nmatplotlib: 3.9.1\r\nnumpy: 1.26.4\r\norjson: 3.10.6\r\npackaging: 24.1\r\npandas: 2.2.2\r\npillow: 10.4.0\r\npydantic: 2.8.2\r\npydub: 0.25.1\r\npython-multipart: 0.0.9\r\npyyaml: 6.0.1\r\nruff: 0.5.1\r\nsemantic-version: 2.10.0\r\ntomlkit==0.12.0 is not installed.\r\ntyper: 0.12.3\r\ntyping-extensions: 4.12.2\r\nurllib3: 2.2.2\r\nuvicorn: 0.30.1\r\nauthlib; extra == 'oauth' is not installed.\r\nitsdangerous; extra == 'oauth' is not installed.\r\n\r\n\r\ngradio_client dependencies in your environment:\r\n\r\nfsspec: 2024.6.1\r\nhttpx: 0.27.0\r\nhuggingface-hub: 0.23.4\r\npackaging: 24.1\r\ntyping-extensions: 4.12.2\r\nwebsockets: 11.0.3\r\n```\r\n\r\n\r\n### Severity\r\n\r\nBlocking usage of gradio",
    "comments": [
      {
        "user": "abidlabs",
        "body": "cc @dawoodkhan82"
      },
      {
        "user": "savvaki",
        "body": "I can confirm this is an issue"
      },
      {
        "user": "letmaik",
        "body": "Confirmed as well. Worked in 4.37.1 and broke with 4.37.2."
      }
    ]
  },
  {
    "issue_number": 11216,
    "title": "Model3D keeps resetting its camera position",
    "author": "ErikRtvl",
    "state": "closed",
    "created_at": "2025-05-16T12:59:48Z",
    "updated_at": "2025-05-21T16:32:24Z",
    "labels": [
      "bug",
      "Priority"
    ],
    "body": "### Describe the bug\n\nI am trying to use the camera_position feature. However, it does seem to use the position after loading the app/component, but then immediately resets to the 0,0,0 position for some reason.\n\nI tried different GradIO versions, looked around in this repo's issue page, but could not find similar issues. Maybe it has to do with my setup (running a local demo).\n\nHope you have a solution or can reproduce this bug! Many thanks for your help.\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\n```python\nimport gradio as gr\nimport pathlib\n\n\nPATH = pathlib.Path(__file__).parent\n\n\ndef update(name):\n    return f\"Welcome to Gradio, {name}!\"\n\ndef make_mdl(camera_pos):\n    return gr.Model3D(value=str(PATH.joinpath('Duck.glb')), camera_position=camera_pos, label='3D', height=500, interactive=False, clear_color=[0.0, 0.0, 0.0, 0.0])\n\n\ntTOTAL = 0\n\nwith gr.Blocks() as demo:\n    gr.Markdown(\"Nice 3D View\")\n    mdl = make_mdl((45.0, 45.0, None))\n    t = gr.Timer(value=2.0)\n\n    @t.tick(inputs=[t], outputs=[mdl])\n    def update_geometry(x):\n        print(x)\n        global tTOTAL\n        tTOTAL += 10\n        return make_mdl((tTOTAL, 45, None))\n\n\ndemo.launch()\n\n```\n\n\n### Screenshot\n\nI made a video to show the issue:\n[See the video of the resetting shape](https://nextcloud.marin.nl/index.php/s/9TS6Qg4dzdSJjsg)\n\n### Logs\n\n```shell\n\n```\n\n### System Info\n\n```shell\nI tried Gradio versions 5.29, 5.25 and 5.24. All suffer from this issue.\nTried in both Chrome and Edge, same results...\n```\n\n### Severity\n\nBlocking usage of gradio",
    "comments": [
      {
        "user": "ErikRtvl",
        "body": "To add more info, I also tried this piece of code with the latest version of gradio (5.29) but not working:\n\n[Ensure camera settings only update when necessary in Model3D](https://github.com/gradio-app/gradio/pull/6871)"
      },
      {
        "user": "abidlabs",
        "body": "I see this as well, cc @dawoodkhan82 for visibility.\n\nHere's a simpler repro:\n\n```py\nimport gradio as gr\n\nTOTAL = 0\n\nwith gr.Blocks() as demo:\n    gr.Markdown(\"Nice 3D View\")\n    t = gr.Timer(value=2.0)\n    m = gr.Model3D(value='box.obj', label='3D', height=500, interactive=False, clear_color=[0.0, 0.0, 0.0, 0.0])\n\n    @t.tick(inputs=[t], outputs=[m])\n    def update_geometry(x):\n        global TOTAL\n        TOTAL += 10\n        camera_position = (TOTAL, 45, 1)\n        print(camera_position)\n        return gr.Model3D(camera_position=camera_position)\n\n\ndemo.launch()\n```"
      }
    ]
  },
  {
    "issue_number": 11225,
    "title": "Erro while Connectin MCP server",
    "author": "kauabh",
    "state": "closed",
    "created_at": "2025-05-20T03:47:35Z",
    "updated_at": "2025-05-21T16:08:23Z",
    "labels": [
      "bug",
      "Priority"
    ],
    "body": "### Describe the bug\n\nWhile to trying to connect with Gradio MCP server [code](https://www.gradio.app/guides/building-mcp-server-with-gradio) Getting below error. Even though atleast in Gradio UI tool work as it suppose to be.\n\n```\nError in post_writer: Client error '404 Not Found' for url 'http://127.0.0.1:7860/gradio_api/mcp/gradio_api/mcp/messages/?session_id=ed478fc640e247fbbb6b171c58de322b'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404\n```\nPydantic-AI code used\n\n\n```\nfrom pydantic_ai import Agent\nfrom pydantic_ai.mcp import MCPServerHTTP\nimport asyncio \n\nserver = MCPServerHTTP(url='http://127.0.0.1:7860/gradio_api/mcp/sse')  \nagent = Agent(model=model, mcp_servers=[server])  \n\n\nasync def main():\n    async with agent.run_mcp_servers():  \n        result = await agent.run('Count word for Hello')\n    print(result.output)\n\nasyncio.run(main())\n```\nThe response on pydantic-ai gihub [issue](https://github.com/pydantic/pydantic-ai/issues/1757#event-17722963409) is following\n\nAny advice on this.\n\n`It looks like the URL is being built incorrectly: http://127.0.0.1:7860/gradio_api/mcp/gradio_api/mcp/messages/?session_id=ed478fc640e247fbbb6b171c58de322b should be http://127.0.0.1:7860/gradio_api/mcp/messages/?session_id=ed478fc640e247fbbb6b171c58de322b\n`\n\n\n\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\n```python\nimport gradio as gr\n\n```\n\n\n### Screenshot\n\n_No response_\n\n### Logs\n\n```shell\n\n```\n\n### System Info\n\n```shell\nLatest Version of Gradio\n```\n",
    "comments": [
      {
        "user": "abidlabs",
        "body": "Hi @kauabh I don't think this a Gradio-related issue. You can check by starting the Gradio app as an MCP server, and then connecting to it using the official inspector tool: https://modelcontextprotocol.io/docs/tools/inspector. I just checked on the latest version of Gradio and it worked fine. \n\nIf you are still seeing an issue, please post a complete but minimal repro, including the Gradio app that you are trying to launch. "
      },
      {
        "user": "kauabh",
        "body": "Hey @abidlabs i have added the link to the code in description, it is default code from Gradio. The issue is while using pydantic-AI. Also linked the issue that I raised there and views they have around this \n\n```\nimport gradio as gr\n\ndef letter_counter(word, letter):\n    \"\"\"\n    Count the number of occurrences of a letter in a word or text.\n\n    Args:\n        word (str): The input text to search through\n        letter (str): The letter to search for\n\n    Returns:\n        str: A message indicating how many times the letter appears\n    \"\"\"\n    word = word.lower()\n    letter = letter.lower()\n    count = word.count(letter)\n    return count\n\ndemo = gr.Interface(\n    fn=letter_counter,\n    inputs=[\"textbox\", \"textbox\"],\n    outputs=\"number\",\n    title=\"Letter Counter\",\n    description=\"Enter text and a letter to count how many times the letter appears in the text.\"\n)\n\nif __name__ == \"__main__\":\n    demo.launch(mcp_server=True)\n```\n"
      },
      {
        "user": "jake-seong",
        "body": "Hi, @abidlabs \nI'm currently using an MCP server deployed on Hugging Face, and at some point it started exhibiting the same symptoms. \nIt appears that both subpath and routepath are being applied simultaneously, resulting in URL paths in the format /gradio_api/mcp/gradio_api/mcp/.... This duplication needs to be investigated.\n\nWhen accessing Hugging Face using curl, the result appears as follows:\nevent: endpoint\ndata: /gradio_api/mcp/gradio_api/mcp/messages/?session_id=xxx"
      }
    ]
  },
  {
    "issue_number": 11219,
    "title": "Incorrect Messages path generation",
    "author": "mqian-coding",
    "state": "closed",
    "created_at": "2025-05-17T20:44:11Z",
    "updated_at": "2025-05-21T16:08:23Z",
    "labels": [
      "bug",
      "Priority",
      "pending clarification"
    ],
    "body": "### Describe the bug\n\nThis causes /gradio_api/mcp/sse to return the incorrect path for data: field\n\nmessages_path = f\"{subpath}/messages/\"\n\nReproduce with the Hugging Face Server Example.\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\nimport gradio as gr\nfrom textblob import TextBlob\n\ndef sentiment_analysis(text: str) -> dict:\n    \"\"\"\n    Analyze the sentiment of the given text.\n\n    Args:\n        text (str): The text to analyze\n\n    Returns:\n        dict: A dictionary containing polarity, subjectivity, and assessment\n    \"\"\"\n    blob = TextBlob(text)\n    sentiment = blob.sentiment\n    \n    return {\n        \"polarity\": round(sentiment.polarity, 2),  # -1 (negative) to 1 (positive)\n        \"subjectivity\": round(sentiment.subjectivity, 2),  # 0 (objective) to 1 (subjective)\n        \"assessment\": \"positive\" if sentiment.polarity > 0 else \"negative\" if sentiment.polarity < 0 else \"neutral\"\n    }\n\n# Create the Gradio interface\ndemo = gr.Interface(\n    fn=sentiment_analysis,\n    inputs=gr.Textbox(placeholder=\"Enter text to analyze...\"),\n    outputs=gr.JSON(),\n    title=\"Text Sentiment Analysis\",\n    description=\"Analyze the sentiment of text using TextBlob\"\n)\n\n# Launch the interface and MCP server\nif __name__ == \"__main__\":\n    demo.launch(mcp_server=True)\n\n### Screenshot\n\n_No response_\n\n### Logs\n\n```shell\n\n```\n\n### System Info\n\n```shell\nGradio Environment Information:\n------------------------------\nOperating System: Darwin\ngradio version: 5.29.1\ngradio_client version: 1.10.1\n\n------------------------------------------------\ngradio dependencies in your environment:\n\naiofiles: 23.2.1\nanyio: 4.9.0\naudioop-lts is not installed.\nfastapi: 0.115.12\nffmpy: 0.5.0\ngradio-client: 1.10.1\ngroovy: 0.1.2\nhttpx: 0.28.1\nhuggingface-hub: 0.31.2\njinja2: 3.1.6\nmarkupsafe: 2.1.5\nnumpy: 1.26.4\norjson: 3.10.18\npackaging: 25.0\npandas: 2.2.3\npillow: 10.4.0\npydantic: 2.11.4\npydub: 0.25.1\npython-multipart: 0.0.20\npyyaml: 6.0.2\nruff: 0.11.10\nsafehttpx: 0.1.6\nsemantic-version: 2.10.0\nstarlette: 0.46.2\ntomlkit: 0.12.0\ntyper: 0.15.4\ntyping-extensions: 4.13.2\nurllib3: 2.4.0\nuvicorn: 0.34.2\nmcp: 1.9.0\npydantic: 2.11.4\nauthlib is not installed.\nitsdangerous is not installed.\n\n\ngradio_client dependencies in your environment:\n\nfsspec: 2025.3.2\nhttpx: 0.28.1\nhuggingface-hub: 0.31.2\npackaging: 25.0\ntyping-extensions: 4.13.2\nwebsockets: 12.0\n```\n\n### Severity\n\nI can work around it",
    "comments": [
      {
        "user": "abidlabs",
        "body": "@mqian-coding can you explain what you mean by this:\n\n> This causes /gradio_api/mcp/sse to return the incorrect path for data: field\n\nWhere are you seeing this error exactly?"
      }
    ]
  },
  {
    "issue_number": 9971,
    "title": "[Gradio 5] Input text inside Slider component alignment and size",
    "author": "elismasilva",
    "state": "closed",
    "created_at": "2024-11-16T18:06:19Z",
    "updated_at": "2025-05-21T14:55:53Z",
    "labels": [
      "bug"
    ],
    "body": "- [x] I have searched to see if a similar issue already exists.\r\n\r\n\r\n**Is your feature request related to a problem? Please describe.**  \r\nI like the input insid of slider component when aligned by default to the right, but when info text is present, sometimes the input down to the left in next line. Its could be nice if we have too other attribute to specify the size of input text and other to specify his alignment.\r\n\r\n**Describe the solution you'd like**  \r\nHere are one solution i did using external css:\r\n\r\n```python\r\nimport gradio as gr\r\n\r\ncss=\"\"\"\r\n.gradio-slider-input {\r\n    input[type=\"number\"] {\r\n        width:  8em;\r\n    }\r\n}\r\n.slider-input-right > .wrap > .head {   \r\n    display: flex;    \r\n}\r\n.slider-input-right > .wrap > .head > .tab-like-container {   \r\n    margin-left: auto;    \r\n}\r\n\"\"\"\r\n#css=\"\" #uncomment this line to test without css\r\n\r\nwith gr.Blocks(css=css) as app:          \r\n    with gr.Row():\r\n        with gr.Column():\r\n            freeu_s1_scale = gr.Slider(                                                        \r\n                elem_classes=\"gradio-slider-input slider-input-right\",\r\n                interactive=False,\r\n                label=\"S1 scale\",\r\n                minimum=0.1,\r\n                maximum=1.0,\r\n                step=0.1,\r\n                value=0.9,\r\n                info=\"Scaling factor to prevent over-smoothing during image generation in stage 1 of the diffusion process\"\r\n            )                                                    \r\n        with gr.Column():\r\n            freeu_s2_scale = gr.Slider(\r\n                elem_classes=\"gradio-slider-input slider-input-right\",\r\n                interactive=False,\r\n                label=\"S2 scale\",\r\n                minimum=0.1,\r\n                maximum=1.0,\r\n                step=0.1,\r\n                value=0.2,\r\n                info=\"Scale factor to prevent over-smoothing during image generation in stage 2 of the diffusion process\"\r\n            ) \r\n        with gr.Column():\r\n            freeu_b1_scale = gr.Slider(\r\n                elem_classes=\"gradio-slider-input slider-input-right\",\r\n                interactive=False,\r\n                label=\"B1 scale\",\r\n                minimum=1.0,\r\n                maximum=1.2,\r\n                step=0.1,\r\n                value=1.2,\r\n                info=\"Scaling factor for stage 1 to amplify the contributions of backbone features\"\r\n            )  \r\n        with gr.Column():\r\n            freeu_b2_scale = gr.Slider(\r\n                elem_classes=\"gradio-slider-input slider-input-right\",\r\n                interactive=False,\r\n                label=\"B2 scale\",\r\n                minimum=1.2,\r\n                maximum=1.6,\r\n                step=0.1,\r\n                value=1.4,\r\n                info=\"Scaling factor for stage 2 to amplify the contributions of backbone features\"\r\n            )  \r\n\r\napp.launch(inbrowser=True)\r\n```\r\n\r\n\r\n**Screenshots**  \r\n\r\n**Default (without css)** \r\n![image](https://github.com/user-attachments/assets/0eebcb0c-465b-4125-a617-2f0997159c5e)\r\n\r\n\r\n**Aligned to the right and input text changed**\r\n![image](https://github.com/user-attachments/assets/f76ccbe3-1f76-4115-a0eb-5e1502f01930)\r\n\r\n\r\n",
    "comments": []
  },
  {
    "issue_number": 11235,
    "title": "typing in dropdown with allow_custom_value = False",
    "author": "branaway",
    "state": "closed",
    "created_at": "2025-05-21T13:21:48Z",
    "updated_at": "2025-05-21T14:21:07Z",
    "labels": [
      "bug"
    ],
    "body": "### Describe the bug\n\nI assume it should not allow one to type when allow_custom_value == False. It actually allows me to type even if it reject my value.  A big usability issue in mobile since it will bring up the onscreen keyboard to cover lots of space.\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\n```python\nimport gradio as gr\n\n```\n\n\n### Screenshot\n\n_No response_\n\n### Logs\n\n```shell\n\n```\n\n### System Info\n\n```shell\nversion 5.30.1, MacOS, Python 13\n```\n\n### Severity\n\nI can work around it",
    "comments": [
      {
        "user": "dawoodkhan82",
        "body": "we have a param called `filterable`. If both `allow_custom_values` and `filterable` are set to `false`, then the keyboard will not show up."
      }
    ]
  },
  {
    "issue_number": 11139,
    "title": "3D models in Model3D is not well visible in light mode",
    "author": "whitphx",
    "state": "open",
    "created_at": "2025-05-05T10:17:03Z",
    "updated_at": "2025-05-20T20:47:03Z",
    "labels": [
      "bug"
    ],
    "body": "### Describe the bug\n\nSample: https://huggingface.co/spaces/Zhengyi/CRM\nDark:\n![Image](https://github.com/user-attachments/assets/c71b42a5-6918-4d56-a07b-6866f9f390f2)\nLight:\n![Image](https://github.com/user-attachments/assets/32f14b81-b739-4c2b-a2bc-3b77f579c66d)\n\n### Have you searched existing issues?  🔎\n\n- [x] I have searched and found no existing issues\n\n### Reproduction\n\nhttps://huggingface.co/spaces/Zhengyi/CRM\n\n### Screenshot\n\n_No response_\n\n### Logs\n\n```shell\n\n```\n\n### System Info\n\n```shell\nsdk: gradio\nsdk_version: 4.21.0\n```\n\n### Severity\n\nI can work around it",
    "comments": [
      {
        "user": "dawoodkhan82",
        "body": "@whitphx so we do provide a param to change the background scene color. But I guess we should change the default to a neutral light gray.\n\n`clear_color: background color of scene, should be a tuple of 4 floats between 0 and 1 representing RGBA values`\n"
      }
    ]
  },
  {
    "issue_number": 11109,
    "title": "Autoscroll when previous chat history provided to Chatbot",
    "author": "jbencina",
    "state": "closed",
    "created_at": "2025-04-30T15:13:11Z",
    "updated_at": "2025-05-20T20:39:28Z",
    "labels": [
      "enhancement",
      "Priority"
    ],
    "body": "- [x] I have searched to see if a similar issue already exists.\n\n\n**Is your feature request related to a problem? Please describe.**  \nWhen adding historical chat interactions to `Chatbot`, the launched session starts at the top. Ideally it should start with the last provided message. I wasn't able to figure out the correct Javascript to implement this behavior.\n\nUsing \n```\ngradio             5.27.1\ngradio-client      1.9.1\n```\n\nExample I'm working with\n\n```python\n    history = load_history()\n\n    bot = gr.Chatbot(value=history, type=\"messages\")\n\n    with gr.Blocks(theme=gr.themes.Base()) as demo:\n        gr.ChatInterface(\n            fn=process_prompt,\n            type=\"messages\",\n            chatbot=bot,\n        )\n\n        demo.launch()\n```\n\n**Describe the solution you'd like**  \nThe `autoscroll` function should account for initial values\n\n",
    "comments": [
      {
        "user": "jbencina",
        "body": "I was able to eventually get this to work using the suggested JS here https://github.com/gradio-app/gradio/issues/8253#issuecomment-2360980933, but it would still be helpful if this was automatic"
      },
      {
        "user": "dawoodkhan82",
        "body": "I'm not sure I agree that it should scroll to the bottom in this case. For example, when loading a chatbot with a default value (history), wouldn't it be nice if the user can see the start of the conversation? Also we do show an arrow a user can easily click to scroll to bottom.\n\n<img width=\"1002\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/5a65d272-e4de-4bba-8447-1aae4ace9b51\" />"
      },
      {
        "user": "abidlabs",
        "body": "agreed, I don't think we'll change this behavior"
      }
    ]
  },
  {
    "issue_number": 10275,
    "title": "No way to disable clear button in gr.Chatbot",
    "author": "git-hamza",
    "state": "closed",
    "created_at": "2025-01-02T08:44:53Z",
    "updated_at": "2025-05-20T10:14:04Z",
    "labels": [
      "bug",
      "pending clarification"
    ],
    "body": "### Describe the bug\n\nI am using gr.chatbot and I don't need the clear button, but there is no way to disable or deactivate it in the fucntion gr.chatbot.\n\n### Have you searched existing issues?  🔎\n\n- [X] I have searched and found no existing issues\n\n### Reproduction\n\n```python\r\nimport gradio as gr\r\n\r\nwith gr.Blocks() as demo:\r\n    chatbot = gr.Chatbot()\r\n    msg = gr.Textbox()\r\n\r\n    def respond(message, chat_history):\r\n        bot_message = random.choice([\"How are you?\", \"I love you\", \"I'm very hungry\"])\r\n        chat_history.append((message, bot_message))\r\n        time.sleep(2)\r\n        return \"\", chat_history\r\n\r\n    msg.submit(respond, [msg, chatbot], [msg, chatbot])\r\n\r\nif __name__ == \"__main__\":\r\n    demo.launch()\r\n\r\n```\r\n\n\n### Screenshot\n\n_No response_\n\n### Logs\n\n_No response_\n\n### System Info\n\n```shell\nRunning it on windows and using gradio latest version.\n```\n\n\n### Severity\n\nBlocking usage of gradio",
    "comments": [
      {
        "user": "abidlabs",
        "body": "Hi @git-hamza can you explain why you need to disable the clear button? "
      },
      {
        "user": "git-hamza",
        "body": "I was using pretty old version of gradio and designed my UI according to that, I had a separate clear button in my chatbot anyway so wanted to disable this one. But looks like this one makes more sense. I had to tweak my UI a bit. \r\nThankyou."
      },
      {
        "user": "eaxts",
        "body": "how to solve it?"
      }
    ]
  },
  {
    "issue_number": 8503,
    "title": "Cancelled generators do only get closed after gradio exits.",
    "author": "potamides",
    "state": "open",
    "created_at": "2024-06-07T22:08:41Z",
    "updated_at": "2025-05-20T02:02:38Z",
    "labels": [
      "bug",
      "python",
      "Priority"
    ],
    "body": "### Describe the bug\n\nResources inside generators are properly freed when the generator is exhausted. But if we cancel the generator before that happens, the resource is held until gradio exits. I would expect that the generator should get garbage collected and closed eventually (freeing resources), but it seems that there are still references to the generator object somewhere so this doesn't happen. In the provided minimum example this is not so problematic, but in my actual application tensors are not freed which will slowly lead to a Cuda OOM.\n\n### Have you searched existing issues?  🔎\n\n- [X] I have searched and found no existing issues\n\n### Reproduction\n\n```python\r\nfrom tempfile import TemporaryDirectory\r\nimport gradio as gr\r\n\r\ndef create_tmpdir():\r\n    with TemporaryDirectory() as tmpdir:\r\n        print(tmpdir)\r\n        while True:\r\n            yield\r\n\r\nwith gr.Blocks() as demo:\r\n    run_btn = gr.Button()\r\n    stop_btn = gr.Button(\"Stop\")\r\n\r\n    event = run_btn.click(create_tmpdir)\r\n    stop_btn.click(None, cancels=event) # tmpdir persists until we exit gradio\r\n    demo.queue().launch()\r\n```\r\n\n\n### Screenshot\n\n_No response_\n\n### Logs\n\n_No response_\n\n### System Info\n\n```shell\nGradio Environment Information:\r\n------------------------------\r\nOperating System: Linux\r\ngradio version: 4.36.0\r\ngradio_client version: 1.0.1\r\n\r\n------------------------------------------------\r\ngradio dependencies in your environment:\r\n\r\naiofiles: 23.2.1\r\naltair: 5.3.0\r\nfastapi: 0.111.0\r\nffmpy: 0.3.2\r\ngradio-client==1.0.1 is not installed.\r\nhttpx: 0.27.0\r\nhuggingface-hub: 0.23.3\r\nimportlib-resources: 6.4.0\r\njinja2: 3.1.4\r\nmarkupsafe: 2.1.5\r\nmatplotlib: 3.9.0\r\nnumpy: 1.26.4\r\norjson: 3.10.3\r\npackaging: 24.0\r\npandas: 2.2.2\r\npillow: 10.3.0\r\npydantic: 2.7.3\r\npydub: 0.25.1\r\npython-multipart: 0.0.9\r\npyyaml: 6.0.1\r\nruff: 0.4.8\r\nsemantic-version: 2.10.0\r\ntomlkit==0.12.0 is not installed.\r\ntyper: 0.12.3\r\ntyping-extensions: 4.12.2\r\nurllib3: 2.2.1\r\nuvicorn: 0.30.1\r\nauthlib; extra == 'oauth' is not installed.\r\nitsdangerous; extra == 'oauth' is not installed.\r\n\r\n\r\ngradio_client dependencies in your environment:\r\n\r\nfsspec: 2024.6.0\r\nhttpx: 0.27.0\r\nhuggingface-hub: 0.23.3\r\npackaging: 24.0\r\ntyping-extensions: 4.12.2\r\nwebsockets: 11.0.3\n```\n\n\n### Severity\n\nBlocking usage of gradio",
    "comments": [
      {
        "user": "potamides",
        "body": "To clarify more, I think the behavior I would expect would be to call the `.close()` method of the generator in question immediately after it is cancelled."
      },
      {
        "user": "freddyaboulton",
        "body": "Thanks for filing @potamides ! Would you like to open a PR?"
      },
      {
        "user": "potamides",
        "body": "Sure, if someone can give me some pointers where to look at I would be happy to do that. For starters, I tried adding something like `app.iterators[event_id].iterator.close()` to the following locations, but this didn't seem to work:\r\n\r\nhttps://github.com/gradio-app/gradio/blob/d429690611eacd7b19cf4609332b0c12c93a1591/gradio/queueing.py#L653-L655\r\n\r\nhttps://github.com/gradio-app/gradio/blob/d429690611eacd7b19cf4609332b0c12c93a1591/gradio/routes.py#L826-L828"
      }
    ]
  },
  {
    "issue_number": 9364,
    "title": "Choice updates to dropdowns are forgotten when component is re-renderred with a key",
    "author": "QuantumTM",
    "state": "closed",
    "created_at": "2024-09-16T16:34:53Z",
    "updated_at": "2025-05-20T02:02:02Z",
    "labels": [
      "bug",
      "Priority"
    ],
    "body": "### Describe the bug\r\n\r\n#### Observed Issue\r\nDropdown components 'forget' any updated choices they may have received when re-renderred (using gr.render) even though they are key'd. This causes the options to no longer be populated/selectable, and the value to also be drop (see below for caveats)\r\n\r\n#### Additional Notes/Testing\r\nThe value of the effected dropdown is visually lost, but updating the dropdown to have the choices it had before the re-render appears to restore the value to what it was previously. Tweaking the reproduction script to output the dropdown value (via button click) show the value is still set, and adding `allow_custom_value=True` to the dropdown avoids the visual lose of the selected value. Notable, no warning is raised when `allow_custom_value=False` even thought the selected value is not in the choices (not sure if it would be expected in this case).\r\n\r\n#### related issues\r\nThere's no directly related issues, but this issue might share the same root cause as https://github.com/gradio-app/gradio/issues/9207 though I think the effect of this is different enough to warrant its own issue.\r\n\r\n### Have you searched existing issues?  🔎\r\n\r\n- [X] I have searched and found no existing issues\r\n\r\n### Reproduction\r\n\r\n```python\r\nimport gradio as gr\r\n\r\n\r\ndropdown_letter = ['a', 'w']\r\ndropdown_cont = {'a': ['b', 'c', 'd', 'e'], 'w': ['x', 'y', 'z']}\r\n\r\n\r\ndef main():\r\n    with gr.Blocks() as demo:\r\n        items = gr.State(0)\r\n\r\n        with gr.Column():\r\n            def add_item(items_value):\r\n                return items_value + 1\r\n\r\n            button = gr.Button('Add item')\r\n            button.click(add_item, inputs=[items], outputs=[items])\r\n\r\n            @gr.render(items)\r\n            def _(item_count):\r\n                for i in range(item_count):\r\n                    with gr.Row():\r\n                        d_letter = gr.Dropdown(choices=dropdown_letter, label='Type', key=f'letter_{i}')\r\n                        d_cont = gr.Dropdown(label='Value', interactive=True, key=f'cont_{i}')\r\n\r\n                        def dd_change(d_letter_value):\r\n                            if not d_letter_value:\r\n                                return None\r\n                            return gr.Dropdown(choices=dropdown_cont[d_letter_value], key=f'cont_{i}')\r\n\r\n                        d_letter.change(\r\n                            dd_change,\r\n                            inputs=[d_letter],\r\n                            outputs=[d_cont]\r\n                        )\r\n\r\n    demo.launch()\r\n\r\n\r\nif __name__ == '__main__':\r\n    main()\r\n\r\n```\r\n\r\n\r\n### Screenshot\r\n\r\n_No response_\r\n\r\n### Logs\r\n\r\n_No response_\r\n\r\n### System Info\r\n\r\n```shell\r\nGradio Environment Information:\r\n------------------------------\r\nOperating System: Linux\r\ngradio version: 4.44.0\r\ngradio_client version: 1.3.0\r\n\r\n------------------------------------------------\r\ngradio dependencies in your environment:\r\n\r\naiofiles: 23.2.1\r\nanyio: 4.4.0\r\nfastapi: 0.114.2\r\nffmpy: 0.4.0\r\ngradio-client==1.3.0 is not installed.\r\nhttpx: 0.27.2\r\nhuggingface-hub: 0.24.7\r\nimportlib-resources: 6.4.5\r\njinja2: 3.1.4\r\nmarkupsafe: 2.1.5\r\nmatplotlib: 3.9.2\r\nnumpy: 2.1.1\r\norjson: 3.10.7\r\npackaging: 24.1\r\npandas: 2.2.2\r\npillow: 10.4.0\r\npydantic: 2.9.1\r\npydub: 0.25.1\r\npython-multipart: 0.0.9\r\npyyaml: 6.0.2\r\nruff: 0.6.5\r\nsemantic-version: 2.10.0\r\ntomlkit==0.12.0 is not installed.\r\ntyper: 0.12.5\r\ntyping-extensions: 4.12.2\r\nurllib3: 2.2.3\r\nuvicorn: 0.30.6\r\nauthlib; extra == 'oauth' is not installed.\r\nitsdangerous; extra == 'oauth' is not installed.\r\n\r\n\r\ngradio_client dependencies in your environment:\r\n\r\nfsspec: 2024.9.0\r\nhttpx: 0.27.2\r\nhuggingface-hub: 0.24.7\r\npackaging: 24.1\r\ntyping-extensions: 4.12.2\r\nwebsockets: 12.0\r\n```\r\n\r\n\r\n### Severity\r\n\r\nBlocking usage of gradio\r\n\r\n\r\n(edit: formatting)",
    "comments": [
      {
        "user": "justintemps",
        "body": "Having the same issue."
      },
      {
        "user": "abidlabs",
        "body": "Hi folks, this should be fixed in `gradio==5.30` based on this PR: https://github.com/gradio-app/gradio/pull/11206\n\nYou will need to set `preserved_by_key=[\"value\", \"choices\"]` in `gr.Dropdown`"
      }
    ]
  }
]